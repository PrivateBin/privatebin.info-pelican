(function(){var e={};e.dev=!1,e.tooltip=e.tooltip||{},e.utils=e.utils||{},e.models=e.models||{},e.charts={},e.logs={},e.dom={},e.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(e){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var s=Array.prototype.slice.call(arguments,1),o=this,t=function(){},n=function(){return o.apply(this instanceof t&&e?this:e,s.concat(Array.prototype.slice.call(arguments)))};return t.prototype=this.prototype,n.prototype=new t,n}),e.dev&&(e.dispatch.on("render_start",function(){e.logs.startTime=+new Date}),e.dispatch.on("render_end",function(){e.logs.endTime=+new Date,e.logs.totalTime=e.logs.endTime-e.logs.startTime,e.log("total",e.logs.totalTime)})),e.log=function(){if(e.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(e.dev&&window.console&&typeof console.log=="function"&&Function.prototype.bind){var t=Function.prototype.bind.call(console.log,console);t.apply(console,arguments)}return arguments[arguments.length-1]},e.deprecated=function(e,t){console&&console.warn&&console.warn("nvd3 warning: `"+e+"` has been deprecated. ",t||"")},e.render=function(n){n=n||1,e.render.active=!0,e.dispatch.render_start();var s=function(){for(var t,i,o=0;o<n&&(t=e.render.queue[o]);o++)i=t.generate(),typeof t.callback==typeof Function&&t.callback(i);e.render.queue.splice(0,o),e.render.queue.length?setTimeout(s):(e.dispatch.render_end(),e.render.active=!1)};setTimeout(s)},e.render.active=!1,e.render.queue=[],e.addGraph=function(t){typeof arguments[0]===typeof Function&&(t={generate:arguments[0],callback:arguments[1]}),e.render.queue.push(t),e.render.active||e.render()},typeof module!="undefined"&&typeof exports!="undefined"&&(module.exports=e),typeof window!="undefined"&&(window.nv=e),e.dom.write=function(e){return window.fastdom!==void 0?fastdom.write(e):e()},e.dom.read=function(e){return window.fastdom!==void 0?fastdom.read(e):e()},e.interactiveGuideline=function(){"use strict";s=e.models.tooltip(),s.duration(0).hideDelay(0)._isInteractiveLayer(!0).hidden(!1);var s,a=null,r=null,n={left:0,top:0},c=d3.scale.linear(),o=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick"),l=!0,i=null,d="ActiveXObject"in window;function t(u){u.each(function(u){var p=d3.select(this),g=a||960,m=r||400,f=p.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([u]),v=f.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer");if(v.append("g").attr("class","nv-interactiveGuideLine"),!i)return;function h(){var a,r=d3.mouse(this),e=r[0],i=r[1],l=!0,u=!1;if(d&&(e=d3.event.offsetX,i=d3.event.offsetY,d3.event.target.tagName!=="svg"&&(l=!1),d3.event.target.className.baseVal.match("nv-legend")&&(u=!0)),l&&(e-=n.left,i-=n.top),e<0||i<0||e>g||i>m||d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===void 0||u){if(d&&d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===void 0&&(d3.event.relatedTarget.className===void 0||d3.event.relatedTarget.className.match(s.nvPointerEventsClass)))return;o.elementMouseout({mouseX:e,mouseY:i}),t.renderGuideLine(null),s.hidden(!0);return}s.hidden(!1),a=c.invert(e),o.elementMousemove({mouseX:e,mouseY:i,pointXValue:a}),d3.event.type==="dblclick"&&o.elementDblclick({mouseX:e,mouseY:i,pointXValue:a}),d3.event.type==="click"&&o.elementClick({mouseX:e,mouseY:i,pointXValue:a})}i.on("touchmove",h).on("mousemove",h,!0).on("mouseout",h,!0).on("dblclick",h).on("click",h),t.guideLine=null,t.renderGuideLine=function(n){if(!l)return;if(t.guideLine&&t.guideLine.attr("x1")===n)return;e.dom.write(function(){var t=f.select(".nv-interactiveGuideLine").selectAll("line").data(n!=null?[e.utils.NaNtoZero(n)]:[],String);t.enter().append("line").attr("class","nv-guideline").attr("x1",function(e){return e}).attr("x2",function(e){return e}).attr("y1",m).attr("y2",0),t.exit().remove()})}})}return t.dispatch=o,t.tooltip=s,t.margin=function(e){return arguments.length?(n.top=typeof e.top!="undefined"?e.top:n.top,n.left=typeof e.left!="undefined"?e.left:n.left,t):n},t.width=function(e){return arguments.length?(a=e,t):a},t.height=function(e){return arguments.length?(r=e,t):r},t.xScale=function(e){return arguments.length?(c=e,t):c},t.showGuideLine=function(e){return arguments.length?(l=e,t):l},t.svgContainer=function(e){return arguments.length?(i=e,t):i},t},e.interactiveBisect=function(e,t,n){"use strict";if(!(e instanceof Array))return null;typeof n!="function"?s=function(e){return e.x}:s=n;var s,a,r,c=function(e,t){return s(e)-t},l=d3.bisector(c).left,o=d3.max([0,l(e,t)-1]),i=s(e[o]);return typeof i=="undefined"&&(i=o),i===t?o:(a=d3.min([o+1,e.length-1]),r=s(e[a]),typeof r=="undefined"&&(r=a),Math.abs(r-t)>=Math.abs(i-t)?o:a)},e.nearestValueIndex=function(e,t,n){"use strict";var s=1/0,o=null;return e.forEach(function(e,i){var a=Math.abs(t-e);e!=null&&a<=s&&a<n&&(s=a,o=i)}),o},function(){"use strict";e.models.tooltip=function(){var h=null,b="w",o=25,c=0,l=null,d=null,n=null,u=!0,p=400,i=null,t=null,s={left:null,top:null},r={left:0,top:0},y=!0,m=100,g=!0,v=!1,C="nvtooltip-"+Math.floor(Math.random()*1e5),j="nv-pointer-events-none",f=function(e){return e},_=function(e){return e},w=function(e){return e},O=function(e){if(e===null)return"";var t,s,o,i,n=d3.select(document.createElement("table"));return g&&(o=n.selectAll("thead").data([e]).enter().append("thead"),o.append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(_(e.value))),i=n.selectAll("tbody").data([e]).enter().append("tbody"),t=i.selectAll("tr").data(function(e){return e.series}).enter().append("tr").classed("highlight",function(e){return e.highlight}),t.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(e){return e.color}),t.append("td").classed("key",!0).html(function(e,t){return w(e.key,t)}),t.append("td").classed("value",!0).html(function(e,t){return f(e.value,t)}),t.selectAll("td").each(function(e){if(e.highlight){var t=d3.scale.linear().domain([0,1]).range(["#fff",e.color]),n=.6;d3.select(this).style("border-bottom-color",t(n)).style("border-top-color",t(n))}}),s=n.node().outerHTML,e.footer!==void 0&&(s+="<div class='footer'>"+e.footer+"</div>"),s},E=function(e){if(e&&e.series){if(e.series instanceof Array)return!!e.series.length;if(e.series instanceof Object)return e.series=[e.series],!0}return!1},x=function(n){if(!t)return;e.dom.read(function(){var s,a,c,d,w,O,x,C,E,v=parseInt(t.offsetHeight,10),h=parseInt(t.offsetWidth,10),j=e.utils.windowSize().width,f=e.utils.windowSize().height,l=window.pageYOffset,g=window.pageXOffset,f=window.innerWidth>=document.body.scrollWidth?f:f-16,j=window.innerHeight>=document.body.scrollHeight?j:j-16,y=function(e){var t=s;do isNaN(e.offsetTop)||(t+=e.offsetTop),e=e.offsetParent;while(e)return t},_=function(e){var t=a;do isNaN(e.offsetLeft)||(t+=e.offsetLeft),e=e.offsetParent;while(e)return t};switch(b){case"e":a=n[0]-h-o,s=n[1]-v/2,d=_(t),c=y(t),d<g&&(a=n[0]+o>g?n[0]+o:g-d+a),c<l&&(s=l-c+s),c+v>l+f&&(s=l+f-c+s-v);break;case"w":a=n[0]+o,s=n[1]-v/2,d=_(t),c=y(t),d+h>j&&(a=n[0]-h-o),c<l&&(s=l+5),c+v>l+f&&(s=l+f-c+s-v);break;case"n":a=n[0]-h/2-5,s=n[1]+o,d=_(t),c=y(t),d<g&&(a=g+5),d+h>j&&(a=a-h/2+5),c+v>l+f&&(s=l+f-c+s-v);break;case"s":a=n[0]-h/2,s=n[1]-v-o,d=_(t),c=y(t),d<g&&(a=g+5),d+h>j&&(a=a-h/2+5),l>c&&(s=l);break;case"none":a=n[0],s=n[1]-o,d=_(t),c=y(t);break}a-=r.left,s-=r.top,w=t.getBoundingClientRect(),l=window.pageYOffset||document.documentElement.scrollTop,g=window.pageXOffset||document.documentElement.scrollLeft,x="translate("+(w.left+g)+"px, "+(w.top+l)+"px)",O="translate("+a+"px, "+s+"px)",C=d3.interpolateString(x,O),E=i.style("opacity")<.1,u?i.transition().delay(p).duration(0).style("opacity",0):i.interrupt().transition().duration(E?0:m).styleTween("transform",function(){return C},"important").style("-webkit-transform",O).style("opacity",1)})};function k(){if(n){var t,o,e=d3.select(n);e.node().tagName!=="svg"&&(e=e.select("svg")),t=e.node()?e.attr("viewBox"):null,t&&(t=t.split(" "),o=parseInt(e.style("width"),10)/t[2],s.left=s.left*o,s.top=s.top*o)}}function A(){if(!i){var e;n?e=n:e=document.body,i=d3.select(e).append("div").attr("class","nvtooltip "+(d||"xy-tooltip")).attr("id",C),i.style("top",0).style("left",0),i.style("opacity",0),i.selectAll("div, table, td, tr").classed(j,!0),i.classed(j,!0),t=i.node()}}function a(){if(!y)return;if(!E(h))return;k();var i=s.left,o=l!==null?l:s.top;return e.dom.write(function(){A();var s=O(h);s&&(t.innerHTML=s),n&&v?e.dom.read(function(){var e,s,a,l,r=n.getElementsByTagName("svg")[0],t={left:0,top:0};r&&(s=r.getBoundingClientRect(),a=n.getBoundingClientRect(),e=s.top,e<0&&(l=n.getBoundingClientRect(),e=Math.abs(e)>l.height?0:e),t.top=Math.abs(e-a.top),t.left=Math.abs(s.left-a.left)),i+=n.offsetLeft+t.left-2*n.scrollLeft,o+=n.offsetTop+t.top-2*n.scrollTop,c&&c>0&&(o=Math.floor(o/c)*c),x([i,o])}):x([i,o])}),a}return a.nvPointerEventsClass=j,a.options=e.utils.optionsFunc.bind(a),a._options=Object.create({},{duration:{get:function(){return m},set:function(e){m=e}},gravity:{get:function(){return b},set:function(e){b=e}},distance:{get:function(){return o},set:function(e){o=e}},snapDistance:{get:function(){return c},set:function(e){c=e}},classes:{get:function(){return d},set:function(e){d=e}},chartContainer:{get:function(){return n},set:function(e){n=e}},fixedTop:{get:function(){return l},set:function(e){l=e}},enabled:{get:function(){return y},set:function(e){y=e}},hideDelay:{get:function(){return p},set:function(e){p=e}},contentGenerator:{get:function(){return O},set:function(e){O=e}},valueFormatter:{get:function(){return f},set:function(e){f=e}},headerFormatter:{get:function(){return _},set:function(e){_=e}},keyFormatter:{get:function(){return w},set:function(e){w=e}},headerEnabled:{get:function(){return g},set:function(e){g=e}},_isInteractiveLayer:{get:function(){return v},set:function(e){v=!!e}},position:{get:function(){return s},set:function(e){s.left=e.left!==void 0?e.left:s.left,s.top=e.top!==void 0?e.top:s.top}},offset:{get:function(){return r},set:function(e){r.left=e.left!==void 0?e.left:r.left,r.top=e.top!==void 0?e.top:r.top}},hidden:{get:function(){return u},set:function(e){u!=e&&(u=!!e,a())}},data:{get:function(){return h},set:function(e){e.point&&(e.value=e.point.x,e.series=e.series||{},e.series.value=e.point.y,e.series.color=e.point.color||e.series.color),h=e}},tooltipElem:{get:function(){return t},set:function(){}},id:{get:function(){return C},set:function(){}}}),e.utils.initOptions(a),a}}(),e.utils.windowSize=function(){var e={width:640,height:480};return window.innerWidth&&window.innerHeight?(e.width=window.innerWidth,e.height=window.innerHeight,e):document.compatMode=="CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth?(e.width=document.documentElement.offsetWidth,e.height=document.documentElement.offsetHeight,e):document.body&&document.body.offsetWidth?(e.width=document.body.offsetWidth,e.height=document.body.offsetHeight,e):e},e.utils.windowResize=function(t){return window.addEventListener?window.addEventListener("resize",t):e.log("ERROR: Failed to bind to window.resize with: ",t),{callback:t,clear:function(){window.removeEventListener("resize",t)}}},e.utils.getColor=function(t){if(t===void 0)return e.utils.defaultColor();if(Array.isArray(t)){var n=d3.scale.ordinal().range(t);return function(e,t){var s=t===void 0?e:t;return e.color||n(s)}}return t},e.utils.defaultColor=function(){return e.utils.getColor(d3.scale.category20().range())},e.utils.customTheme=function(e,t,n){t=t||function(e){return e.key},n=n||d3.scale.category20().range();var s=n.length;return function(o){var a=t(o);return typeof e[a]=="function"?e[a]():e[a]!==void 0?e[a]:(s||(s=n.length),s=s-1,n[s])}},e.utils.pjax=function(t,n){var s=function(s){d3.html(s,function(s){var o=d3.select(n).node();o.parentNode.replaceChild(d3.select(s).select(n).node(),o),e.utils.pjax(t,n)})};d3.selectAll(t).on("click",function(){history.pushState(this.href,this.textContent,this.href),s(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&s(d3.event.state)})},e.utils.calcApproxTextWidth=function(e){if(typeof e.style=="function"&&typeof e.text=="function"){var t=parseInt(e.style("font-size").replace("px",""),10),n=e.text().length;return n*t*.5}return 0},e.utils.NaNtoZero=function(e){return typeof e!="number"||isNaN(e)||e===null||e===1/0||e===-(1/0)?0:e},d3.selection.prototype.watchTransition=function(e){var t=[this].concat([].slice.call(arguments,1));return e.transition.apply(e,t)},e.utils.renderWatch=function(t,n){if(!(this instanceof e.utils.renderWatch))return new e.utils.renderWatch(t,n);var o=n!==void 0?n:250,s=[],i=this;this.models=function(e){return e=[].slice.call(arguments,0),e.forEach(function(e){e.__rendered=!1,function(e){e.dispatch.on("renderEnd",function(){e.__rendered=!0,i.renderEnd("model")})}(e),s.indexOf(e)<0&&s.push(e)}),this},this.reset=function(e){e!==void 0&&(o=e),s=[]},this.transition=function(e,t,n){if(t=arguments.length>1?[].slice.call(arguments,1):[],t.length>1?n=t.pop():n=o!==void 0?o:250,e.__rendered=!1,s.indexOf(e)<0&&s.push(e),n===0)return e.__rendered=!0,e.delay=function(){return this},e.duration=function(){return this},e;e.length===0?e.__rendered=!0:e.every(function(e){return!e.length})?e.__rendered=!0:e.__rendered=!1;var a=0;return e.transition().duration(n).each(function(){++a}).each("end",function(){--a===0&&(e.__rendered=!0,i.renderEnd.apply(this,t))})},this.renderEnd=function(){s.every(function(e){return e.__rendered})&&(s.forEach(function(e){e.__rendered=!1}),t.renderEnd.apply(this,arguments))}},e.utils.deepExtend=function(t){var n=arguments.length>1?[].slice.call(arguments,1):[];n.forEach(function(n){for(s in n){var s,a=t[s]instanceof Array,o=typeof t[s]=="object",i=typeof n[s]=="object";o&&!a&&i?e.utils.deepExtend(t[s],n[s]):t[s]=n[s]}})},e.utils.state=function(){if(!(this instanceof e.utils.state))return new e.utils.state;var i,n={},r=this,s=function(){},o=function(){return{}},t=null,a=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(e){s(e,!0)}),this.getter=function(e){return o=e,this},this.setter=function(e,t){return t||(t=function(){}),s=function(n,s){e(n),s&&t()},this},this.init=function(n){t=t||{},e.utils.deepExtend(t,n)},i=function(){var e,t=o();if(JSON.stringify(t)===JSON.stringify(n))return!1;for(e in t)n[e]===void 0&&(n[e]={}),n[e]=t[e],a=!0;return!0},this.update=function(){t&&(s(t,!1),t=null),i.call(this)&&this.dispatch.change(n)}},e.utils.optionsFunc=function(e){return e&&d3.map(e).forEach(function(e,t){typeof this[e]=="function"&&this[e](t)}.bind(this)),this},e.utils.calcTicksX=function(t,n){var i,s=1,o=0;for(o;o<n.length;o+=1)i=n[o]&&n[o].values?n[o].values.length:0,s=i>s?i:s;return e.log("Requested number of ticks: ",t),e.log("Calculated max values to be: ",s),t=t>s?t=s-1:t,t=t<1?1:t,t=Math.floor(t),e.log("Calculating tick count as: ",t),t},e.utils.calcTicksY=function(t,n){return e.utils.calcTicksX(t,n)},e.utils.initOption=function(e,t){e._calls&&e._calls[t]?e[t]=e._calls[t]:(e[t]=function(n){return arguments.length?(e._overrides[t]=!0,e._options[t]=n,e):e._options[t]},e["_"+t]=function(n){return arguments.length?(e._overrides[t]||(e._options[t]=n),e):e._options[t]})},e.utils.initOptions=function(t){t._overrides=t._overrides||{};var o,n=Object.getOwnPropertyNames(t._options||{}),s=Object.getOwnPropertyNames(t._calls||{}),n=n.concat(s);for(o in n)e.utils.initOption(t,n[o])},e.utils.inheritOptionsD3=function(e,t,n){e._d3options=n.concat(e._d3options||[]),n.unshift(t),n.unshift(e),d3.rebind.apply(this,n)},e.utils.arrayUnique=function(e){return e.sort().filter(function(t,n){return!n||t!=e[n-1]})},e.utils.symbolMap=d3.map(),e.utils.symbol=function(){var n,s=64;function t(t,o){var i=n.call(this,t,o),a=s.call(this,t,o);return d3.svg.symbolTypes.indexOf(i)!==-1?d3.svg.symbol().type(i).size(a)():e.utils.symbolMap.get(i)(a)}return t.type=function(e){return arguments.length?(n=d3.functor(e),t):n},t.size=function(e){return arguments.length?(s=d3.functor(e),t):s},t},e.utils.inheritOptions=function(t,n){var s=Object.getOwnPropertyNames(n._options||{}),i=Object.getOwnPropertyNames(n._calls||{}),a=n._inherited||[],r=n._d3options||[],o=s.concat(i).concat(a).concat(r);o.unshift(n),o.unshift(t),d3.rebind.apply(this,o),t._inherited=e.utils.arrayUnique(s.concat(i).concat(a).concat(s).concat(t._inherited||[])),t._d3options=e.utils.arrayUnique(r.concat(t._d3options||[]))},e.utils.initSVG=function(e){e.classed({"nvd3-svg":!0})},e.utils.sanitizeHeight=function(e,t){return e||parseInt(t.style("height"),10)||400},e.utils.sanitizeWidth=function(e,t){return e||parseInt(t.style("width"),10)||960},e.utils.availableHeight=function(t,n,s){return e.utils.sanitizeHeight(t,n)-s.top-s.bottom},e.utils.availableWidth=function(t,n,s){return e.utils.sanitizeWidth(t,n)-s.left-s.right},e.utils.noData=function(t,n){var i,s=t.options(),o=s.margin(),a=s.noData(),r=a==null?["No Data Available."]:[a],c=e.utils.availableHeight(s.height(),n,o),l=e.utils.availableWidth(s.width(),n,o),d=o.left+l/2,u=o.top+c/2;n.selectAll("g").remove(),i=n.selectAll(".nv-noData").data(r),i.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),i.attr("x",d).attr("y",u).text(function(e){return e})},e.models.axis=function(){"use strict";var a,l,n=d3.svg.axis(),t=d3.scale.linear(),s={top:0,right:0,bottom:0,left:0},m=75,b=60,g=null,r=!0,c=0,i=!0,p=!1,f=!1,u=null,d=0,h=250,v=d3.dispatch("renderEnd");n.scale(t).orient("bottom").tickFormat(function(e){return e}),a=e.utils.renderWatch(v,h);function o(h){return a.reset(),h.each(function(o){var h,v,b,j,y,_,w,O,x,C,E,k,A,M,F,S=d3.select(this);switch(e.utils.initSVG(S),b=S.selectAll("g.nv-wrap.nv-axis").data([o]),M=b.enter().append("g").attr("class","nvd3 nv-wrap nv-axis"),F=M.append("g"),y=b.select("g"),u!==null?n.ticks(u):(n.orient()=="top"||n.orient()=="bottom")&&n.ticks(Math.abs(t.range()[1]-t.range()[0])/100),y.watchTransition(a,"axis").call(n),l=l||n.scale(),_=n.tickFormat(),_==null&&(_=l.tickFormat()),v=y.selectAll("text.nv-axislabel").data([g||null]),v.exit().remove(),n.orient()){case"top":v.enter().append("text").attr("class","nv-axislabel"),t.range().length<2?j=0:t.range().length===2?j=t.range()[1]:j=t.range()[t.range().length-1]+(t.range()[1]-t.range()[0]),v.attr("text-anchor","middle").attr("y",0).attr("x",j/2),r&&(h=b.selectAll("g.nv-axisMaxMin").data(t.domain()),h.enter().append("g").attr("class",function(e,t){return["nv-axisMaxMin","nv-axisMaxMin-x",t==0?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),h.exit().remove(),h.attr("transform",function(n){return"translate("+e.utils.NaNtoZero(t(n))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-n.tickPadding()).attr("text-anchor","middle").text(function(e){var n=_(e);return(""+n).match("NaN")?"":n}),h.watchTransition(a,"min-max top").attr("transform",function(n,s){return"translate("+e.utils.NaNtoZero(t.range()[s])+",0)"}));break;case"bottom":E=d+36,O=30,k=0,x=y.selectAll("g").select("text"),C="",c%360&&(x.each(function(){var n=this.getBoundingClientRect(),s=n.width;k=n.height,s>O&&(O=s)}),C="rotate("+c+" 0,"+(k/2+n.tickPadding())+")",A=Math.abs(Math.sin(c*Math.PI/180)),E=(A?A*O:O)+30,x.attr("transform",C).style("text-anchor",c%360>0?"start":"end")),v.enter().append("text").attr("class","nv-axislabel"),t.range().length<2?j=0:t.range().length===2?j=t.range()[1]:j=t.range()[t.range().length-1]+(t.range()[1]-t.range()[0]),v.attr("text-anchor","middle").attr("y",E).attr("x",j/2),r&&(h=b.selectAll("g.nv-axisMaxMin").data([t.domain()[0],t.domain()[t.domain().length-1]]),h.enter().append("g").attr("class",function(e,t){return["nv-axisMaxMin","nv-axisMaxMin-x",t==0?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),h.exit().remove(),h.attr("transform",function(n){return"translate("+e.utils.NaNtoZero(t(n)+(f?t.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",n.tickPadding()).attr("transform",C).style("text-anchor",c?c%360>0?"start":"end":"middle").text(function(e){var n=_(e);return(""+n).match("NaN")?"":n}),h.watchTransition(a,"min-max bottom").attr("transform",function(n){return"translate("+e.utils.NaNtoZero(t(n)+(f?t.rangeBand()/2:0))+",0)"})),p&&x.attr("transform",function(e,t){return"translate(0,"+(t%2==0?"0":"12")+")"});break;case"right":v.enter().append("text").attr("class","nv-axislabel"),v.style("text-anchor",i?"middle":"begin").attr("transform",i?"rotate(90)":"").attr("y",i?-Math.max(s.right,m)+12:-10).attr("x",i?d3.max(t.range())/2:n.tickPadding()),r&&(h=b.selectAll("g.nv-axisMaxMin").data(t.domain()),h.enter().append("g").attr("class",function(e,t){return["nv-axisMaxMin","nv-axisMaxMin-y",t==0?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),h.exit().remove(),h.attr("transform",function(n){return"translate(0,"+e.utils.NaNtoZero(t(n))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",n.tickPadding()).style("text-anchor","start").text(function(e){var n=_(e);return(""+n).match("NaN")?"":n}),h.watchTransition(a,"min-max right").attr("transform",function(n,s){return"translate(0,"+e.utils.NaNtoZero(t.range()[s])+")"}).select("text").style("opacity",1));break;case"left":v.enter().append("text").attr("class","nv-axislabel"),v.style("text-anchor",i?"middle":"end").attr("transform",i?"rotate(-90)":"").attr("y",i?-Math.max(s.left,m)+25-(d||0):-10).attr("x",i?-d3.max(t.range())/2:-n.tickPadding()),r&&(h=b.selectAll("g.nv-axisMaxMin").data(t.domain()),h.enter().append("g").attr("class",function(e,t){return["nv-axisMaxMin","nv-axisMaxMin-y",t==0?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),h.exit().remove(),h.attr("transform",function(t){return"translate(0,"+e.utils.NaNtoZero(l(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-n.tickPadding()).attr("text-anchor","end").text(function(e){var n=_(e);return(""+n).match("NaN")?"":n}),h.watchTransition(a,"min-max right").attr("transform",function(n,s){return"translate(0,"+e.utils.NaNtoZero(t.range()[s])+")"}).select("text").style("opacity",1));break}v.text(function(e){return e}),r&&(n.orient()==="left"||n.orient()==="right")&&(y.selectAll("g").each(function(e){d3.select(this).select("text").attr("opacity",1),(t(e)<t.range()[1]+10||t(e)>t.range()[0]-10)&&((e>1e-10||e<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),t.domain()[0]==t.domain()[1]&&t.domain()[0]==0&&b.selectAll("g.nv-axisMaxMin").style("opacity",function(e,t){return t?0:1})),r&&(n.orient()==="top"||n.orient()==="bottom")&&(w=[],b.selectAll("g.nv-axisMaxMin").each(function(e,n){try{n?w.push(t(e)-this.getBoundingClientRect().width-4):w.push(t(e)+this.getBoundingClientRect().width+4)}catch{n?w.push(t(e)-4):w.push(t(e)+4)}}),y.selectAll("g").each(function(e){(t(e)<w[0]||t(e)>w[1])&&(e>1e-10||e<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})),y.selectAll(".tick").filter(function(e){return!parseFloat(Math.round(e*1e5)/1e6)&&e!==void 0}).classed("zero",!0),l=t.copy()}),a.renderEnd("axis immediate"),o}return o.axis=n,o.dispatch=v,o.options=e.utils.optionsFunc.bind(o),o._options=Object.create({},{axisLabelDistance:{get:function(){return d},set:function(e){d=e}},staggerLabels:{get:function(){return p},set:function(e){p=e}},rotateLabels:{get:function(){return c},set:function(e){c=e}},rotateYLabel:{get:function(){return i},set:function(e){i=e}},showMaxMin:{get:function(){return r},set:function(e){r=e}},axisLabel:{get:function(){return g},set:function(e){g=e}},height:{get:function(){return b},set:function(e){b=e}},ticks:{get:function(){return u},set:function(e){u=e}},width:{get:function(){return m},set:function(e){m=e}},margin:{get:function(){return s},set:function(e){s.top=e.top!==void 0?e.top:s.top,s.right=e.right!==void 0?e.right:s.right,s.bottom=e.bottom!==void 0?e.bottom:s.bottom,s.left=e.left!==void 0?e.left:s.left}},duration:{get:function(){return h},set:function(e){h=e,a.reset(h)}},scale:{get:function(){return t},set:function(s){t=s,n.scale(t),f=typeof t.rangeBands=="function",e.utils.inheritOptionsD3(o,t,["domain","range","rangeBand","rangeBands"])}}}),e.utils.initOptions(o),e.utils.inheritOptionsD3(o,n,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),e.utils.inheritOptionsD3(o,t,["domain","range","rangeBand","rangeBands"]),o},e.models.boxPlot=function(){"use strict";var d,u,h,m,g,v,o={top:0,right:0,bottom:0,left:0},j=960,b=500,_=Math.floor(Math.random()*1e4),s=d3.scale.ordinal(),n=d3.scale.linear(),l=function(e){return e.x},y=function(e){return e.y},t=e.utils.defaultColor(),f=null,i=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),c=250,p=null,a=e.utils.renderWatch(i,c);function r(y){return a.reset(),y.each(function(r){var y,_,w,O,x,C,E,k,A,S,M,F=j-o.left-o.right,T=b-o.top-o.bottom;f=d3.select(this),e.utils.initSVG(f),s.domain(u||r.map(function(e,t){return l(e,t)})).rangeBands(h||[0,F],.1),k=[],d||(A=d3.min(r.map(function(e){var t=[];return t.push(e.values.Q1),e.values.hasOwnProperty("whisker_low")&&e.values.whisker_low!==null&&t.push(e.values.whisker_low),e.values.hasOwnProperty("outliers")&&e.values.outliers!==null&&(t=t.concat(e.values.outliers)),d3.min(t)})),S=d3.max(r.map(function(e){var t=[];return t.push(e.values.Q3),e.values.hasOwnProperty("whisker_high")&&e.values.whisker_high!==null&&t.push(e.values.whisker_high),e.values.hasOwnProperty("outliers")&&e.values.outliers!==null&&(t=t.concat(e.values.outliers)),d3.max(t)})),k=[A,S]),n.domain(d||k),n.range(m||[T,0]),g=g||s,v=v||n.copy().range([n(0),n(0)]),C=f.selectAll("g.nv-wrap").data([r]),M=C.enter().append("g").attr("class","nvd3 nv-wrap"),C.attr("transform","translate("+o.left+","+o.top+")"),y=C.selectAll(".nv-boxplot").data(function(e){return e}),_=y.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),y.attr("class","nv-boxplot").attr("transform",function(e,t){return"translate("+(s(l(e,t))+s.rangeBand()*.05)+", 0)"}).classed("hover",function(e){return e.hover}),y.watchTransition(a,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(e,t){return t*c/r.length}).attr("transform",function(e,t){return"translate("+(s(l(e,t))+s.rangeBand()*.05)+", 0)"}),y.exit().remove(),_.each(function(e,n){var s=d3.select(this);["low","high"].forEach(function(o){e.values.hasOwnProperty("whisker_"+o)&&e.values["whisker_"+o]!==null&&(s.append("line").style("stroke",e.color?e.color:t(e,n)).attr("class","nv-boxplot-whisker nv-boxplot-"+o),s.append("line").style("stroke",e.color?e.color:t(e,n)).attr("class","nv-boxplot-tick nv-boxplot-"+o))})}),w=y.selectAll(".nv-boxplot-outlier").data(function(e){return e.values.hasOwnProperty("outliers")&&e.values.outliers!==null?e.values.outliers:[]}),w.enter().append("circle").style("fill",function(e,n,s){return t(e,s)}).style("stroke",function(e,n,s){return t(e,s)}).on("mouseover",function(e,n,s){d3.select(this).classed("hover",!0),i.elementMouseover({series:{key:e,color:t(e,s)},e:d3.event})}).on("mouseout",function(e,n,s){d3.select(this).classed("hover",!1),i.elementMouseout({series:{key:e,color:t(e,s)},e:d3.event})}).on("mousemove",function(){i.elementMousemove({e:d3.event})}),w.attr("class","nv-boxplot-outlier"),w.watchTransition(a,"nv-boxplot: nv-boxplot-outlier").attr("cx",s.rangeBand()*.45).attr("cy",function(e){return n(e)}).attr("r","3"),w.exit().remove(),x=function(){return p===null?s.rangeBand()*.9:Math.min(75,s.rangeBand()*.9)},O=function(){return s.rangeBand()*.45-x()/2},E=function(){return s.rangeBand()*.45+x()/2},["low","high"].forEach(function(e){var t=e==="low"?"Q1":"Q3";y.select("line.nv-boxplot-whisker.nv-boxplot-"+e).watchTransition(a,"nv-boxplot: boxplots").attr("x1",s.rangeBand()*.45).attr("y1",function(t){return n(t.values["whisker_"+e])}).attr("x2",s.rangeBand()*.45).attr("y2",function(e){return n(e.values[t])}),y.select("line.nv-boxplot-tick.nv-boxplot-"+e).watchTransition(a,"nv-boxplot: boxplots").attr("x1",O).attr("y1",function(t){return n(t.values["whisker_"+e])}).attr("x2",E).attr("y2",function(t){return n(t.values["whisker_"+e])})}),["low","high"].forEach(function(e){_.selectAll(".nv-boxplot-"+e).on("mouseover",function(n,s,o){d3.select(this).classed("hover",!0),i.elementMouseover({series:{key:n.values["whisker_"+e],color:t(n,o)},e:d3.event})}).on("mouseout",function(n,s,o){d3.select(this).classed("hover",!1),i.elementMouseout({series:{key:n.values["whisker_"+e],color:t(n,o)},e:d3.event})}).on("mousemove",function(){i.elementMousemove({e:d3.event})})}),_.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(e,n){d3.select(this).classed("hover",!0),i.elementMouseover({key:e.label,value:e.label,series:[{key:"Q3",value:e.values.Q3,color:e.color||t(e,n)},{key:"Q2",value:e.values.Q2,color:e.color||t(e,n)},{key:"Q1",value:e.values.Q1,color:e.color||t(e,n)}],data:e,index:n,e:d3.event})}).on("mouseout",function(e,n){d3.select(this).classed("hover",!1),i.elementMouseout({key:e.label,value:e.label,series:[{key:"Q3",value:e.values.Q3,color:e.color||t(e,n)},{key:"Q2",value:e.values.Q2,color:e.color||t(e,n)},{key:"Q1",value:e.values.Q1,color:e.color||t(e,n)}],data:e,index:n,e:d3.event})}).on("mousemove",function(){i.elementMousemove({e:d3.event})}),y.select("rect.nv-boxplot-box").watchTransition(a,"nv-boxplot: boxes").attr("y",function(e){return n(e.values.Q3)}).attr("width",x).attr("x",O).attr("height",function(e){return Math.abs(n(e.values.Q3)-n(e.values.Q1))||1}).style("fill",function(e,n){return e.color||t(e,n)}).style("stroke",function(e,n){return e.color||t(e,n)}),_.append("line").attr("class","nv-boxplot-median"),y.select("line.nv-boxplot-median").watchTransition(a,"nv-boxplot: boxplots line").attr("x1",O).attr("y1",function(e){return n(e.values.Q2)}).attr("x2",E).attr("y2",function(e){return n(e.values.Q2)}),g=s.copy(),v=n.copy()}),a.renderEnd("nv-boxplot immediate"),r}return r.dispatch=i,r.options=e.utils.optionsFunc.bind(r),r._options=Object.create({},{width:{get:function(){return j},set:function(e){j=e}},height:{get:function(){return b},set:function(e){b=e}},maxBoxWidth:{get:function(){return p},set:function(e){p=e}},x:{get:function(){return l},set:function(e){l=e}},y:{get:function(){return y},set:function(e){y=e}},xScale:{get:function(){return s},set:function(e){s=e}},yScale:{get:function(){return n},set:function(e){n=e}},xDomain:{get:function(){return u},set:function(e){u=e}},yDomain:{get:function(){return d},set:function(e){d=e}},xRange:{get:function(){return h},set:function(e){h=e}},yRange:{get:function(){return m},set:function(e){m=e}},id:{get:function(){return _},set:function(e){_=e}},margin:{get:function(){return o},set:function(e){o.top=e.top!==void 0?e.top:o.top,o.right=e.right!==void 0?e.right:o.right,o.bottom=e.bottom!==void 0?e.bottom:o.bottom,o.left=e.left!==void 0?e.left:o.left}},color:{get:function(){return t},set:function(n){t=e.utils.getColor(n)}},duration:{get:function(){return c},set:function(e){c=e,a.reset(c)}}}),e.utils.initOptions(r),r},e.models.boxPlotChart=function(){"use strict";var a,d,u,s=e.models.boxPlot(),c=e.models.axis(),i=e.models.axis(),t={top:15,right:10,bottom:50,left:60},j=null,b=null,v=e.utils.getColor(),f=!0,m=!0,h=!1,l=!1,r=e.models.tooltip(),p="No Data Available.",g=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate","renderEnd"),o=250;c.orient("bottom").showMaxMin(!1).tickFormat(function(e){return e}),i.orient(h?"right":"left").tickFormat(d3.format(",.1f")),r.duration(0),a=e.utils.renderWatch(g,o);function n(r){return a.reset(),a.models(s),f&&a.models(c),m&&a.models(i),r.each(function(a){var r,y,_,w,O,x,C,E,k,v=d3.select(this),A=this;if(e.utils.initSVG(v),y=(j||parseInt(v.style("width"))||960)-t.left-t.right,_=(b||parseInt(v.style("height"))||400)-t.top-t.bottom,n.update=function(){g.beforeUpdate(),v.transition().duration(o).call(n)},n.container=this,!a||!a.length||!a.filter(function(e){return e.values.hasOwnProperty("Q1")&&e.values.hasOwnProperty("Q2")&&e.values.hasOwnProperty("Q3")}).length)return O=v.selectAll(".nv-noData").data([p]),O.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),O.attr("x",t.left+y/2).attr("y",t.top+_/2).text(function(e){return e}),n;v.selectAll(".nv-noData").remove(),u=s.xScale(),d=s.yScale().clamp(!0),x=v.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([a]),w=x.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),C=w.append("defs"),r=x.select("g"),w.append("g").attr("class","nv-x nv-axis"),w.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),w.append("g").attr("class","nv-barsWrap"),r.attr("transform","translate("+t.left+","+t.top+")"),h&&r.select(".nv-y.nv-axis").attr("transform","translate("+y+",0)"),s.width(y).height(_),E=r.select(".nv-barsWrap").datum(a.filter(function(e){return!e.disabled})),E.transition().call(s),C.append("clipPath").attr("id","nv-x-label-clip-"+s.id()).append("rect"),r.select("#nv-x-label-clip-"+s.id()+" rect").attr("width",u.rangeBand()*(l?2:1)).attr("height",16).attr("x",-u.rangeBand()/(l?1:2)),f&&(c.scale(u).ticks(e.utils.calcTicksX(y/100,a)).tickSize(-_,0),r.select(".nv-x.nv-axis").attr("transform","translate(0,"+d.range()[0]+")"),r.select(".nv-x.nv-axis").call(c),k=r.select(".nv-x.nv-axis").selectAll("g"),l&&k.selectAll("text").attr("transform",function(e,t,n){return"translate(0,"+(n%2==0?"5":"17")+")"})),m&&(i.scale(d).ticks(Math.floor(_/36)).tickSize(-y,0),r.select(".nv-y.nv-axis").call(i)),r.select(".nv-zeroLine line").attr("x1",0).attr("x2",y).attr("y1",d(0)).attr("y2",d(0))}),a.renderEnd("nv-boxplot chart immediate"),n}return s.dispatch.on("elementMouseover.tooltip",function(e){r.data(e).hidden(!1)}),s.dispatch.on("elementMouseout.tooltip",function(e){r.data(e).hidden(!0)}),s.dispatch.on("elementMousemove.tooltip",function(){r.position({top:d3.event.pageY,left:d3.event.pageX})()}),n.dispatch=g,n.boxplot=s,n.xAxis=c,n.yAxis=i,n.tooltip=r,n.options=e.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return j},set:function(e){j=e}},height:{get:function(){return b},set:function(e){b=e}},staggerLabels:{get:function(){return l},set:function(e){l=e}},showXAxis:{get:function(){return f},set:function(e){f=e}},showYAxis:{get:function(){return m},set:function(e){m=e}},tooltips:{get:function(){return tooltips},set:function(e){tooltips=e}},tooltipContent:{get:function(){return r},set:function(e){r=e}},noData:{get:function(){return p},set:function(e){p=e}},margin:{get:function(){return t},set:function(e){t.top=e.top!==void 0?e.top:t.top,t.right=e.right!==void 0?e.right:t.right,t.bottom=e.bottom!==void 0?e.bottom:t.bottom,t.left=e.left!==void 0?e.left:t.left}},duration:{get:function(){return o},set:function(e){o=e,a.reset(o),s.duration(o),c.duration(o),i.duration(o)}},color:{get:function(){return v},set:function(t){v=e.utils.getColor(t),s.color(v)}},rightAlignYAxis:{get:function(){return h},set:function(e){h=e,i.orient(e?"right":"left")}}}),e.utils.inheritOptions(n,s),e.utils.initOptions(n),n},e.models.bullet=function(){"use strict";var t={top:0,right:0,bottom:0,left:0},o="left",f=!1,h=function(e){return e.ranges},d=function(e){return e.markers?e.markers:[0]},a=function(e){return e.measures},p=function(e){return e.rangeLabels?e.rangeLabels:[]},g=function(e){return e.markerLabels?e.markerLabels:[]},v=function(e){return e.measureLabels?e.measureLabels:[]},r=[0],c=380,l=30,i=null,m=null,u=e.utils.getColor(["#1f77b4"]),n=d3.dispatch("elementMouseover","elementMouseout","elementMousemove");function s(o){return o.each(function(s,o){var _,w,C,T,L,P,D=c-t.left-t.right,j=l-t.top-t.bottom;i=d3.select(this),e.utils.initSVG(i);var M=h.call(this,s,o).slice().sort(d3.descending),R=d.call(this,s,o).slice().sort(d3.descending),y=a.call(this,s,o).slice().sort(d3.descending),z=p.call(this,s,o).slice(),H=g.call(this,s,o).slice(),A=v.call(this,s,o).slice(),b=d3.scale.linear().domain(d3.extent(d3.merge([r,M]))).range(f?[D,0]:[0,D]),E=this.__chart__||d3.scale.linear().domain([0,1/0]).range(b.range());this.__chart__=b;var O=d3.min(M),m=d3.max(M),F=M[1],k=i.selectAll("g.nv-wrap.nv-bullet").data([s]),N=k.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet"),x=N.append("g"),S=k.select("g");x.append("rect").attr("class","nv-range nv-rangeMax"),x.append("rect").attr("class","nv-range nv-rangeAvg"),x.append("rect").attr("class","nv-range nv-rangeMin"),x.append("rect").attr("class","nv-measure"),k.attr("transform","translate("+t.left+","+t.top+")"),P=function(e){return Math.abs(E(e)-E(0))},C=function(e){return Math.abs(b(e)-b(0))},L=function(e){return E(e<0?e:0)},w=function(e){return b(e<0?e:0)},S.select("rect.nv-rangeMax").attr("height",j).attr("width",C(m>0?m:O)).attr("x",w(m>0?m:O)).datum(m>0?m:O),S.select("rect.nv-rangeAvg").attr("height",j).attr("width",C(F)).attr("x",w(F)).datum(F),S.select("rect.nv-rangeMin").attr("height",j).attr("width",C(m)).attr("x",w(m)).attr("width",C(m>0?O:m)).attr("x",w(m>0?O:m)).datum(m>0?O:m),S.select("rect.nv-measure").style("fill",u).attr("height",j/3).attr("y",j/3).attr("width",y<0?b(0)-b(y[0]):b(y[0])-b(0)).attr("x",w(y)).on("mouseover",function(){n.elementMouseover({value:y[0],label:A[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){n.elementMousemove({value:y[0],label:A[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){n.elementMouseout({value:y[0],label:A[0]||"Current",color:d3.select(this).style("fill")})}),_=j/6,T=R.map(function(e,t){return{value:e,label:H[t]}}),x.selectAll("path.nv-markerTriangle").data(T).enter().append("path").attr("class","nv-markerTriangle").attr("transform",function(e){return"translate("+b(e.value)+","+j/2+")"}).attr("d","M0,"+_+"L"+_+","+-_+" "+-_+","+-_+"Z").on("mouseover",function(e){n.elementMouseover({value:e.value,label:e.label||"Previous",color:d3.select(this).style("fill"),pos:[b(e.value),j/2]})}).on("mousemove",function(e){n.elementMousemove({value:e.value,label:e.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(e){n.elementMouseout({value:e.value,label:e.label||"Previous",color:d3.select(this).style("fill")})}),k.selectAll(".nv-range").on("mouseover",function(e,t){var s=z[t]||(t?t==1?"Mean":"Minimum":"Maximum");n.elementMouseover({value:e,label:s,color:d3.select(this).style("fill")})}).on("mousemove",function(){n.elementMousemove({value:y[0],label:A[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){var s=z[t]||(t?t==1?"Mean":"Minimum":"Maximum");n.elementMouseout({value:e,label:s,color:d3.select(this).style("fill")})})}),s}return s.dispatch=n,s.options=e.utils.optionsFunc.bind(s),s._options=Object.create({},{ranges:{get:function(){return h},set:function(e){h=e}},markers:{get:function(){return d},set:function(e){d=e}},measures:{get:function(){return a},set:function(e){a=e}},forceX:{get:function(){return r},set:function(e){r=e}},width:{get:function(){return c},set:function(e){c=e}},height:{get:function(){return l},set:function(e){l=e}},tickFormat:{get:function(){return m},set:function(e){m=e}},margin:{get:function(){return t},set:function(e){t.top=e.top!==void 0?e.top:t.top,t.right=e.right!==void 0?e.right:t.right,t.bottom=e.bottom!==void 0?e.bottom:t.bottom,t.left=e.left!==void 0?e.left:t.left}},orient:{get:function(){return o},set:function(e){o=e,f=o=="right"||o=="bottom"}},color:{get:function(){return u},set:function(t){u=e.utils.getColor(t)}}}),e.utils.initOptions(s),s},e.models.bulletChart=function(){"use strict";var o=e.models.bullet(),s=e.models.tooltip(),a="left",f=!1,t={top:5,right:40,bottom:20,left:120},r=function(e){return e.ranges},l=function(e){return e.markers?e.markers:[0]},h=function(e){return e.measures},d=null,i=55,u=null,c=null,m=null,p=d3.dispatch("tooltipShow","tooltipHide");s.duration(0).headerEnabled(!1);function n(s){return s.each(function(a,m){v=d3.select(this),e.utils.initSVG(v);var p,v,j,y,_,w,O,C,A,S,M,b=e.utils.availableWidth(d,v,t),g=i-t.top-t.bottom,N=this;if(n.update=function(){n(s)},n.container=this,!a||!r.call(this,a,m))return e.utils.noData(n,v),n;v.selectAll(".nv-noData").remove();var D=r.call(this,a,m).slice().sort(d3.descending),z=l.call(this,a,m).slice().sort(d3.descending),T=h.call(this,a,m).slice().sort(d3.descending),x=v.selectAll("g.nv-wrap.nv-bulletChart").data([a]),F=x.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart"),E=F.append("g"),k=x.select("g");E.append("g").attr("class","nv-bulletWrap"),E.append("g").attr("class","nv-titles"),x.attr("transform","translate("+t.left+","+t.top+")"),p=d3.scale.linear().domain([0,Math.max(D[0],z[0],T[0])]).range(f?[b,0]:[0,b]),j=this.__chart__||d3.scale.linear().domain([0,1/0]).range(p.range()),this.__chart__=p,S=function(e){return Math.abs(j(e)-j(0))},M=function(e){return Math.abs(p(e)-p(0))},C=E.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(i-t.top-t.bottom)/2+")"),C.append("text").attr("class","nv-title").text(function(e){return e.title}),C.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(e){return e.subtitle}),o.width(b).height(g),A=k.select(".nv-bulletWrap"),d3.transition(A).call(o),O=u||p.tickFormat(b/100),y=k.selectAll("g.nv-tick").data(p.ticks(c||b/50),function(e){return this.textContent||O(e)}),w=y.enter().append("g").attr("class","nv-tick").attr("transform",function(e){return"translate("+j(e)+",0)"}).style("opacity",1e-6),w.append("line").attr("y1",g).attr("y2",g*7/6),w.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",g*7/6).text(O),_=d3.transition(y).attr("transform",function(e){return"translate("+p(e)+",0)"}).style("opacity",1),_.select("line").attr("y1",g).attr("y2",g*7/6),_.select("text").attr("y",g*7/6),d3.transition(y.exit()).attr("transform",function(e){return"translate("+p(e)+",0)"}).style("opacity",1e-6).remove()}),d3.timer.flush(),n}return o.dispatch.on("elementMouseover.tooltip",function(e){e.series={key:e.label,value:e.value,color:e.color},s.data(e).hidden(!1)}),o.dispatch.on("elementMouseout.tooltip",function(){s.hidden(!0)}),o.dispatch.on("elementMousemove.tooltip",function(){s.position({top:d3.event.pageY,left:d3.event.pageX})()}),n.bullet=o,n.dispatch=p,n.tooltip=s,n.options=e.utils.optionsFunc.bind(n),n._options=Object.create({},{ranges:{get:function(){return r},set:function(e){r=e}},markers:{get:function(){return l},set:function(e){l=e}},measures:{get:function(){return h},set:function(e){h=e}},width:{get:function(){return d},set:function(e){d=e}},height:{get:function(){return i},set:function(e){i=e}},tickFormat:{get:function(){return u},set:function(e){u=e}},ticks:{get:function(){return c},set:function(e){c=e}},noData:{get:function(){return m},set:function(e){m=e}},tooltips:{get:function(){return s.enabled()},set:function(t){e.deprecated("tooltips","use chart.tooltip.enabled() instead"),s.enabled(!!t)}},tooltipContent:{get:function(){return s.contentGenerator()},set:function(t){e.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),s.contentGenerator(t)}},margin:{get:function(){return t},set:function(e){t.top=e.top!==void 0?e.top:t.top,t.right=e.right!==void 0?e.right:t.right,t.bottom=e.bottom!==void 0?e.bottom:t.bottom,t.left=e.left!==void 0?e.left:t.left}},orient:{get:function(){return a},set:function(e){a=e,f=a=="right"||a=="bottom"}}}),e.utils.inheritOptions(n,o),e.utils.initOptions(n),n},e.models.candlestickBar=function(){"use strict";var a,m,b,j,_,s={top:0,right:0,bottom:0,left:0},w=null,y=null,l=Math.floor(Math.random()*1e4),n=d3.scale.linear(),t=d3.scale.linear(),c=function(e){return e.x},f=function(e){return e.y},i=function(e){return e.open},r=function(e){return e.close},u=function(e){return e.high},d=function(e){return e.low},v=[],h=[],g=!1,p=!0,O=e.utils.defaultColor(),x=!1,C=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function o(O){return O.each(function(o){a=d3.select(this);var O,x,k,A,S,F,T,z,D,N,E=e.utils.availableWidth(w,a,s),M=e.utils.availableHeight(y,a,s);e.utils.initSVG(a),O=E/o[0].values.length*.45,n.domain(b||d3.extent(o[0].values.map(c).concat(v))),g?n.range(m||[E*.5/o[0].values.length,E*(o[0].values.length-.5)/o[0].values.length]):n.range(m||[5+O/2,E-O/2-5]),t.domain(j||[d3.min(o[0].values.map(d).concat(h)),d3.max(o[0].values.map(u).concat(h))]).range(_||[M,0]),n.domain()[0]===n.domain()[1]&&(n.domain()[0]?n.domain([n.domain()[0]-n.domain()[0]*.01,n.domain()[1]+n.domain()[1]*.01]):n.domain([-1,1])),t.domain()[0]===t.domain()[1]&&(t.domain()[0]?t.domain([t.domain()[0]+t.domain()[0]*.01,t.domain()[1]-t.domain()[1]*.01]):t.domain([-1,1])),x=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([o[0].values]),k=x.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),F=k.append("defs"),T=k.append("g"),z=x.select("g"),T.append("g").attr("class","nv-ticks"),x.attr("transform","translate("+s.left+","+s.top+")"),a.on("click",function(e,t){C.chartClick({data:e,index:t,pos:d3.event,id:l})}),F.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),x.select("#nv-chart-clip-path-"+l+" rect").attr("width",E).attr("height",M),z.attr("clip-path",p?"url(#nv-chart-clip-path-"+l+")":""),A=x.select(".nv-ticks").selectAll(".nv-tick").data(function(e){return e}),A.exit().remove(),S=A.enter().append("g").attr("class",function(e,t,n){return(i(e,t)>r(e,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+t}),D=S.append("line").attr("class","nv-candlestick-lines").attr("transform",function(e,t){return"translate("+n(c(e,t))+",0)"}).attr("x1",0).attr("y1",function(e,n){return t(u(e,n))}).attr("x2",0).attr("y2",function(e,n){return t(d(e,n))}),N=S.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(e,s){return"translate("+(n(c(e,s))-O/2)+","+(t(f(e,s))-(i(e,s)>r(e,s)?t(r(e,s))-t(i(e,s)):0))+")"}).attr("x",0).attr("y",0).attr("width",O).attr("height",function(e,n){var s=i(e,n),o=r(e,n);return s>o?t(o)-t(s):t(s)-t(o)}),a.selectAll(".nv-candlestick-lines").transition().attr("transform",function(e,t){return"translate("+n(c(e,t))+",0)"}).attr("x1",0).attr("y1",function(e,n){return t(u(e,n))}).attr("x2",0).attr("y2",function(e,n){return t(d(e,n))}),a.selectAll(".nv-candlestick-rects").transition().attr("transform",function(e,s){return"translate("+(n(c(e,s))-O/2)+","+(t(f(e,s))-(i(e,s)>r(e,s)?t(r(e,s))-t(i(e,s)):0))+")"}).attr("x",0).attr("y",0).attr("width",O).attr("height",function(e,n){var s=i(e,n),o=r(e,n);return s>o?t(o)-t(s):t(s)-t(o)})}),o}return o.highlightPoint=function(e,t){o.clearHighlights(),a.select(".nv-candlestickBar .nv-tick-0-"+e).classed("hover",t)},o.clearHighlights=function(){a.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},o.dispatch=C,o.options=e.utils.optionsFunc.bind(o),o._options=Object.create({},{width:{get:function(){return w},set:function(e){w=e}},height:{get:function(){return y},set:function(e){y=e}},xScale:{get:function(){return n},set:function(e){n=e}},yScale:{get:function(){return t},set:function(e){t=e}},xDomain:{get:function(){return b},set:function(e){b=e}},yDomain:{get:function(){return j},set:function(e){j=e}},xRange:{get:function(){return m},set:function(e){m=e}},yRange:{get:function(){return _},set:function(e){_=e}},forceX:{get:function(){return v},set:function(e){v=e}},forceY:{get:function(){return h},set:function(e){h=e}},padData:{get:function(){return g},set:function(e){g=e}},clipEdge:{get:function(){return p},set:function(e){p=e}},id:{get:function(){return l},set:function(e){l=e}},interactive:{get:function(){return x},set:function(e){x=e}},x:{get:function(){return c},set:function(e){c=e}},y:{get:function(){return f},set:function(e){f=e}},open:{get:function(){return i()},set:function(e){i=e}},close:{get:function(){return r()},set:function(e){r=e}},high:{get:function(){return u},set:function(e){u=e}},low:{get:function(){return d},set:function(e){d=e}},margin:{get:function(){return s},set:function(e){s.top=e.top!=void 0?e.top:s.top,s.right=e.right!=void 0?e.right:s.right,s.bottom=e.bottom!=void 0?e.bottom:s.bottom,s.left=e.left!=void 0?e.left:s.left}},color:{get:function(){return O},set:function(t){O=e.utils.getColor(t)}}}),e.utils.initOptions(o),o},e.models.cumulativeLineChart=function(){"use strict";var v,b,S,i=e.models.line(),u=e.models.axis(),r=e.models.axis(),m=e.models.legend(),_=e.models.legend(),h=e.interactiveGuideline(),l=e.models.tooltip(),n={top:30,right:30,bottom:50,left:60},j=e.utils.defaultColor(),k=null,E=null,F=!0,C=!0,O=!0,w=!1,M=!0,x=!1,a=!0,z=i.id(),s=e.utils.state(),p=null,T=null,y=function(e){return e.average},d=d3.dispatch("stateChange","changeState","renderEnd"),R=250,c=250,A=!1;s.index=0,s.rescaleY=a,u.orient("bottom").tickPadding(7),r.orient(w?"right":"left"),l.valueFormatter(function(e,t){return r.tickFormat()(e,t)}).headerFormatter(function(e,t){return u.tickFormat()(e,t)}),_.updateState(!1);var g=d3.scale.linear(),o={i:0,x:0},f=e.utils.renderWatch(d,c),D=function(e){return function(){return{active:e.map(function(e){return!e.disabled}),index:o.i,rescaleY:a}}},N=function(e){return function(t){t.index!==void 0&&(o.i=t.index),t.rescaleY!==void 0&&(a=t.rescaleY),t.active!==void 0&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};function t(l){return f.reset(),f.models(i),C&&f.models(u),O&&f.models(r),l.each(function(l){f=d3.select(this),e.utils.initSVG(f),f.classed("nv-chart-"+z,!0);var l,f,v,T,P,H,I,B,V,$,W,U,q,Y,G,X,Q,te=this,A=e.utils.availableWidth(k,f,n),R=e.utils.availableHeight(E,f,n);if(t.update=function(){c===0?f.call(t):f.transition().duration(c).call(t)},t.container=this,s.setter(N(l),t.update).getter(D(l)).update(),s.disabled=l.map(function(e){return!!e.disabled}),!p){p={};for(H in s)s[H]instanceof Array?p[H]=s[H].slice(0):p[H]=s[H]}Q=d3.behavior.drag().on("dragstart",ee).on("drag",J).on("dragend",Z);function ee(){d3.select(t.container).style("cursor","ew-resize")}function J(){o.x=d3.event.x,o.i=Math.round(g.invert(o.x)),K()}function Z(){d3.select(t.container).style("cursor","auto"),s.index=o.i,d.stateChange(s)}if(!l||!l.length||!l.filter(function(e){return e.values.length}).length)return e.utils.noData(t,f),t;f.selectAll(".nv-noData").remove(),S=i.xScale(),b=i.yScale(),a?i.yDomain(null):(W=l.filter(function(e){return!e.disabled}).map(function(e){var n=d3.extent(e.values,i.y());return n[0]<-.95&&(n[0]=-.95),[(n[0]-n[1])/(1+n[1]),(n[1]-n[0])/(1+n[0])]}),q=[d3.min(W,function(e){return e[0]}),d3.max(W,function(e){return e[1]})],i.yDomain(q)),g.domain([0,l[0].values.length-1]).range([0,A]).clamp(!0),l=L(o.i,l),G=x?"none":"all",P=f.selectAll("g.nv-wrap.nv-cumulativeLine").data([l]),T=P.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),v=P.select("g"),T.append("g").attr("class","nv-interactive"),T.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),T.append("g").attr("class","nv-y nv-axis"),T.append("g").attr("class","nv-background"),T.append("g").attr("class","nv-linesWrap").style("pointer-events",G),T.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),T.append("g").attr("class","nv-legendWrap"),T.append("g").attr("class","nv-controlsWrap"),F&&(m.width(A),v.select(".nv-legendWrap").datum(l).call(m),n.top!=m.height()&&(n.top=m.height(),R=e.utils.availableHeight(E,f,n)),v.select(".nv-legendWrap").attr("transform","translate(0,"+-n.top+")")),M&&(Y=[{key:"Re-scale y-axis",disabled:!a}],_.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),v.select(".nv-controlsWrap").datum(Y).attr("transform","translate(0,"+-n.top+")").call(_)),P.attr("transform","translate("+n.left+","+n.top+")"),w&&v.select(".nv-y.nv-axis").attr("transform","translate("+A+",0)"),U=l.filter(function(e){return e.tempDisabled}),P.select(".tempDisabled").remove(),U.length&&P.append("text").attr("class","tempDisabled").attr("x",A/2).attr("y","-.71em").style("text-anchor","end").text(U.map(function(e){return e.key}).join(", ")+" values cannot be calculated for this time period."),x&&(h.width(A).height(R).margin({left:n.left,top:n.top}).svgContainer(f).xScale(S),P.select(".nv-interactive").call(h)),T.select(".nv-background").append("rect"),v.select(".nv-background rect").attr("width",A).attr("height",R),i.y(function(e){return e.display.y}).width(A).height(R).color(l.map(function(e,t){return e.color||j(e,t)}).filter(function(e,t){return!l[t].disabled&&!l[t].tempDisabled})),$=v.select(".nv-linesWrap").datum(l.filter(function(e){return!e.disabled&&!e.tempDisabled})),$.call(i),l.forEach(function(e,t){e.seriesIndex=t}),X=l.filter(function(e){return!e.disabled&&!!y(e)}),V=v.select(".nv-avgLinesWrap").selectAll("line").data(X,function(e){return e.key}),I=function(e){var t=b(y(e));return t<0?0:t>R?R:t},V.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(e){return i.color()(e,e.seriesIndex)}).attr("x1",0).attr("x2",A).attr("y1",I).attr("y2",I),V.style("stroke-opacity",function(e){var t=b(y(e));return t<0||t>R?0:1}).attr("x1",0).attr("x2",A).attr("y1",I).attr("y2",I),V.exit().remove(),B=$.selectAll(".nv-indexLine").data([o]),B.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(Q),B.attr("transform",function(e){return"translate("+g(e.i)+",0)"}).attr("height",R),C&&(u.scale(S)._ticks(e.utils.calcTicksX(A/70,l)).tickSize(-R,0),v.select(".nv-x.nv-axis").attr("transform","translate(0,"+b.range()[0]+")"),v.select(".nv-x.nv-axis").call(u)),O&&(r.scale(b)._ticks(e.utils.calcTicksY(R/36,l)).tickSize(-A,0),v.select(".nv-y.nv-axis").call(r));function K(){B.data([o]);var e=t.duration();t.duration(0),t.update(),t.duration(e)}v.select(".nv-background rect").on("click",function(){o.x=d3.mouse(this)[0],o.i=Math.round(g.invert(o.x)),s.index=o.i,d.stateChange(s),K()}),i.dispatch.on("elementClick",function(e){o.i=e.pointIndex,o.x=g(o.i),s.index=o.i,d.stateChange(s),K()}),_.dispatch.on("legendClick",function(e){e.disabled=!e.disabled,a=!e.disabled,s.rescaleY=a,d.stateChange(s),t.update()}),m.dispatch.on("stateChange",function(e){for(var n in e)s[n]=e[n];d.stateChange(s),t.update()}),h.dispatch.on("elementMousemove",function(s){i.clearHighlights();var o,c,d,m,f,p,g,v,a=[];l.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(n,r){o=e.interactiveBisect(n.values,s.pointXValue,t.x()),i.highlightPoint(r,o,!0);var l=n.values[o];if(typeof l=="undefined")return;typeof d=="undefined"&&(d=l),typeof c=="undefined"&&(c=t.xScale()(t.x()(l,o))),a.push({key:n.key,value:t.y()(l,o),color:j(n,n.seriesIndex)})}),a.length>2&&(f=t.yScale().invert(s.mouseY),p=Math.abs(t.yScale().domain()[0]-t.yScale().domain()[1]),g=.03*p,m=e.nearestValueIndex(a.map(function(e){return e.value}),f,g),m!==null&&(a[m].highlight=!0)),v=u.tickFormat()(t.x()(d,o),o),h.tooltip.position({left:c+n.left,top:s.mouseY+n.top}).chartContainer(te.parentNode).valueFormatter(function(e){return r.tickFormat()(e)}).data({value:v,series:a})(),h.renderGuideLine(c)}),h.dispatch.on("elementMouseout",function(){i.clearHighlights()}),d.on("changeState",function(e){typeof e.disabled!="undefined"&&(l.forEach(function(t,n){t.disabled=e.disabled[n]}),s.disabled=e.disabled),typeof e.index!="undefined"&&(o.i=e.index,o.x=g(o.i),s.index=e.index,B.data([o])),typeof e.rescaleY!="undefined"&&(a=e.rescaleY),t.update()})}),f.renderEnd("cumulativeLineChart immediate"),t}i.dispatch.on("elementMouseover.tooltip",function(e){var n={x:t.x()(e.point),y:t.y()(e.point),color:e.point.color};e.point=n,l.data(e).position(e.pos).hidden(!1)}),i.dispatch.on("elementMouseout.tooltip",function(){l.hidden(!0)}),v=null;function L(e,t){return v||(v=i.y()),t.map(function(t){if(!t.values)return t;var s,o=t.values[e];return o==null?t:(s=v(o,e),s<-.95&&!A?(t.tempDisabled=!0,t):(t.tempDisabled=!1,t.values=t.values.map(function(e,t){return e.display={y:(v(e,t)-s)/(1+s)},e}),t))})}return t.dispatch=d,t.lines=i,t.legend=m,t.controls=_,t.xAxis=u,t.yAxis=r,t.interactiveLayer=h,t.state=s,t.tooltip=l,t.options=e.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return k},set:function(e){k=e}},height:{get:function(){return E},set:function(e){E=e}},rescaleY:{get:function(){return a},set:function(e){a=e}},showControls:{get:function(){return M},set:function(e){M=e}},showLegend:{get:function(){return F},set:function(e){F=e}},average:{get:function(){return y},set:function(e){y=e}},defaultState:{get:function(){return p},set:function(e){p=e}},noData:{get:function(){return T},set:function(e){T=e}},showXAxis:{get:function(){return C},set:function(e){C=e}},showYAxis:{get:function(){return O},set:function(e){O=e}},noErrorCheck:{get:function(){return A},set:function(e){A=e}},tooltips:{get:function(){return l.enabled()},set:function(t){e.deprecated("tooltips","use chart.tooltip.enabled() instead"),l.enabled(!!t)}},tooltipContent:{get:function(){return l.contentGenerator()},set:function(t){e.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),l.contentGenerator(t)}},margin:{get:function(){return n},set:function(e){n.top=e.top!==void 0?e.top:n.top,n.right=e.right!==void 0?e.right:n.right,n.bottom=e.bottom!==void 0?e.bottom:n.bottom,n.left=e.left!==void 0?e.left:n.left}},color:{get:function(){return j},set:function(t){j=e.utils.getColor(t),m.color(j)}},useInteractiveGuideline:{get:function(){return x},set:function(e){x=e,e===!0&&(t.interactive(!1),t.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return w},set:function(e){w=e,r.orient(e?"right":"left")}},duration:{get:function(){return c},set:function(e){c=e,i.duration(c),u.duration(c),r.duration(c),f.reset(c)}}}),e.utils.inheritOptions(t,i),e.utils.initOptions(t),t},e.models.discreteBar=function(){"use strict";var c,m,f,g,b,y,_,n={top:0,right:0,bottom:0,left:0},O=960,w=500,x=Math.floor(Math.random()*1e4),s=d3.scale.ordinal(),t=d3.scale.linear(),l=function(e){return e.x},o=function(e){return e.y},v=[0],u=e.utils.defaultColor(),h=!1,p=d3.format(",.2f"),r=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),j="discreteBar",d=250,i=e.utils.renderWatch(r,d);function a(d){return i.reset(),d.each(function(a){var d,x,C,E,k,S,M,T,F=O-n.left-n.right,A=w-n.top-n.bottom;b=d3.select(this),e.utils.initSVG(b),a.forEach(function(e,t){e.values.forEach(function(e){e.series=t})}),E=f&&c?[]:a.map(function(e){return e.values.map(function(e,t){return{x:l(e,t),y:o(e,t),y0:e.y0}})}),s.domain(f||d3.merge(E).map(function(e){return e.x})).rangeBands(g||[0,F],.1),t.domain(c||d3.extent(d3.merge(E).map(function(e){return e.y}).concat(v))),h?t.range(m||[A-(t.domain()[0]<0?12:0),t.domain()[1]>0?12:0]):t.range(m||[A,0]),y=y||s,_=_||t.copy().range([t(0),t(0)]),C=b.selectAll("g.nv-wrap.nv-discretebar").data([a]),S=C.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar"),M=S.append("g"),T=C.select("g"),M.append("g").attr("class","nv-groups"),C.attr("transform","translate("+n.left+","+n.top+")"),x=C.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e){return e.key}),x.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),x.exit().watchTransition(i,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),x.attr("class",function(e,t){return"nv-group nv-series-"+t}).classed("hover",function(e){return e.hover}),x.watchTransition(i,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75),d=x.selectAll("g.nv-bar").data(function(e){return e.values}),d.exit().remove(),k=d.enter().append("g").attr("transform",function(e,n){return"translate("+(s(l(e,n))+s.rangeBand()*.05)+", "+t(0)+")"}).on("mouseover",function(e,t){d3.select(this).classed("hover",!0),r.elementMouseover({data:e,index:t,color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){d3.select(this).classed("hover",!1),r.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})}).on("mousemove",function(e,t){r.elementMousemove({data:e,index:t,color:d3.select(this).style("fill")})}).on("click",function(e,t){r.elementClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}).on("dblclick",function(e,t){r.elementDblClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),k.append("rect").attr("height",0).attr("width",s.rangeBand()*.9/a.length),h?(k.append("text").attr("text-anchor","middle"),d.select("text").text(function(e,t){return p(o(e,t))}).watchTransition(i,"discreteBar: bars text").attr("x",s.rangeBand()*.9/2).attr("y",function(e,n){return o(e,n)<0?t(o(e,n))-t(0)+12:-4})):d.selectAll("text").remove(),d.attr("class",function(e,t){return o(e,t)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(e,t){return e.color||u(e,t)}).style("stroke",function(e,t){return e.color||u(e,t)}).select("rect").attr("class",j).watchTransition(i,"discreteBar: bars rect").attr("width",s.rangeBand()*.9/a.length),d.watchTransition(i,"discreteBar: bars").attr("transform",function(e,n){var i=s(l(e,n))+s.rangeBand()*.05,a=o(e,n)<0?t(0):t(0)-t(o(e,n))<1?t(0)-1:t(o(e,n));return"translate("+i+", "+a+")"}).select("rect").attr("height",function(e,n){return Math.max(Math.abs(t(o(e,n))-t(c&&c[0]||0))||1)}),y=s.copy(),_=t.copy()}),i.renderEnd("discreteBar immediate"),a}return a.dispatch=r,a.options=e.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return O},set:function(e){O=e}},height:{get:function(){return w},set:function(e){w=e}},forceY:{get:function(){return v},set:function(e){v=e}},showValues:{get:function(){return h},set:function(e){h=e}},x:{get:function(){return l},set:function(e){l=e}},y:{get:function(){return o},set:function(e){o=e}},xScale:{get:function(){return s},set:function(e){s=e}},yScale:{get:function(){return t},set:function(e){t=e}},xDomain:{get:function(){return f},set:function(e){f=e}},yDomain:{get:function(){return c},set:function(e){c=e}},xRange:{get:function(){return g},set:function(e){g=e}},yRange:{get:function(){return m},set:function(e){m=e}},valueFormat:{get:function(){return p},set:function(e){p=e}},id:{get:function(){return x},set:function(e){x=e}},rectClass:{get:function(){return j},set:function(e){j=e}},margin:{get:function(){return n},set:function(e){n.top=e.top!==void 0?e.top:n.top,n.right=e.right!==void 0?e.right:n.right,n.bottom=e.bottom!==void 0?e.bottom:n.bottom,n.left=e.left!==void 0?e.left:n.left}},color:{get:function(){return u},set:function(t){u=e.utils.getColor(t)}},duration:{get:function(){return d},set:function(e){d=e,i.reset(d)}}}),e.utils.initOptions(a),a},e.models.discreteBarChart=function(){"use strict";var c,l,m,n=e.models.discreteBar(),r=e.models.axis(),i=e.models.axis(),o=e.models.tooltip(),s={top:15,right:10,bottom:50,left:60},b=null,v=null,g=e.utils.getColor(),u=!0,f=!0,h=!1,d=!1,j=null,p=d3.dispatch("beforeUpdate","renderEnd"),a=250;r.orient("bottom").showMaxMin(!1).tickFormat(function(e){return e}),i.orient(h?"right":"left").tickFormat(d3.format(",.1f")),o.duration(0).headerEnabled(!1).valueFormatter(function(e,t){return i.tickFormat()(e,t)}).keyFormatter(function(e,t){return r.tickFormat()(e,t)}),c=e.utils.renderWatch(p,a);function t(o){return c.reset(),c.models(n),u&&c.models(r),f&&c.models(i),o.each(function(o){var c,j,y,_,w,O,x,C,g=d3.select(this),E=this;if(e.utils.initSVG(g),j=e.utils.availableWidth(b,g,s),_=e.utils.availableHeight(v,g,s),t.update=function(){p.beforeUpdate(),g.transition().duration(a).call(t)},t.container=this,!o||!o.length||!o.filter(function(e){return e.values.length}).length)return e.utils.noData(t,g),t;g.selectAll(".nv-noData").remove(),m=n.xScale(),l=n.yScale().clamp(!0),w=g.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([o]),y=w.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),O=y.append("defs"),c=w.select("g"),y.append("g").attr("class","nv-x nv-axis"),y.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),y.append("g").attr("class","nv-barsWrap"),c.attr("transform","translate("+s.left+","+s.top+")"),h&&c.select(".nv-y.nv-axis").attr("transform","translate("+j+",0)"),n.width(j).height(_),x=c.select(".nv-barsWrap").datum(o.filter(function(e){return!e.disabled})),x.transition().call(n),O.append("clipPath").attr("id","nv-x-label-clip-"+n.id()).append("rect"),c.select("#nv-x-label-clip-"+n.id()+" rect").attr("width",m.rangeBand()*(d?2:1)).attr("height",16).attr("x",-m.rangeBand()/(d?1:2)),u&&(r.scale(m)._ticks(e.utils.calcTicksX(j/100,o)).tickSize(-_,0),c.select(".nv-x.nv-axis").attr("transform","translate(0,"+(l.range()[0]+(n.showValues()&&l.domain()[0]<0?16:0))+")"),c.select(".nv-x.nv-axis").call(r),C=c.select(".nv-x.nv-axis").selectAll("g"),d&&C.selectAll("text").attr("transform",function(e,t,n){return"translate(0,"+(n%2==0?"5":"17")+")"})),f&&(i.scale(l)._ticks(e.utils.calcTicksY(_/36,o)).tickSize(-j,0),c.select(".nv-y.nv-axis").call(i)),c.select(".nv-zeroLine line").attr("x1",0).attr("x2",j).attr("y1",l(0)).attr("y2",l(0))}),c.renderEnd("discreteBar chart immediate"),t}return n.dispatch.on("elementMouseover.tooltip",function(e){e.series={key:t.x()(e.data),value:t.y()(e.data),color:e.color},o.data(e).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(){o.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(){o.position({top:d3.event.pageY,left:d3.event.pageX})()}),t.dispatch=p,t.discretebar=n,t.xAxis=r,t.yAxis=i,t.tooltip=o,t.options=e.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return b},set:function(e){b=e}},height:{get:function(){return v},set:function(e){v=e}},staggerLabels:{get:function(){return d},set:function(e){d=e}},showXAxis:{get:function(){return u},set:function(e){u=e}},showYAxis:{get:function(){return f},set:function(e){f=e}},noData:{get:function(){return j},set:function(e){j=e}},tooltips:{get:function(){return o.enabled()},set:function(t){e.deprecated("tooltips","use chart.tooltip.enabled() instead"),o.enabled(!!t)}},tooltipContent:{get:function(){return o.contentGenerator()},set:function(t){e.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),o.contentGenerator(t)}},margin:{get:function(){return s},set:function(e){s.top=e.top!==void 0?e.top:s.top,s.right=e.right!==void 0?e.right:s.right,s.bottom=e.bottom!==void 0?e.bottom:s.bottom,s.left=e.left!==void 0?e.left:s.left}},duration:{get:function(){return a},set:function(e){a=e,c.reset(a),n.duration(a),r.duration(a),i.duration(a)}},color:{get:function(){return g},set:function(t){g=e.utils.getColor(t),n.color(g)}},rightAlignYAxis:{get:function(){return h},set:function(e){h=e,i.orient(e?"right":"left")}}}),e.utils.inheritOptions(t,n),e.utils.initOptions(t),t},e.models.distribution=function(){"use strict";var a,m,s={top:0,right:0,bottom:0,left:0},u=400,d=8,n="x",i=function(e){return e[n]},l=e.utils.defaultColor(),o=d3.scale.linear(),c=250,h=d3.dispatch("renderEnd"),r=e.utils.renderWatch(h,c);function t(c){return r.reset(),c.each(function(t){var c,h,m,g,v,b,j=u-(n==="x"?s.left+s.right:s.top+s.bottom),f=n=="x"?"y":"x",p=d3.select(this);e.utils.initSVG(p),a=a||o,h=p.selectAll("g.nv-distribution").data([t]),g=h.enter().append("g").attr("class","nvd3 nv-distribution"),b=g.append("g"),v=h.select("g"),h.attr("transform","translate("+s.left+","+s.top+")"),c=v.selectAll("g.nv-dist").data(function(e){return e},function(e){return e.key}),c.enter().append("g"),c.attr("class",function(e,t){return"nv-dist nv-series-"+t}).style("stroke",function(e,t){return l(e,t)}),m=c.selectAll("line.nv-dist"+n).data(function(e){return e.values}),m.enter().append("line").attr(n+"1",function(e,t){return a(i(e,t))}).attr(n+"2",function(e,t){return a(i(e,t))}),r.transition(c.exit().selectAll("line.nv-dist"+n),"dist exit").attr(n+"1",function(e,t){return o(i(e,t))}).attr(n+"2",function(e,t){return o(i(e,t))}).style("stroke-opacity",0).remove(),m.attr("class",function(e,t){return"nv-dist"+n+" nv-dist"+n+"-"+t}).attr(f+"1",0).attr(f+"2",d),r.transition(m,"dist").attr(n+"1",function(e,t){return o(i(e,t))}).attr(n+"2",function(e,t){return o(i(e,t))}),a=o.copy()}),r.renderEnd("distribution immediate"),t}return t.options=e.utils.optionsFunc.bind(t),t.dispatch=h,t.margin=function(e){return arguments.length?(s.top=typeof e.top!="undefined"?e.top:s.top,s.right=typeof e.right!="undefined"?e.right:s.right,s.bottom=typeof e.bottom!="undefined"?e.bottom:s.bottom,s.left=typeof e.left!="undefined"?e.left:s.left,t):s},t.width=function(e){return arguments.length?(u=e,t):u},t.axis=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(d=e,t):d},t.getData=function(e){return arguments.length?(i=d3.functor(e),t):i},t.scale=function(e){return arguments.length?(o=e,t):o},t.color=function(n){return arguments.length?(l=e.utils.getColor(n),t):l},t.duration=function(e){return arguments.length?(c=e,r.reset(c),t):c},t},e.models.furiousLegend=function(){"use strict";var t={top:5,right:0,bottom:5,left:0},r=400,c=20,u=function(e){return e.key},o=e.utils.getColor(),f=!0,l=28,m=!0,d=!0,h=!1,s=!1,a=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),n="classic";function i(p){p.each(function(i){var p,b,j,y,_,w,O,x,C,k,A,S,F,D,N,L,H,R=r-t.left-t.right,P=d3.select(this);switch(e.utils.initSVG(P),S=P.selectAll("g.nv-legend").data([i]),H=S.enter().append("g").attr("class","nvd3 nv-legend").append("g"),x=S.select("g"),S.attr("transform","translate("+t.left+","+t.top+")"),b=x.selectAll(".nv-series").data(function(e){return n!="furious"?e:e.filter(function(e){return!!s||!e.disengaged})}),C=b.enter().append("g").attr("class","nv-series"),n=="classic"?(C.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),A=b.select("circle")):n=="furious"&&(C.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),A=b.select("rect"),C.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),L=b.select(".nv-check-box"),L.each(function(e,t){d3.select(this).selectAll("path").attr("stroke",g(e,t))})),C.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8"),F=b.select("text.nv-legend-text"),b.on("mouseover",function(e,t){a.legendMouseover(e,t)}).on("mouseout",function(e,t){a.legendMouseout(e,t)}).on("click",function(e,t){a.legendClick(e,t);var i,o=b.data();d&&(n=="classic"?h?(o.forEach(function(e){e.disabled=!0}),e.disabled=!1):(e.disabled=!e.disabled,o.every(function(e){return e.disabled})&&o.forEach(function(e){e.disabled=!1})):n=="furious"&&(s?(e.disengaged=!e.disengaged,e.userDisabled=e.userDisabled==void 0?!!e.disabled:e.userDisabled,e.disabled=e.disengaged||e.userDisabled):s||(e.disabled=!e.disabled,e.userDisabled=e.disabled,i=o.filter(function(e){return!e.disengaged}),i.every(function(e){return e.userDisabled})&&o.forEach(function(e){e.disabled=e.userDisabled=!1}))),a.stateChange({disabled:o.map(function(e){return!!e.disabled}),disengaged:o.map(function(e){return!!e.disengaged})}))}).on("dblclick",function(e,t){if(n=="furious"&&s)return;if(a.legendDblclick(e,t),d){var o=b.data();o.forEach(function(e){e.disabled=!0,n=="furious"&&(e.userDisabled=e.disabled)}),e.disabled=!1,n=="furious"&&(e.userDisabled=e.disabled),a.stateChange({disabled:o.map(function(e){return!!e.disabled})})}}),b.classed("nv-disabled",function(e){return e.userDisabled}),b.exit().remove(),F.attr("fill",g).text(u),n){case"furious":O=23;break;case"classic":O=20}if(f){for(j=[],b.each(function(){var s,o=d3.select(this).select("text");try{if(s=o.node().getComputedTextLength(),s<=0)throw Error()}catch{s=e.utils.calcApproxTextWidth(o)}j.push(s+l)}),p=0,w=0,_=[];w<R&&p<j.length;)_[p]=j[p],w+=j[p++];for(p===0&&(p=1);w>R&&p>1;){_=[],p--;for(y=0;y<j.length;y++)j[y]>(_[y%p]||0)&&(_[y%p]=j[y]);w=_.reduce(function(e,t){return e+t})}for(D=[],k=0,N=0;k<p;k++)D[k]=N,N+=_[k];b.attr("transform",function(e,t){return"translate("+D[t%p]+","+(5+Math.floor(t/p)*O)+")"}),m?x.attr("transform","translate("+(r-t.right-w)+","+t.top+")"):x.attr("transform","translate(0,"+t.top+")"),c=t.top+t.bottom+Math.ceil(j.length/p)*O}else{var M,T=5,E=5,z=0;b.attr("transform",function(){var s=d3.select(this).select("text").node().getComputedTextLength()+l;return M=E,r<t.left+t.right+M+s&&(E=M=5,T+=O),E+=s,E>z&&(z=E),"translate("+M+","+T+")"}),x.attr("transform","translate("+(r-t.right-z)+","+t.top+")"),c=t.top+t.bottom+T+15}n=="furious"&&A.attr("width",function(e,t){return F[0][t].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),A.style("fill",v).style("stroke",function(e,t){return e.color||o(e,t)})});function g(e,t){if(n!="furious")return"#000";if(s)return e.disengaged?o(e,t):"#fff";if(!s)return!!e.disabled?o(e,t):"#fff"}function v(e,t){return s&&n=="furious"?e.disengaged?"#fff":o(e,t):!!e.disabled?"#fff":o(e,t)}return i}return i.dispatch=a,i.options=e.utils.optionsFunc.bind(i),i._options=Object.create({},{width:{get:function(){return r},set:function(e){r=e}},height:{get:function(){return c},set:function(e){c=e}},key:{get:function(){return u},set:function(e){u=e}},align:{get:function(){return f},set:function(e){f=e}},rightAlign:{get:function(){return m},set:function(e){m=e}},padding:{get:function(){return l},set:function(e){l=e}},updateState:{get:function(){return d},set:function(e){d=e}},radioButtonMode:{get:function(){return h},set:function(e){h=e}},expanded:{get:function(){return s},set:function(e){s=e}},vers:{get:function(){return n},set:function(e){n=e}},margin:{get:function(){return t},set:function(e){t.top=e.top!==void 0?e.top:t.top,t.right=e.right!==void 0?e.right:t.right,t.bottom=e.bottom!==void 0?e.bottom:t.bottom,t.left=e.left!==void 0?e.left:t.left}},color:{get:function(){return o},set:function(t){o=e.utils.getColor(t)}}}),e.utils.initOptions(i),i},e.models.historicalBar=function(){"use strict";var u,p,g,b,s={top:0,right:0,bottom:0,left:0},w=null,_=null,a=Math.floor(Math.random()*1e4),r=null,n=d3.scale.linear(),t=d3.scale.linear(),d=function(e){return e.x},o=function(e){return e.y},y=[],m=[0],j=!1,v=!0,f=e.utils.defaultColor(),c=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),l=!0,h=e.utils.renderWatch(c,0);function i(O){return O.each(function(i){h.reset(),r=d3.select(this);var x,C,E,A,S,M,O=e.utils.availableWidth(w,r,s),k=e.utils.availableHeight(_,r,s);e.utils.initSVG(r),n.domain(p||d3.extent(i[0].values.map(d).concat(y))),j?n.range(u||[O*.5/i[0].values.length,O*(i[0].values.length-.5)/i[0].values.length]):n.range(u||[0,O]),t.domain(g||d3.extent(i[0].values.map(o).concat(m))).range(b||[k,0]),n.domain()[0]===n.domain()[1]&&(n.domain()[0]?n.domain([n.domain()[0]-n.domain()[0]*.01,n.domain()[1]+n.domain()[1]*.01]):n.domain([-1,1])),t.domain()[0]===t.domain()[1]&&(t.domain()[0]?t.domain([t.domain()[0]+t.domain()[0]*.01,t.domain()[1]-t.domain()[1]*.01]):t.domain([-1,1])),x=r.selectAll("g.nv-wrap.nv-historicalBar-"+a).data([i[0].values]),E=x.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+a),A=E.append("defs"),S=E.append("g"),M=x.select("g"),S.append("g").attr("class","nv-bars"),x.attr("transform","translate("+s.left+","+s.top+")"),r.on("click",function(e,t){c.chartClick({data:e,index:t,pos:d3.event,id:a})}),A.append("clipPath").attr("id","nv-chart-clip-path-"+a).append("rect"),x.select("#nv-chart-clip-path-"+a+" rect").attr("width",O).attr("height",k),M.attr("clip-path",v?"url(#nv-chart-clip-path-"+a+")":""),C=x.select(".nv-bars").selectAll(".nv-bar").data(function(e){return e},function(e,t){return d(e,t)}),C.exit().remove(),C.enter().append("rect").attr("x",0).attr("y",function(n,s){return e.utils.NaNtoZero(t(Math.max(0,o(n,s))))}).attr("height",function(n,s){return e.utils.NaNtoZero(Math.abs(t(o(n,s))-t(0)))}).attr("transform",function(e,t){return"translate("+(n(d(e,t))-O/i[0].values.length*.45)+",0)"}).on("mouseover",function(e,t){if(!l)return;d3.select(this).classed("hover",!0),c.elementMouseover({data:e,index:t,color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){if(!l)return;d3.select(this).classed("hover",!1),c.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})}).on("mousemove",function(e,t){if(!l)return;c.elementMousemove({data:e,index:t,color:d3.select(this).style("fill")})}).on("click",function(e,t){if(!l)return;c.elementClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}).on("dblclick",function(e,t){if(!l)return;c.elementDblClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),C.attr("fill",function(e,t){return f(e,t)}).attr("class",function(e,t,n){return(o(e,t)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+t}).watchTransition(h,"bars").attr("transform",function(e,t){return"translate("+(n(d(e,t))-O/i[0].values.length*.45)+",0)"}).attr("width",O/i[0].values.length*.9),C.watchTransition(h,"bars").attr("y",function(n,s){var i=o(n,s)<0?t(0):t(0)-t(o(n,s))<1?t(0)-1:t(o(n,s));return e.utils.NaNtoZero(i)}).attr("height",function(n,s){return e.utils.NaNtoZero(Math.max(Math.abs(t(o(n,s))-t(0)),1))})}),h.renderEnd("historicalBar immediate"),i}return i.highlightPoint=function(e,t){r.select(".nv-bars .nv-bar-0-"+e).classed("hover",t)},i.clearHighlights=function(){r.select(".nv-bars .nv-bar.hover").classed("hover",!1)},i.dispatch=c,i.options=e.utils.optionsFunc.bind(i),i._options=Object.create({},{width:{get:function(){return w},set:function(e){w=e}},height:{get:function(){return _},set:function(e){_=e}},forceX:{get:function(){return y},set:function(e){y=e}},forceY:{get:function(){return m},set:function(e){m=e}},padData:{get:function(){return j},set:function(e){j=e}},x:{get:function(){return d},set:function(e){d=e}},y:{get:function(){return o},set:function(e){o=e}},xScale:{get:function(){return n},set:function(e){n=e}},yScale:{get:function(){return t},set:function(e){t=e}},xDomain:{get:function(){return p},set:function(e){p=e}},yDomain:{get:function(){return g},set:function(e){g=e}},xRange:{get:function(){return u},set:function(e){u=e}},yRange:{get:function(){return b},set:function(e){b=e}},clipEdge:{get:function(){return v},set:function(e){v=e}},id:{get:function(){return a},set:function(e){a=e}},interactive:{get:function(){return l},set:function(e){l=e}},margin:{get:function(){return s},set:function(e){s.top=e.top!==void 0?e.top:s.top,s.right=e.right!==void 0?e.right:s.right,s.bottom=e.bottom!==void 0?e.bottom:s.bottom,s.left=e.left!==void 0?e.left:s.left}},color:{get:function(){return f},set:function(t){f=e.utils.getColor(t)}}}),e.utils.initOptions(i),i},e.models.historicalBarChart=function(t){"use strict";var u,w,x,o=t||e.models.historicalBar(),c=e.models.axis(),a=e.models.axis(),l=e.models.legend(),d=e.interactiveGuideline(),r=e.models.tooltip(),s={top:30,right:90,bottom:50,left:90},m=e.utils.defaultColor(),O=null,g=null,_=!1,j=!0,v=!0,b=!1,y=!1,i={},h=null,C=null,p=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),f=250;c.orient("bottom").tickPadding(7),a.orient(b?"right":"left"),r.duration(0).headerEnabled(!1).valueFormatter(function(e,t){return a.tickFormat()(e,t)}).headerFormatter(function(e,t){return c.tickFormat()(e,t)}),u=e.utils.renderWatch(p,0);function n(t){return t.each(function(r){u.reset(),u.models(o),j&&u.models(c),v&&u.models(a);var E,k,A,S,M,F,T,C=d3.select(this),z=this;if(e.utils.initSVG(C),E=e.utils.availableWidth(O,C,s),S=e.utils.availableHeight(g,C,s),n.update=function(){C.transition().duration(f).call(n)},n.container=this,i.disabled=r.map(function(e){return!!e.disabled}),!h){h={};for(M in i)i[M]instanceof Array?h[M]=i[M].slice(0):h[M]=i[M]}if(!r||!r.length||!r.filter(function(e){return e.values.length}).length)return e.utils.noData(n,C),n;C.selectAll(".nv-noData").remove(),x=o.xScale(),w=o.yScale(),k=C.selectAll("g.nv-wrap.nv-historicalBarChart").data([r]),F=k.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),A=k.select("g"),F.append("g").attr("class","nv-x nv-axis"),F.append("g").attr("class","nv-y nv-axis"),F.append("g").attr("class","nv-barsWrap"),F.append("g").attr("class","nv-legendWrap"),F.append("g").attr("class","nv-interactive"),_&&(l.width(E),A.select(".nv-legendWrap").datum(r).call(l),s.top!=l.height()&&(s.top=l.height(),S=e.utils.availableHeight(g,C,s)),k.select(".nv-legendWrap").attr("transform","translate(0,"+-s.top+")")),k.attr("transform","translate("+s.left+","+s.top+")"),b&&A.select(".nv-y.nv-axis").attr("transform","translate("+E+",0)"),y&&(d.width(E).height(S).margin({left:s.left,top:s.top}).svgContainer(C).xScale(x),k.select(".nv-interactive").call(d)),o.width(E).height(S).color(r.map(function(e,t){return e.color||m(e,t)}).filter(function(e,t){return!r[t].disabled})),T=A.select(".nv-barsWrap").datum(r.filter(function(e){return!e.disabled})),T.transition().call(o),j&&(c.scale(x)._ticks(e.utils.calcTicksX(E/100,r)).tickSize(-S,0),A.select(".nv-x.nv-axis").attr("transform","translate(0,"+w.range()[0]+")"),A.select(".nv-x.nv-axis").transition().call(c)),v&&(a.scale(w)._ticks(e.utils.calcTicksY(S/36,r)).tickSize(-E,0),A.select(".nv-y.nv-axis").transition().call(a)),d.dispatch.on("elementMousemove",function(t){o.clearHighlights();var i,l,u,f,h=[];r.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(s){i=e.interactiveBisect(s.values,t.pointXValue,n.x()),o.highlightPoint(i,!0);var r=s.values[i];if(r===void 0)return;u===void 0&&(u=r),l===void 0&&(l=n.xScale()(n.x()(r,i))),h.push({key:s.key,value:n.y()(r,i),color:m(s,s.seriesIndex),data:s.values[i]})}),f=c.tickFormat()(n.x()(u,i)),d.tooltip.position({left:l+s.left,top:t.mouseY+s.top}).chartContainer(z.parentNode).valueFormatter(function(e){return a.tickFormat()(e)}).data({value:f,index:i,series:h})(),d.renderGuideLine(l)}),d.dispatch.on("elementMouseout",function(){p.tooltipHide(),o.clearHighlights()}),l.dispatch.on("legendClick",function(e){e.disabled=!e.disabled,r.filter(function(e){return!e.disabled}).length||r.map(function(e){return e.disabled=!1,k.selectAll(".nv-series").classed("disabled",!1),e}),i.disabled=r.map(function(e){return!!e.disabled}),p.stateChange(i),t.transition().call(n)}),l.dispatch.on("legendDblclick",function(e){r.forEach(function(e){e.disabled=!0}),e.disabled=!1,i.disabled=r.map(function(e){return!!e.disabled}),p.stateChange(i),n.update()}),p.on("changeState",function(e){typeof e.disabled!="undefined"&&(r.forEach(function(t,n){t.disabled=e.disabled[n]}),i.disabled=e.disabled),n.update()})}),u.renderEnd("historicalBarChart immediate"),n}return o.dispatch.on("elementMouseover.tooltip",function(e){e.series={key:n.x()(e.data),value:n.y()(e.data),color:e.color},r.data(e).hidden(!1)}),o.dispatch.on("elementMouseout.tooltip",function(){r.hidden(!0)}),o.dispatch.on("elementMousemove.tooltip",function(){r.position({top:d3.event.pageY,left:d3.event.pageX})()}),n.dispatch=p,n.bars=o,n.legend=l,n.xAxis=c,n.yAxis=a,n.interactiveLayer=d,n.tooltip=r,n.options=e.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return O},set:function(e){O=e}},height:{get:function(){return g},set:function(e){g=e}},showLegend:{get:function(){return _},set:function(e){_=e}},showXAxis:{get:function(){return j},set:function(e){j=e}},showYAxis:{get:function(){return v},set:function(e){v=e}},defaultState:{get:function(){return h},set:function(e){h=e}},noData:{get:function(){return C},set:function(e){C=e}},tooltips:{get:function(){return r.enabled()},set:function(t){e.deprecated("tooltips","use chart.tooltip.enabled() instead"),r.enabled(!!t)}},tooltipContent:{get:function(){return r.contentGenerator()},set:function(t){e.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),r.contentGenerator(t)}},margin:{get:function(){return s},set:function(e){s.top=e.top!==void 0?e.top:s.top,s.right=e.right!==void 0?e.right:s.right,s.bottom=e.bottom!==void 0?e.bottom:s.bottom,s.left=e.left!==void 0?e.left:s.left}},color:{get:function(){return m},set:function(t){m=e.utils.getColor(t),l.color(m),o.color(m)}},duration:{get:function(){return f},set:function(e){f=e,u.reset(f),a.duration(f),c.duration(f)}},rightAlignYAxis:{get:function(){return b},set:function(e){b=e,a.orient(e?"right":"left")}},useInteractiveGuideline:{get:function(){return y},set:function(e){y=e,e===!0&&n.interactive(!1)}}}),e.utils.inheritOptions(n,o),e.utils.initOptions(n),n},e.models.ohlcBarChart=function(){var t=e.models.historicalBarChart(e.models.ohlcBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator(function(e){var n=e.series[0].data,s=n.open<n.close?"2ca02c":"d62728";return'<h3 style="color: #'+s+'">'+e.value+"</h3><table><tr><td>open:</td><td>"+t.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+t.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+t.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+t.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),t},e.models.candlestickBarChart=function(){var t=e.models.historicalBarChart(e.models.candlestickBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator(function(e){var n=e.series[0].data,s=n.open<n.close?"2ca02c":"d62728";return'<h3 style="color: #'+s+'">'+e.value+"</h3><table><tr><td>open:</td><td>"+t.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+t.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+t.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+t.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),t},e.models.legend=function(){"use strict";var t={top:5,right:0,bottom:5,left:0},a=400,r=20,u=function(e){return e.key},c=e.utils.getColor(),f=!0,l=32,m=!0,d=!0,h=!1,s=!1,i=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),n="classic";function o(p){p.each(function(o){var c,p,j,y,_,w,O,C,E,S,M,F,z,D,N,L,P,I,R=a-t.left-t.right,H=d3.select(this);switch(e.utils.initSVG(H),M=H.selectAll("g.nv-legend").data([o]),L=M.enter().append("g").attr("class","nvd3 nv-legend").append("g"),C=M.select("g"),M.attr("transform","translate("+t.left+","+t.top+")"),p=C.selectAll(".nv-series").data(function(e){return n!="furious"?e:e.filter(function(e){return!!s||!e.disengaged})}),E=p.enter().append("g").attr("class","nv-series"),n){case"furious":O=23;break;case"classic":O=20}if(n=="classic"?(E.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),F=p.select("circle")):n=="furious"&&(E.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),F=p.select(".nv-legend-symbol"),E.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),P=p.select(".nv-check-box"),P.each(function(e,t){d3.select(this).selectAll("path").attr("stroke",g(e,t))})),E.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8"),N=p.select("text.nv-legend-text"),p.on("mouseover",function(e,t){i.legendMouseover(e,t)}).on("mouseout",function(e,t){i.legendMouseout(e,t)}).on("click",function(e,t){i.legendClick(e,t);var a,o=p.data();d&&(n=="classic"?h?(o.forEach(function(e){e.disabled=!0}),e.disabled=!1):(e.disabled=!e.disabled,o.every(function(e){return e.disabled})&&o.forEach(function(e){e.disabled=!1})):n=="furious"&&(s?(e.disengaged=!e.disengaged,e.userDisabled=e.userDisabled==void 0?!!e.disabled:e.userDisabled,e.disabled=e.disengaged||e.userDisabled):s||(e.disabled=!e.disabled,e.userDisabled=e.disabled,a=o.filter(function(e){return!e.disengaged}),a.every(function(e){return e.userDisabled})&&o.forEach(function(e){e.disabled=e.userDisabled=!1}))),i.stateChange({disabled:o.map(function(e){return!!e.disabled}),disengaged:o.map(function(e){return!!e.disengaged})}))}).on("dblclick",function(e,t){if(n=="furious"&&s)return;if(i.legendDblclick(e,t),d){var o=p.data();o.forEach(function(e){e.disabled=!0,n=="furious"&&(e.userDisabled=e.disabled)}),e.disabled=!1,n=="furious"&&(e.userDisabled=e.disabled),i.stateChange({disabled:o.map(function(e){return!!e.disabled})})}}),p.classed("nv-disabled",function(e){return e.userDisabled}),p.exit().remove(),N.attr("fill",g).text(u),j=0,f){for(y=[],p.each(function(){var s,o=d3.select(this).select("text");try{if(s=o.node().getComputedTextLength(),s<=0)throw Error()}catch{s=e.utils.calcApproxTextWidth(o)}y.push(s+l)}),c=0,w=[],j=0;j<R&&c<y.length;)w[c]=y[c],j+=y[c++];for(c===0&&(c=1);j>R&&c>1;){w=[],c--;for(_=0;_<y.length;_++)y[_]>(w[_%c]||0)&&(w[_%c]=y[_]);j=w.reduce(function(e,t){return e+t})}for(z=[],S=0,D=0;S<c;S++)z[S]=D,D+=w[S];p.attr("transform",function(e,t){return"translate("+z[t%c]+","+(5+Math.floor(t/c)*O)+")"}),m?C.attr("transform","translate("+(a-t.right-j)+","+t.top+")"):C.attr("transform","translate(0,"+t.top+")"),r=t.top+t.bottom+Math.ceil(y.length/c)*O}else{var x,T=5,A=5,k=0;p.attr("transform",function(){var s=d3.select(this).select("text").node().getComputedTextLength()+l;return x=A,a<t.left+t.right+x+s&&(A=x=5,T+=O),A+=s,A>k&&(k=A),j<x+k&&(j=x+k),"translate("+x+","+T+")"}),C.attr("transform","translate("+(a-t.right-k)+","+t.top+")"),r=t.top+t.bottom+T+15}n=="furious"&&(F.attr("width",function(e,t){return N[0][t].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),L.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0),I=C.select(".nv-legend-bg"),I.transition().duration(300).attr("x",-O).attr("width",j+O-12).attr("height",r+10).attr("y",-t.top-10).attr("opacity",s?1:0)),F.style("fill",v).style("fill-opacity",b).style("stroke",v)});function g(e,t){if(n!="furious")return"#000";if(s)return e.disengaged?"#000":"#fff";if(!s)return e.color||(e.color=c(e,t)),!!e.disabled?e.color:"#fff"}function v(e,t){return s&&n=="furious"?e.disengaged?"#eee":e.color||c(e,t):e.color||c(e,t)}function b(e){return s&&n=="furious"?1:!!e.disabled?0:1}return o}return o.dispatch=i,o.options=e.utils.optionsFunc.bind(o),o._options=Object.create({},{width:{get:function(){return a},set:function(e){a=e}},height:{get:function(){return r},set:function(e){r=e}},key:{get:function(){return u},set:function(e){u=e}},align:{get:function(){return f},set:function(e){f=e}},rightAlign:{get:function(){return m},set:function(e){m=e}},padding:{get:function(){return l},set:function(e){l=e}},updateState:{get:function(){return d},set:function(e){d=e}},radioButtonMode:{get:function(){return h},set:function(e){h=e}},expanded:{get:function(){return s},set:function(e){s=e}},vers:{get:function(){return n},set:function(e){n=e}},margin:{get:function(){return t},set:function(e){t.top=e.top!==void 0?e.top:t.top,t.right=e.right!==void 0?e.right:t.right,t.bottom=e.bottom!==void 0?e.bottom:t.bottom,t.left=e.left!==void 0?e.left:t.left}},color:{get:function(){return c},set:function(t){c=e.utils.getColor(t)}}}),e.utils.initOptions(o),o},e.models.line=function(){"use strict";var n,i,c,h,f,t=e.models.scatter(),s={top:0,right:0,bottom:0,left:0},y=960,j=500,u=null,_=1.5,m=e.utils.defaultColor(),l=function(e){return e.x},a=function(e){return e.y},d=function(e,t){return!isNaN(a(e,t))&&a(e,t)!==null},b=function(e){return e.area},v=!1,r="linear",p=250,g=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");t.pointSize(16).pointDomain([16,256]),i=e.utils.renderWatch(g,p);function o(p){return i.reset(),i.models(t),p.each(function(o){u=d3.select(this);var p,g,O,x,C,E,k,S,M,A=e.utils.availableWidth(y,u,s),w=e.utils.availableHeight(j,u,s);e.utils.initSVG(u),h=t.xScale(),n=t.yScale(),f=f||h,c=c||n,g=u.selectAll("g.nv-wrap.nv-line").data([o]),O=g.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),S=O.append("defs"),x=O.append("g"),M=g.select("g"),x.append("g").attr("class","nv-groups"),x.append("g").attr("class","nv-scatterWrap"),g.attr("transform","translate("+s.left+","+s.top+")"),t.width(A).height(w),C=g.select(".nv-scatterWrap"),C.call(t),S.append("clipPath").attr("id","nv-edge-clip-"+t.id()).append("rect"),g.select("#nv-edge-clip-"+t.id()+" rect").attr("width",A).attr("height",w>0?w:0),M.attr("clip-path",v?"url(#nv-edge-clip-"+t.id()+")":""),C.attr("clip-path",v?"url(#nv-edge-clip-"+t.id()+")":""),p=g.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e){return e.key}),p.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(e){return e.strokeWidth||_}).style("fill-opacity",1e-6),p.exit().remove(),p.attr("class",function(e,t){return(e.classed||"")+" nv-group nv-series-"+t}).classed("hover",function(e){return e.hover}).style("fill",function(e,t){return m(e,t)}).style("stroke",function(e,t){return m(e,t)}),p.watchTransition(i,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(e){return e.fillOpacity||.5}),E=p.selectAll("path.nv-area").data(function(e){return b(e)?[e]:[]}),E.enter().append("path").attr("class","nv-area").attr("d",function(t){return d3.svg.area().interpolate(r).defined(d).x(function(t,n){return e.utils.NaNtoZero(f(l(t,n)))}).y0(function(t,n){return e.utils.NaNtoZero(c(a(t,n)))}).y1(function(){return c(n.domain()[0]<=0?n.domain()[1]>=0?0:n.domain()[1]:n.domain()[0])}).apply(this,[t.values])}),p.exit().selectAll("path.nv-area").remove(),E.watchTransition(i,"line: areaPaths").attr("d",function(t){return d3.svg.area().interpolate(r).defined(d).x(function(t,n){return e.utils.NaNtoZero(h(l(t,n)))}).y0(function(t,s){return e.utils.NaNtoZero(n(a(t,s)))}).y1(function(){return n(n.domain()[0]<=0?n.domain()[1]>=0?0:n.domain()[1]:n.domain()[0])}).apply(this,[t.values])}),k=p.selectAll("path.nv-line").data(function(e){return[e.values]}),k.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(r).defined(d).x(function(t,n){return e.utils.NaNtoZero(f(l(t,n)))}).y(function(t,n){return e.utils.NaNtoZero(c(a(t,n)))})),k.watchTransition(i,"line: linePaths").attr("d",d3.svg.line().interpolate(r).defined(d).x(function(t,n){return e.utils.NaNtoZero(h(l(t,n)))}).y(function(t,s){return e.utils.NaNtoZero(n(a(t,s)))})),f=h.copy(),c=n.copy()}),i.renderEnd("line immediate"),o}return o.dispatch=g,o.scatter=t,t.dispatch.on("elementClick",function(){g.elementClick.apply(this,arguments)}),t.dispatch.on("elementMouseover",function(){g.elementMouseover.apply(this,arguments)}),t.dispatch.on("elementMouseout",function(){g.elementMouseout.apply(this,arguments)}),o.options=e.utils.optionsFunc.bind(o),o._options=Object.create({},{width:{get:function(){return y},set:function(e){y=e}},height:{get:function(){return j},set:function(e){j=e}},defined:{get:function(){return d},set:function(e){d=e}},interpolate:{get:function(){return r},set:function(e){r=e}},clipEdge:{get:function(){return v},set:function(e){v=e}},margin:{get:function(){return s},set:function(e){s.top=e.top!==void 0?e.top:s.top,s.right=e.right!==void 0?e.right:s.right,s.bottom=e.bottom!==void 0?e.bottom:s.bottom,s.left=e.left!==void 0?e.left:s.left}},duration:{get:function(){return p},set:function(e){p=e,i.reset(p),t.duration(p)}},isArea:{get:function(){return b},set:function(e){b=d3.functor(e)}},x:{get:function(){return l},set:function(e){l=e,t.x(e)}},y:{get:function(){return a},set:function(e){a=e,t.y(e)}},color:{get:function(){return m},set:function(n){m=e.utils.getColor(n),t.color(m)}}}),e.utils.inheritOptions(o,t),e.utils.initOptions(o),o},e.models.lineChart=function(){"use strict";var u,y,O,C,E,s=e.models.line(),r=e.models.axis(),i=e.models.axis(),d=e.models.legend(),c=e.interactiveGuideline(),l=e.models.tooltip(),n={top:30,right:20,bottom:50,left:60},m=e.utils.defaultColor(),w=null,j=null,_=!0,b=!0,v=!0,p=!1,g=!1,o=e.utils.state(),h=null,x=null,f=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),a=250;r.orient("bottom").tickPadding(7),i.orient(p?"right":"left"),l.valueFormatter(function(e,t){return i.tickFormat()(e,t)}).headerFormatter(function(e,t){return r.tickFormat()(e,t)}),u=e.utils.renderWatch(f,a),C=function(e){return function(){return{active:e.map(function(e){return!e.disabled})}}},E=function(e){return function(t){t.active!==void 0&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};function t(l){return u.reset(),u.models(s),b&&u.models(r),v&&u.models(i),l.each(function(l){var x,k,A,S,M,F,T,u=d3.select(this),z=this;if(e.utils.initSVG(u),x=e.utils.availableWidth(w,u,n),k=e.utils.availableHeight(j,u,n),t.update=function(){a===0?u.call(t):u.transition().duration(a).call(t)},t.container=this,o.setter(E(l),t.update).getter(C(l)).update(),o.disabled=l.map(function(e){return!!e.disabled}),!h){h={};for(M in o)o[M]instanceof Array?h[M]=o[M].slice(0):h[M]=o[M]}if(!l||!l.length||!l.filter(function(e){return e.values.length}).length)return e.utils.noData(t,u),t;u.selectAll(".nv-noData").remove(),y=s.xScale(),O=s.yScale(),F=u.selectAll("g.nv-wrap.nv-lineChart").data([l]),S=F.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),A=F.select("g"),S.append("rect").style("opacity",0),S.append("g").attr("class","nv-x nv-axis"),S.append("g").attr("class","nv-y nv-axis"),S.append("g").attr("class","nv-linesWrap"),S.append("g").attr("class","nv-legendWrap"),S.append("g").attr("class","nv-interactive"),A.select("rect").attr("width",x).attr("height",k>0?k:0),_&&(d.width(x),A.select(".nv-legendWrap").datum(l).call(d),n.top!=d.height()&&(n.top=d.height(),k=e.utils.availableHeight(j,u,n)),F.select(".nv-legendWrap").attr("transform","translate(0,"+-n.top+")")),F.attr("transform","translate("+n.left+","+n.top+")"),p&&A.select(".nv-y.nv-axis").attr("transform","translate("+x+",0)"),g&&(c.width(x).height(k).margin({left:n.left,top:n.top}).svgContainer(u).xScale(y),F.select(".nv-interactive").call(c)),s.width(x).height(k).color(l.map(function(e,t){return e.color||m(e,t)}).filter(function(e,t){return!l[t].disabled})),T=A.select(".nv-linesWrap").datum(l.filter(function(e){return!e.disabled})),T.call(s),b&&(r.scale(y)._ticks(e.utils.calcTicksX(x/100,l)).tickSize(-k,0),A.select(".nv-x.nv-axis").attr("transform","translate(0,"+O.range()[0]+")"),A.select(".nv-x.nv-axis").call(r)),v&&(i.scale(O)._ticks(e.utils.calcTicksY(k/36,l)).tickSize(-x,0),A.select(".nv-y.nv-axis").call(i)),d.dispatch.on("stateChange",function(e){for(var n in e)o[n]=e[n];f.stateChange(o),t.update()}),c.dispatch.on("elementMousemove",function(o){s.clearHighlights();var a,u,h,f,p,g,v,b,d=[];l.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(n,i){a=e.interactiveBisect(n.values,o.pointXValue,t.x());var r=n.values[a],c=t.y()(r,a);if(c!=null&&s.highlightPoint(i,a,!0),r===void 0)return;u===void 0&&(u=r),h===void 0&&(h=t.xScale()(t.x()(r,a))),d.push({key:n.key,value:c,color:m(n,n.seriesIndex)})}),d.length>2&&(p=t.yScale().invert(o.mouseY),g=Math.abs(t.yScale().domain()[0]-t.yScale().domain()[1]),v=.03*g,f=e.nearestValueIndex(d.map(function(e){return e.value}),p,v),f!==null&&(d[f].highlight=!0)),b=r.tickFormat()(t.x()(u,a)),c.tooltip.position({left:o.mouseX+n.left,top:o.mouseY+n.top}).chartContainer(z.parentNode).valueFormatter(function(e){return e==null?"N/A":i.tickFormat()(e)}).data({value:b,index:a,series:d})(),c.renderGuideLine(h)}),c.dispatch.on("elementClick",function(n){var o,i=[];l.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(s){var c,a=e.interactiveBisect(s.values,n.pointXValue,t.x()),r=s.values[a];if(typeof r=="undefined")return;typeof o=="undefined"&&(o=t.xScale()(t.x()(r,a))),c=t.yScale()(t.y()(r,a)),i.push({point:r,pointIndex:a,pos:[o,c],seriesIndex:s.seriesIndex,series:s})}),s.dispatch.elementClick(i)}),c.dispatch.on("elementMouseout",function(){s.clearHighlights()}),f.on("changeState",function(e){typeof e.disabled!="undefined"&&l.length===e.disabled.length&&(l.forEach(function(t,n){t.disabled=e.disabled[n]}),o.disabled=e.disabled),t.update()})}),u.renderEnd("lineChart immediate"),t}return s.dispatch.on("elementMouseover.tooltip",function(e){l.data(e).position(e.pos).hidden(!1)}),s.dispatch.on("elementMouseout.tooltip",function(){l.hidden(!0)}),t.dispatch=f,t.lines=s,t.legend=d,t.xAxis=r,t.yAxis=i,t.interactiveLayer=c,t.tooltip=l,t.dispatch=f,t.options=e.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return w},set:function(e){w=e}},height:{get:function(){return j},set:function(e){j=e}},showLegend:{get:function(){return _},set:function(e){_=e}},showXAxis:{get:function(){return b},set:function(e){b=e}},showYAxis:{get:function(){return v},set:function(e){v=e}},defaultState:{get:function(){return h},set:function(e){h=e}},noData:{get:function(){return x},set:function(e){x=e}},tooltips:{get:function(){return l.enabled()},set:function(t){e.deprecated("tooltips","use chart.tooltip.enabled() instead"),l.enabled(!!t)}},tooltipContent:{get:function(){return l.contentGenerator()},set:function(t){e.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),l.contentGenerator(t)}},margin:{get:function(){return n},set:function(e){n.top=e.top!==void 0?e.top:n.top,n.right=e.right!==void 0?e.right:n.right,n.bottom=e.bottom!==void 0?e.bottom:n.bottom,n.left=e.left!==void 0?e.left:n.left}},duration:{get:function(){return a},set:function(e){a=e,u.reset(a),s.duration(a),r.duration(a),i.duration(a)}},color:{get:function(){return m},set:function(t){m=e.utils.getColor(t),d.color(m),s.color(m)}},rightAlignYAxis:{get:function(){return p},set:function(e){p=e,i.orient(p?"right":"left")}},useInteractiveGuideline:{get:function(){return g},set:function(e){g=e,g&&(s.interactive(!1),s.useVoronoi(!1))}}}),e.utils.inheritOptions(t,s),e.utils.initOptions(t),t},e.models.linePlusBarChart=function(){"use strict";var i,d,p,T,N,I,B,V,$,s=e.models.line(),f=e.models.line(),o=e.models.historicalBar(),v=e.models.historicalBar(),g=e.models.axis(),_=e.models.axis(),y=e.models.axis(),b=e.models.axis(),A=e.models.axis(),k=e.models.axis(),c=e.models.legend(),a=d3.svg.brush(),r=e.models.tooltip(),n={top:30,right:30,bottom:30,left:60},z={top:0,right:30,bottom:20,left:60},P=null,x=null,O=function(e){return e.x},w=function(e){return e.y},m=e.utils.defaultColor(),M=!0,C=!0,R=!1,L=!0,j=50,h=null,H=null,S=d3.dispatch("brush","stateChange","changeState"),u=0,l=e.utils.state(),E=null,D=" (left axis)",F=" (right axis)";s.clipEdge(!0),f.interactive(!1),g.orient("bottom").tickPadding(5),y.orient("left"),b.orient("right"),_.orient("bottom").tickPadding(5),A.orient("left"),k.orient("right"),r.headerEnabled(!0).headerFormatter(function(e,t){return g.tickFormat()(e,t)}),B=function(e){return function(){return{active:e.map(function(e){return!e.disabled})}}},V=function(e){return function(t){t.active!==void 0&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};function t(r){return r.each(function(r){var H,U,Y,G,Q,Z,J,q=d3.select(this),me=this,de,le,ee,oe,ce,ae,re,te,se,ne;e.utils.initSVG(q);var W=e.utils.availableWidth(P,q,n),X=e.utils.availableHeight(x,q,n)-(C?j:0),K=j-z.top-z.bottom;if(t.update=function(){q.transition().duration(u).call(t)},t.container=this,l.setter(V(r),t.update).getter(B(r)).update(),l.disabled=r.map(function(e){return!!e.disabled}),!E){E={};for(Q in l)l[Q]instanceof Array?E[Q]=l[Q].slice(0):E[Q]=l[Q]}if(!r||!r.length||!r.filter(function(e){return e.values.length}).length)return e.utils.noData(t,q),t;q.selectAll(".nv-noData").remove(),U=r.filter(function(e){return!e.disabled&&e.bar}),Y=r.filter(function(e){return!e.bar}),p=o.xScale(),i=_.scale(),N=o.yScale(),I=s.yScale(),T=v.yScale(),$=f.yScale(),de=r.filter(function(e){return!e.disabled&&e.bar}).map(function(e){return e.values.map(function(e,t){return{x:O(e,t),y:w(e,t)}})}),le=r.filter(function(e){return!e.disabled&&!e.bar}).map(function(e){return e.values.map(function(e,t){return{x:O(e,t),y:w(e,t)}})}),p.range([0,W]),i.domain(d3.extent(d3.merge(de.concat(le)),function(e){return e.x})).range([0,W]),J=q.selectAll("g.nv-wrap.nv-linePlusBar").data([r]),ee=J.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),H=J.select("g"),ee.append("g").attr("class","nv-legendWrap"),Z=ee.append("g").attr("class","nv-focus"),Z.append("g").attr("class","nv-x nv-axis"),Z.append("g").attr("class","nv-y1 nv-axis"),Z.append("g").attr("class","nv-y2 nv-axis"),Z.append("g").attr("class","nv-barsWrap"),Z.append("g").attr("class","nv-linesWrap"),G=ee.append("g").attr("class","nv-context"),G.append("g").attr("class","nv-x nv-axis"),G.append("g").attr("class","nv-y1 nv-axis"),G.append("g").attr("class","nv-y2 nv-axis"),G.append("g").attr("class","nv-barsWrap"),G.append("g").attr("class","nv-linesWrap"),G.append("g").attr("class","nv-brushBackground"),G.append("g").attr("class","nv-x nv-brush"),M&&(oe=c.align()?W/2:W,ce=c.align()?oe:0,c.width(oe),H.select(".nv-legendWrap").datum(r.map(function(e){return e.originalKey=e.originalKey===void 0?e.key:e.originalKey,e.key=e.originalKey+(e.bar?D:F),e})).call(c),n.top!=c.height()&&(n.top=c.height(),X=e.utils.availableHeight(x,q,n)-j),H.select(".nv-legendWrap").attr("transform","translate("+ce+","+-n.top+")")),J.attr("transform","translate("+n.left+","+n.top+")"),H.select(".nv-context").style("display",C?"initial":"none"),v.width(W).height(K).color(r.map(function(e,t){return e.color||m(e,t)}).filter(function(e,t){return!r[t].disabled&&r[t].bar})),f.width(W).height(K).color(r.map(function(e,t){return e.color||m(e,t)}).filter(function(e,t){return!r[t].disabled&&!r[t].bar})),ae=H.select(".nv-context .nv-barsWrap").datum(U.length?U:[{values:[]}]),re=H.select(".nv-context .nv-linesWrap").datum(Y[0].disabled?[{values:[]}]:Y),H.select(".nv-context").attr("transform","translate(0,"+(X+n.bottom+z.top)+")"),ae.transition().call(v),re.transition().call(f),L&&(_._ticks(e.utils.calcTicksX(W/100,r)).tickSize(-K,0),H.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+T.range()[0]+")"),H.select(".nv-context .nv-x.nv-axis").transition().call(_)),R&&(A.scale(T)._ticks(K/36).tickSize(-W,0),k.scale($)._ticks(K/36).tickSize(U.length?0:-W,0),H.select(".nv-context .nv-y3.nv-axis").style("opacity",U.length?1:0).attr("transform","translate(0,"+i.range()[0]+")"),H.select(".nv-context .nv-y2.nv-axis").style("opacity",Y.length?1:0).attr("transform","translate("+i.range()[1]+",0)"),H.select(".nv-context .nv-y1.nv-axis").transition().call(A),H.select(".nv-context .nv-y2.nv-axis").transition().call(k)),a.x(i).on("brush",ie),h&&a.extent(h),te=H.select(".nv-brushBackground").selectAll("g").data([h||a.extent()]),se=te.enter().append("g"),se.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",K),se.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",K),ne=H.select(".nv-x.nv-brush").call(a),ne.selectAll("rect").attr("height",K),ne.selectAll(".resize").append("path").attr("d",ue),c.dispatch.on("stateChange",function(e){for(var n in e)l[n]=e[n];S.stateChange(l),t.update()}),S.on("changeState",function(e){typeof e.disabled!="undefined"&&(r.forEach(function(t,n){t.disabled=e.disabled[n]}),l.disabled=e.disabled),t.update()});function ue(e){var s=+(e=="e"),n=s?1:-1,t=K/3;return"M"+.5*n+","+t+"A6,6 0 0 "+s+" "+6.5*n+","+(t+6)+"V"+(2*t-6)+"A6,6 0 0 "+s+" "+.5*n+","+2*t+"ZM"+2.5*n+","+(t+8)+"V"+(2*t-8)+"M"+4.5*n+","+(t+8)+"V"+(2*t-8)}function he(){a.empty()||a.extent(h),te.data([a.empty()?i.domain():h]).each(function(e){var n=i(e[0])-i.range()[0],s=i.range()[1]-i(e[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",i(e[1])).attr("width",s<0?0:s)})}function ie(){h=a.empty()?null:a.extent(),d=a.empty()?i.domain():a.extent(),S.brush({extent:d,brush:a}),he(),o.width(W).height(X).color(r.map(function(e,t){return e.color||m(e,t)}).filter(function(e,t){return!r[t].disabled&&r[t].bar})),s.width(W).height(X).color(r.map(function(e,t){return e.color||m(e,t)}).filter(function(e,t){return!r[t].disabled&&!r[t].bar}));var t=H.select(".nv-focus .nv-barsWrap").datum(U.length?U.map(function(e){return{key:e.key,values:e.values.filter(function(e,t){return o.x()(e,t)>=d[0]&&o.x()(e,t)<=d[1]})}}):[{values:[]}]),n=H.select(".nv-focus .nv-linesWrap").datum(Y[0].disabled?[{values:[]}]:Y.map(function(e){return{area:e.area,fillOpacity:e.fillOpacity,key:e.key,values:e.values.filter(function(e,t){return s.x()(e,t)>=d[0]&&s.x()(e,t)<=d[1]})}}));U.length?p=o.xScale():p=s.xScale(),g.scale(p)._ticks(e.utils.calcTicksX(W/100,r)).tickSize(-X,0),g.domain([Math.ceil(d[0]),Math.floor(d[1])]),H.select(".nv-x.nv-axis").transition().duration(u).call(g),t.transition().duration(u).call(o),n.transition().duration(u).call(s),H.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+N.range()[0]+")"),y.scale(N)._ticks(e.utils.calcTicksY(X/36,r)).tickSize(-W,0),b.scale(I)._ticks(e.utils.calcTicksY(X/36,r)).tickSize(U.length?0:-W,0),H.select(".nv-focus .nv-y1.nv-axis").style("opacity",U.length?1:0),H.select(".nv-focus .nv-y2.nv-axis").style("opacity",Y.length&&!Y[0].disabled?1:0).attr("transform","translate("+p.range()[1]+",0)"),H.select(".nv-focus .nv-y1.nv-axis").transition().duration(u).call(y),H.select(".nv-focus .nv-y2.nv-axis").transition().duration(u).call(b)}ie()}),t}return s.dispatch.on("elementMouseover.tooltip",function(e){r.duration(100).valueFormatter(function(e,t){return b.tickFormat()(e,t)}).data(e).position(e.pos).hidden(!1)}),s.dispatch.on("elementMouseout.tooltip",function(){r.hidden(!0)}),o.dispatch.on("elementMouseover.tooltip",function(e){e.value=t.x()(e.data),e.series={value:t.y()(e.data),color:e.color},r.duration(0).valueFormatter(function(e,t){return y.tickFormat()(e,t)}).data(e).hidden(!1)}),o.dispatch.on("elementMouseout.tooltip",function(){r.hidden(!0)}),o.dispatch.on("elementMousemove.tooltip",function(){r.position({top:d3.event.pageY,left:d3.event.pageX})()}),t.dispatch=S,t.legend=c,t.lines=s,t.lines2=f,t.bars=o,t.bars2=v,t.xAxis=g,t.x2Axis=_,t.y1Axis=y,t.y2Axis=b,t.y3Axis=A,t.y4Axis=k,t.tooltip=r,t.options=e.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return P},set:function(e){P=e}},height:{get:function(){return x},set:function(e){x=e}},showLegend:{get:function(){return M},set:function(e){M=e}},brushExtent:{get:function(){return h},set:function(e){h=e}},noData:{get:function(){return H},set:function(e){H=e}},focusEnable:{get:function(){return C},set:function(e){C=e}},focusHeight:{get:function(){return j},set:function(e){j=e}},focusShowAxisX:{get:function(){return L},set:function(e){L=e}},focusShowAxisY:{get:function(){return R},set:function(e){R=e}},legendLeftAxisHint:{get:function(){return D},set:function(e){D=e}},legendRightAxisHint:{get:function(){return F},set:function(e){F=e}},tooltips:{get:function(){return r.enabled()},set:function(t){e.deprecated("tooltips","use chart.tooltip.enabled() instead"),r.enabled(!!t)}},tooltipContent:{get:function(){return r.contentGenerator()},set:function(t){e.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),r.contentGenerator(t)}},margin:{get:function(){return n},set:function(e){n.top=e.top!==void 0?e.top:n.top,n.right=e.right!==void 0?e.right:n.right,n.bottom=e.bottom!==void 0?e.bottom:n.bottom,n.left=e.left!==void 0?e.left:n.left}},duration:{get:function(){return u},set:function(e){u=e}},color:{get:function(){return m},set:function(t){m=e.utils.getColor(t),c.color(m)}},x:{get:function(){return O},set:function(e){O=e,s.x(e),f.x(e),o.x(e),v.x(e)}},y:{get:function(){return w},set:function(e){w=e,s.y(e),f.y(e),o.y(e),v.y(e)}}}),e.utils.inheritOptions(t,s),e.utils.initOptions(t),t},e.models.lineWithFocusChart=function(){"use strict";var l,_,O,A,M,F,n=e.models.line(),a=e.models.line(),r=e.models.axis(),c=e.models.axis(),p=e.models.axis(),b=e.models.axis(),m=e.models.legend(),o=d3.svg.brush(),u=e.models.tooltip(),f=e.interactiveGuideline(),s={top:30,right:30,bottom:30,left:60},k={top:0,right:30,bottom:20,left:60},v=e.utils.defaultColor(),E=null,y=null,j=50,x=!1,C=!0,d=null,S=null,w=d3.dispatch("brush","stateChange","changeState"),i=250,h=e.utils.state(),g=null;n.clipEdge(!0).duration(0),a.interactive(!1),r.orient("bottom").tickPadding(5),c.orient("left"),p.orient("bottom").tickPadding(5),b.orient("left"),u.valueFormatter(function(e,t){return c.tickFormat()(e,t)}).headerFormatter(function(e,t){return r.tickFormat()(e,t)}),M=function(e){return function(){return{active:e.map(function(e){return!e.disabled})}}},F=function(e){return function(t){t.active!==void 0&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};function t(u){return u.each(function(u){var S,L,R,P,H,I,B,V,$,W,T=d3.select(this),K=this;e.utils.initSVG(T);var z=e.utils.availableWidth(E,T,s),N=e.utils.availableHeight(y,T,s)-j,D=j-k.top-k.bottom;if(t.update=function(){T.transition().duration(i).call(t)},t.container=this,h.setter(F(u),t.update).getter(M(u)).update(),h.disabled=u.map(function(e){return!!e.disabled}),!g){g={};for(L in h)h[L]instanceof Array?g[L]=h[L].slice(0):g[L]=h[L]}if(!u||!u.length||!u.filter(function(e){return e.values.length}).length)return e.utils.noData(t,T),t;T.selectAll(".nv-noData").remove(),O=n.xScale(),A=n.yScale(),l=a.xScale(),_=a.yScale(),H=T.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([u]),I=H.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),S=H.select("g"),I.append("g").attr("class","nv-legendWrap"),P=I.append("g").attr("class","nv-focus"),P.append("g").attr("class","nv-x nv-axis"),P.append("g").attr("class","nv-y nv-axis"),P.append("g").attr("class","nv-linesWrap"),P.append("g").attr("class","nv-interactive"),R=I.append("g").attr("class","nv-context"),R.append("g").attr("class","nv-x nv-axis"),R.append("g").attr("class","nv-y nv-axis"),R.append("g").attr("class","nv-linesWrap"),R.append("g").attr("class","nv-brushBackground"),R.append("g").attr("class","nv-x nv-brush"),C&&(m.width(z),S.select(".nv-legendWrap").datum(u).call(m),s.top!=m.height()&&(s.top=m.height(),N=e.utils.availableHeight(y,T,s)-j),S.select(".nv-legendWrap").attr("transform","translate(0,"+-s.top+")")),H.attr("transform","translate("+s.left+","+s.top+")"),x&&(f.width(z).height(N).margin({left:s.left,top:s.top}).svgContainer(T).xScale(O),H.select(".nv-interactive").call(f)),n.width(z).height(N).color(u.map(function(e,t){return e.color||v(e,t)}).filter(function(e,t){return!u[t].disabled})),a.defined(n.defined()).width(z).height(D).color(u.map(function(e,t){return e.color||v(e,t)}).filter(function(e,t){return!u[t].disabled})),S.select(".nv-context").attr("transform","translate(0,"+(N+s.bottom+k.top)+")"),W=S.select(".nv-context .nv-linesWrap").datum(u.filter(function(e){return!e.disabled})),d3.transition(W).call(a),r.scale(O)._ticks(e.utils.calcTicksX(z/100,u)).tickSize(-N,0),c.scale(A)._ticks(e.utils.calcTicksY(N/36,u)).tickSize(-z,0),S.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+N+")"),o.x(l).on("brush",function(){U()}),d&&o.extent(d),B=S.select(".nv-brushBackground").selectAll("g").data([d||o.extent()]),V=B.enter().append("g"),V.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",D),V.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",D),$=S.select(".nv-x.nv-brush").call(o),$.selectAll("rect").attr("height",D),$.selectAll(".resize").append("path").attr("d",q),U(),p.scale(l)._ticks(e.utils.calcTicksX(z/100,u)).tickSize(-D,0),S.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+_.range()[0]+")"),d3.transition(S.select(".nv-context .nv-x.nv-axis")).call(p),b.scale(_)._ticks(e.utils.calcTicksY(D/36,u)).tickSize(-z,0),d3.transition(S.select(".nv-context .nv-y.nv-axis")).call(b),S.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+_.range()[0]+")"),m.dispatch.on("stateChange",function(e){for(var n in e)h[n]=e[n];w.stateChange(h),t.update()}),f.dispatch.on("elementMousemove",function(i){n.clearHighlights();var a,h,m,p,g,b,j,y,d=[];u.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(s,r){var c,p,u=o.empty()?l.domain():o.extent(),f=s.values.filter(function(e,t){return n.x()(e,t)>=u[0]&&n.x()(e,t)<=u[1]});if(a=e.interactiveBisect(f,i.pointXValue,n.x()),c=f[a],p=t.y()(c,a),p!=null&&n.highlightPoint(r,a,!0),c===void 0)return;h===void 0&&(h=c),m===void 0&&(m=t.xScale()(t.x()(c,a))),d.push({key:s.key,value:t.y()(c,a),color:v(s,s.seriesIndex)})}),d.length>2&&(g=t.yScale().invert(i.mouseY),b=Math.abs(t.yScale().domain()[0]-t.yScale().domain()[1]),j=.03*b,p=e.nearestValueIndex(d.map(function(e){return e.value}),g,j),p!==null&&(d[p].highlight=!0)),y=r.tickFormat()(t.x()(h,a)),f.tooltip.position({left:i.mouseX+s.left,top:i.mouseY+s.top}).chartContainer(K.parentNode).valueFormatter(function(e){return e==null?"N/A":c.tickFormat()(e)}).data({value:y,index:a,series:d})(),f.renderGuideLine(m)}),f.dispatch.on("elementMouseout",function(){n.clearHighlights()}),w.on("changeState",function(e){typeof e.disabled!="undefined"&&u.forEach(function(t,n){t.disabled=e.disabled[n]}),t.update()});function q(e){var s=+(e=="e"),n=s?1:-1,t=D/3;return"M"+.5*n+","+t+"A6,6 0 0 "+s+" "+6.5*n+","+(t+6)+"V"+(2*t-6)+"A6,6 0 0 "+s+" "+.5*n+","+2*t+"ZM"+2.5*n+","+(t+8)+"V"+(2*t-8)+"M"+4.5*n+","+(t+8)+"V"+(2*t-8)}function Y(){o.empty()||o.extent(d),B.data([o.empty()?l.domain():d]).each(function(e){var n=l(e[0])-O.range()[0],s=z-l(e[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",l(e[1])).attr("width",s<0?0:s)})}function U(){d=o.empty()?null:o.extent();var t,e=o.empty()?l.domain():o.extent();if(Math.abs(e[0]-e[1])<=1)return;w.brush({extent:e,brush:o}),Y(),t=S.select(".nv-focus .nv-linesWrap").datum(u.filter(function(e){return!e.disabled}).map(function(t){return{key:t.key,area:t.area,values:t.values.filter(function(t,s){return n.x()(t,s)>=e[0]&&n.x()(t,s)<=e[1]})}})),t.transition().duration(i).call(n),S.select(".nv-focus .nv-x.nv-axis").transition().duration(i).call(r),S.select(".nv-focus .nv-y.nv-axis").transition().duration(i).call(c)}}),t}return n.dispatch.on("elementMouseover.tooltip",function(e){u.data(e).position(e.pos).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(){u.hidden(!0)}),t.dispatch=w,t.legend=m,t.lines=n,t.lines2=a,t.xAxis=r,t.yAxis=c,t.x2Axis=p,t.y2Axis=b,t.interactiveLayer=f,t.tooltip=u,t.options=e.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return E},set:function(e){E=e}},height:{get:function(){return y},set:function(e){y=e}},focusHeight:{get:function(){return j},set:function(e){j=e}},showLegend:{get:function(){return C},set:function(e){C=e}},brushExtent:{get:function(){return d},set:function(e){d=e}},defaultState:{get:function(){return g},set:function(e){g=e}},noData:{get:function(){return S},set:function(e){S=e}},tooltips:{get:function(){return u.enabled()},set:function(t){e.deprecated("tooltips","use chart.tooltip.enabled() instead"),u.enabled(!!t)}},tooltipContent:{get:function(){return u.contentGenerator()},set:function(t){e.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),u.contentGenerator(t)}},margin:{get:function(){return s},set:function(e){s.top=e.top!==void 0?e.top:s.top,s.right=e.right!==void 0?e.right:s.right,s.bottom=e.bottom!==void 0?e.bottom:s.bottom,s.left=e.left!==void 0?e.left:s.left}},color:{get:function(){return v},set:function(t){v=e.utils.getColor(t),m.color(v)}},interpolate:{get:function(){return n.interpolate()},set:function(e){n.interpolate(e),a.interpolate(e)}},xTickFormat:{get:function(){return r.tickFormat()},set:function(e){r.tickFormat(e),p.tickFormat(e)}},yTickFormat:{get:function(){return c.tickFormat()},set:function(e){c.tickFormat(e),b.tickFormat(e)}},duration:{get:function(){return i},set:function(e){i=e,c.duration(i),b.duration(i),r.duration(i),p.duration(i)}},x:{get:function(){return n.x()},set:function(e){n.x(e),a.x(e)}},y:{get:function(){return n.y()},set:function(e){n.y(e),a.y(e)}},useInteractiveGuideline:{get:function(){return x},set:function(e){x=e,x&&(n.interactive(!1),n.useVoronoi(!1))}}}),e.utils.inheritOptions(t,n),e.utils.initOptions(t),t},e.models.multiBar=function(){"use strict";var r,f,v,b,j,w,A,s={top:0,right:0,bottom:0,left:0},k=960,x=500,n=d3.scale.ordinal(),t=d3.scale.linear(),g=Math.floor(Math.random()*1e4),y=null,h=function(e){return e.x},o=function(e){return e.y},C=[0],E=!0,i=!1,_="zero",u=e.utils.defaultColor(),c=!1,p=null,a=500,O=.1,d=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),m=e.utils.renderWatch(d,a),S=0;function l(M){return m.reset(),M.each(function(l){var M,F,T,z,D,N,L,R,P,H,I,B,W,U,V=k-s.left-s.right,$=x-s.top-s.bottom;y=d3.select(this),e.utils.initSVG(y),F=0,W=function(e,t){return e.series===l.length-1&&t===l[0].values.length-1},c&&l.length&&(c=[{values:l[0].values.map(function(e){return{x:e.x,y:0,series:e.series,size:.01}})}]),i&&(T=d3.layout.stack().offset(_).values(function(e){return e.values}).y(o)(!l.length&&c?c:l),T.forEach(function(e,t){e.nonStackable?(l[t].nonStackableSeries=F++,T[t]=l[t]):t>0&&T[t-1].nonStackable&&T[t].values.map(function(e,n){e.y0-=T[t-1].values[n].y,e.y1=e.y0+e.y})}),l=T),l.forEach(function(e,t){e.values.forEach(function(n){n.series=t,n.key=e.key})}),i&&l[0].values.map(function(e,t){var n=0,s=0;l.map(function(e,o){if(!l[o].nonStackable){var i=e.values[t];i.size=Math.abs(i.y),i.y<0?(i.y1=s,s=s-i.size):(i.y1=i.size+n,n=n+i.size)}})}),L=v&&b?[]:l.map(function(e,t){return e.values.map(function(e,n){return{x:h(e,n),y:o(e,n),y0:e.y0,y1:e.y1,idx:t}})}),n.domain(v||d3.merge(L).map(function(e){return e.x})).rangeBands(j||[0,V],O),t.domain(b||d3.extent(d3.merge(L).map(function(e){var t=e.y;return i&&!l[e.idx].nonStackable&&(e.y>0?t=e.y1:t=e.y1+e.y),t}).concat(C))).range(w||[$,0]),n.domain()[0]===n.domain()[1]&&(n.domain()[0]?n.domain([n.domain()[0]-n.domain()[0]*.01,n.domain()[1]+n.domain()[1]*.01]):n.domain([-1,1])),t.domain()[0]===t.domain()[1]&&(t.domain()[0]?t.domain([t.domain()[0]+t.domain()[0]*.01,t.domain()[1]-t.domain()[1]*.01]):t.domain([-1,1])),A=A||n,f=f||t,z=y.selectAll("g.nv-wrap.nv-multibar").data([l]),R=z.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),H=R.append("defs"),I=R.append("g"),B=z.select("g"),I.append("g").attr("class","nv-groups"),z.attr("transform","translate("+s.left+","+s.top+")"),H.append("clipPath").attr("id","nv-edge-clip-"+g).append("rect"),z.select("#nv-edge-clip-"+g+" rect").attr("width",V).attr("height",$),B.attr("clip-path",E?"url(#nv-edge-clip-"+g+")":""),D=z.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e,t){return t}),D.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),N=m.transition(D.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,a)).attr("y",function(e){var s=f(0)||0;return i&&l[e.series]&&!l[e.series].nonStackable&&(s=f(e.y0)),s}).attr("height",0).remove(),N.delay&&N.delay(function(e,t){var n=t*(a/(S+1))-t;return n}),D.attr("class",function(e,t){return"nv-group nv-series-"+t}).classed("hover",function(e){return e.hover}).style("fill",function(e,t){return u(e,t)}).style("stroke",function(e,t){return u(e,t)}),D.style("stroke-opacity",1).style("fill-opacity",.75),M=D.selectAll("rect.nv-bar").data(function(e){return c&&!l.length?c.values:e.values}),M.exit().remove(),U=M.enter().append("rect").attr("class",function(e,t){return o(e,t)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(e,t,s){return i&&!l[s].nonStackable?0:s*n.rangeBand()/l.length}).attr("y",function(e,t,n){return f(i&&!l[n].nonStackable?e.y0:0)||0}).attr("height",0).attr("width",function(e,t,s){return n.rangeBand()/(i&&!l[s].nonStackable?1:l.length)}).attr("transform",function(e,t){return"translate("+n(h(e,t))+",0)"}),M.style("fill",function(e,t,n){return u(e,n,t)}).style("stroke",function(e,t,n){return u(e,n,t)}).on("mouseover",function(e,t){d3.select(this).classed("hover",!0),d.elementMouseover({data:e,index:t,color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){d3.select(this).classed("hover",!1),d.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})}).on("mousemove",function(e,t){d.elementMousemove({data:e,index:t,color:d3.select(this).style("fill")})}).on("click",function(e,t){d.elementClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}).on("dblclick",function(e,t){d.elementDblClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),M.attr("class",function(e,t){return o(e,t)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(e,t){return"translate("+n(h(e,t))+",0)"}),p&&(r||(r=l.map(function(){return!0})),M.style("fill",function(e,t,n){return d3.rgb(p(e,t)).darker(r.map(function(e,t){return t}).filter(function(e,t){return!r[t]})[n]).toString()}).style("stroke",function(e,t,n){return d3.rgb(p(e,t)).darker(r.map(function(e,t){return t}).filter(function(e,t){return!r[t]})[n]).toString()})),P=M.watchTransition(m,"multibar",Math.min(250,a)).delay(function(e,t){return t*a/l[0].values.length}),i?P.attr("y",function(e,n,s){var i=0;return l[s].nonStackable?o(e,n)<0?i=t(0):t(0)-t(o(e,n))<-1?i=t(0)-1:i=t(o(e,n))||0:i=t(e.y1),i}).attr("height",function(e,n,s){return l[s].nonStackable?Math.max(Math.abs(t(o(e,n))-t(0)),1)||0:Math.max(Math.abs(t(e.y+e.y0)-t(e.y0)),1)}).attr("x",function(e,t,s){var o=0;return l[s].nonStackable&&(o=e.series*n.rangeBand()/l.length,l.length!==F&&(o=l[s].nonStackableSeries*n.rangeBand()/(F*2))),o}).attr("width",function(e,t,s){if(l[s].nonStackable){var o=n.rangeBand()/F;return l.length!==F&&(o=n.rangeBand()/(F*2)),o}return n.rangeBand()}):P.attr("x",function(e){return e.series*n.rangeBand()/l.length}).attr("width",n.rangeBand()/l.length).attr("y",function(e,n){return o(e,n)<0?t(0):t(0)-t(o(e,n))<1?t(0)-1:t(o(e,n))||0}).attr("height",function(e,n){return Math.max(Math.abs(t(o(e,n))-t(0)),1)||0}),A=n.copy(),f=t.copy(),l[0]&&l[0].values&&(S=l[0].values.length)}),m.renderEnd("multibar immediate"),l}return l.dispatch=d,l.options=e.utils.optionsFunc.bind(l),l._options=Object.create({},{width:{get:function(){return k},set:function(e){k=e}},height:{get:function(){return x},set:function(e){x=e}},x:{get:function(){return h},set:function(e){h=e}},y:{get:function(){return o},set:function(e){o=e}},xScale:{get:function(){return n},set:function(e){n=e}},yScale:{get:function(){return t},set:function(e){t=e}},xDomain:{get:function(){return v},set:function(e){v=e}},yDomain:{get:function(){return b},set:function(e){b=e}},xRange:{get:function(){return j},set:function(e){j=e}},yRange:{get:function(){return w},set:function(e){w=e}},forceY:{get:function(){return C},set:function(e){C=e}},stacked:{get:function(){return i},set:function(e){i=e}},stackOffset:{get:function(){return _},set:function(e){_=e}},clipEdge:{get:function(){return E},set:function(e){E=e}},disabled:{get:function(){return r},set:function(e){r=e}},id:{get:function(){return g},set:function(e){g=e}},hideable:{get:function(){return c},set:function(e){c=e}},groupSpacing:{get:function(){return O},set:function(e){O=e}},margin:{get:function(){return s},set:function(e){s.top=e.top!==void 0?e.top:s.top,s.right=e.right!==void 0?e.right:s.right,s.bottom=e.bottom!==void 0?e.bottom:s.bottom,s.left=e.left!==void 0?e.left:s.left}},duration:{get:function(){return a},set:function(e){a=e,m.reset(a)}},color:{get:function(){return u},set:function(t){u=e.utils.getColor(t)}},barColor:{get:function(){return p},set:function(t){p=t?e.utils.getColor(t):null}}}),e.utils.initOptions(l),l},e.models.multiBarChart=function(){"use strict";var d,j,O,M,F,T,n=e.models.multiBar(),l=e.models.axis(),a=e.models.axis(),r=e.models.legend(),m=e.models.legend(),i=e.models.tooltip(),s={top:30,right:20,bottom:50,left:60},A=null,v=null,y=e.utils.defaultColor(),_=!0,h={},x=!0,b=!0,w=!0,g=!1,k=!0,E=!1,p=0,o=e.utils.state(),u=null,S=null,f=d3.dispatch("stateChange","changeState","renderEnd"),C=function(){return _?180:0},c=250;o.stacked=!1,n.stacked(!1),l.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(e){return e}),a.orient(g?"right":"left").tickFormat(d3.format(",.1f")),i.duration(0).valueFormatter(function(e,t){return a.tickFormat()(e,t)}).headerFormatter(function(e,t){return l.tickFormat()(e,t)}),m.updateState(!1),d=e.utils.renderWatch(f),j=!1,F=function(e){return function(){return{active:e.map(function(e){return!e.disabled}),stacked:j}}},T=function(e){return function(t){t.stacked!==void 0&&(j=t.stacked),t.active!==void 0&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};function t(i){return d.reset(),d.models(n),b&&d.models(l),w&&d.models(a),i.each(function(i){var d,z,D,N,L,R,P,H,I,B,V,$,W,S=d3.select(this),U=this;if(e.utils.initSVG(S),z=e.utils.availableWidth(A,S,s),L=e.utils.availableHeight(v,S,s),t.update=function(){c===0?S.call(t):S.transition().duration(c).call(t)},t.container=this,o.setter(T(i),t.update).getter(F(i)).update(),o.disabled=i.map(function(e){return!!e.disabled}),!u){u={};for(N in o)o[N]instanceof Array?u[N]=o[N].slice(0):u[N]=o[N]}if(!i||!i.length||!i.filter(function(e){return e.values.length}).length)return e.utils.noData(t,S),t;S.selectAll(".nv-noData").remove(),M=n.xScale(),O=n.yScale(),P=S.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([i]),D=P.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),d=P.select("g"),D.append("g").attr("class","nv-x nv-axis"),D.append("g").attr("class","nv-y nv-axis"),D.append("g").attr("class","nv-barsWrap"),D.append("g").attr("class","nv-legendWrap"),D.append("g").attr("class","nv-controlsWrap"),x&&(r.width(z-C()),d.select(".nv-legendWrap").datum(i).call(r),s.top!=r.height()&&(s.top=r.height(),L=e.utils.availableHeight(v,S,s)),d.select(".nv-legendWrap").attr("transform","translate("+C()+","+-s.top+")")),_&&(H=[{key:h.grouped||"Grouped",disabled:n.stacked()},{key:h.stacked||"Stacked",disabled:!n.stacked()}],m.width(C()).color(["#444","#444","#444"]),d.select(".nv-controlsWrap").datum(H).attr("transform","translate(0,"+-s.top+")").call(m)),P.attr("transform","translate("+s.left+","+s.top+")"),g&&d.select(".nv-y.nv-axis").attr("transform","translate("+z+",0)"),n.disabled(i.map(function(e){return e.disabled})).width(z).height(L).color(i.map(function(e,t){return e.color||y(e,t)}).filter(function(e,t){return!i[t].disabled})),$=d.select(".nv-barsWrap").datum(i.filter(function(e){return!e.disabled})),$.call(n),b&&(l.scale(M)._ticks(e.utils.calcTicksX(z/100,i)).tickSize(-L,0),d.select(".nv-x.nv-axis").attr("transform","translate(0,"+O.range()[0]+")"),d.select(".nv-x.nv-axis").call(l),R=d.select(".nv-x.nv-axis > g").selectAll("g"),R.selectAll("line, text").style("opacity",1),E&&(I=function(e,t){return"translate("+e+","+t+")"},B=5,V=17,R.selectAll("text").attr("transform",function(e,t,n){return I(0,n%2==0?B:V)}),W=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length,d.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(e,t){return I(0,t===0||W%2!==0?V:B)})),k&&R.filter(function(e,t){return t%Math.ceil(i[0].values.length/(z/100))!==0}).selectAll("text, line").style("opacity",0),p&&R.selectAll(".tick text").attr("transform","rotate("+p+" 0,0)").style("text-anchor",p>0?"start":"end"),d.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)),w&&(a.scale(O)._ticks(e.utils.calcTicksY(L/36,i)).tickSize(-z,0),d.select(".nv-y.nv-axis").call(a)),r.dispatch.on("stateChange",function(e){for(var n in e)o[n]=e[n];f.stateChange(o),t.update()}),m.dispatch.on("legendClick",function(e){if(!e.disabled)return;switch(H=H.map(function(e){return e.disabled=!0,e}),e.disabled=!1,e.key){case"Grouped":case h.grouped:n.stacked(!1);break;case"Stacked":case h.stacked:n.stacked(!0);break}o.stacked=n.stacked(),f.stateChange(o),t.update()}),f.on("changeState",function(e){typeof e.disabled!="undefined"&&(i.forEach(function(t,n){t.disabled=e.disabled[n]}),o.disabled=e.disabled),typeof e.stacked!="undefined"&&(n.stacked(e.stacked),o.stacked=e.stacked,j=e.stacked),t.update()})}),d.renderEnd("multibarchart immediate"),t}return n.dispatch.on("elementMouseover.tooltip",function(e){e.value=t.x()(e.data),e.series={key:e.data.key,value:t.y()(e.data),color:e.color},i.data(e).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(){i.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(){i.position({top:d3.event.pageY,left:d3.event.pageX})()}),t.dispatch=f,t.multibar=n,t.legend=r,t.controls=m,t.xAxis=l,t.yAxis=a,t.state=o,t.tooltip=i,t.options=e.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return A},set:function(e){A=e}},height:{get:function(){return v},set:function(e){v=e}},showLegend:{get:function(){return x},set:function(e){x=e}},showControls:{get:function(){return _},set:function(e){_=e}},controlLabels:{get:function(){return h},set:function(e){h=e}},showXAxis:{get:function(){return b},set:function(e){b=e}},showYAxis:{get:function(){return w},set:function(e){w=e}},defaultState:{get:function(){return u},set:function(e){u=e}},noData:{get:function(){return S},set:function(e){S=e}},reduceXTicks:{get:function(){return k},set:function(e){k=e}},rotateLabels:{get:function(){return p},set:function(e){p=e}},staggerLabels:{get:function(){return E},set:function(e){E=e}},tooltips:{get:function(){return i.enabled()},set:function(t){e.deprecated("tooltips","use chart.tooltip.enabled() instead"),i.enabled(!!t)}},tooltipContent:{get:function(){return i.contentGenerator()},set:function(t){e.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),i.contentGenerator(t)}},margin:{get:function(){return s},set:function(e){s.top=e.top!==void 0?e.top:s.top,s.right=e.right!==void 0?e.right:s.right,s.bottom=e.bottom!==void 0?e.bottom:s.bottom,s.left=e.left!==void 0?e.left:s.left}},duration:{get:function(){return c},set:function(e){c=e,n.duration(c),l.duration(c),a.duration(c),d.reset(c)}},color:{get:function(){return y},set:function(t){y=e.utils.getColor(t),r.color(y)}},rightAlignYAxis:{get:function(){return g},set:function(e){g=e,a.orient(g?"right":"left")}},barColor:{get:function(){return n.barColor},set:function(e){n.barColor(e),r.color(function(e,t){return d3.rgb("#ccc").darker(t*1.5).toString()})}}}),e.utils.inheritOptions(t,n),e.utils.initOptions(t),t},e.models.multiBarHorizontal=function(){"use strict";var c,f,p,v,_,O,C,o={top:0,right:0,bottom:0,left:0},E=960,x=500,S=Math.floor(Math.random()*1e4),A=null,s=d3.scale.ordinal(),t=d3.scale.linear(),l=function(e){return e.x},n=function(e){return e.y},h=function(e){return e.yErr},k=[0],y=e.utils.defaultColor(),m=null,i=!1,g=!1,M=!1,b=60,w=.1,u=d3.format(",.2f"),F=1200,j=250,r=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),a=e.utils.renderWatch(r,j);function d(j){return a.reset(),j.each(function(d){var j,S,F,T,z,D,L,P,H,N=E-o.left-o.right,R=x-o.top-o.bottom;A=d3.select(this),e.utils.initSVG(A),i&&(d=d3.layout.stack().offset("zero").values(function(e){return e.values}).y(n)(d)),d.forEach(function(e,t){e.values.forEach(function(n){n.series=t,n.key=e.key})}),i&&d[0].values.map(function(e,t){var n=0,s=0;d.map(function(e){var o=e.values[t];o.size=Math.abs(o.y),o.y<0?(o.y1=s-o.size,s=s-o.size):(o.y1=n,n=n+o.size)})}),z=p&&_?[]:d.map(function(e){return e.values.map(function(e,t){return{x:l(e,t),y:n(e,t),y0:e.y0,y1:e.y1}})}),s.domain(p||d3.merge(z).map(function(e){return e.x})).rangeBands(O||[0,R],w),t.domain(_||d3.extent(d3.merge(z).map(function(e){return i?e.y>0?e.y1+e.y:e.y1:e.y}).concat(k))),g&&!i?t.range(f||[t.domain()[0]<0?b:0,N-(t.domain()[1]>0?b:0)]):t.range(f||[0,N]),C=C||s,v=v||d3.scale.linear().domain(t.domain()).range([t(0),t(0)]),F=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([d]),D=F.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),P=D.append("defs"),L=D.append("g"),H=F.select("g"),L.append("g").attr("class","nv-groups"),F.attr("transform","translate("+o.left+","+o.top+")"),S=F.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e,t){return t}),S.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),S.exit().watchTransition(a,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),S.attr("class",function(e,t){return"nv-group nv-series-"+t}).classed("hover",function(e){return e.hover}).style("fill",function(e,t){return y(e,t)}).style("stroke",function(e,t){return y(e,t)}),S.watchTransition(a,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",.75),j=S.selectAll("g.nv-bar").data(function(e){return e.values}),j.exit().remove(),T=j.enter().append("g").attr("transform",function(e,t,n){return"translate("+v(i?e.y0:0)+","+(i?0:n*s.rangeBand()/d.length+s(l(e,t)))+")"}),T.append("rect").attr("width",0).attr("height",s.rangeBand()/(i?1:d.length)),j.on("mouseover",function(e,t){d3.select(this).classed("hover",!0),r.elementMouseover({data:e,index:t,color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){d3.select(this).classed("hover",!1),r.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){r.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})}).on("mousemove",function(e,t){r.elementMousemove({data:e,index:t,color:d3.select(this).style("fill")})}).on("click",function(e,t){r.elementClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}).on("dblclick",function(e,t){r.elementDblClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),h(d[0],0)&&(T.append("polyline"),j.select("polyline").attr("fill","none").attr("points",function(e,n){var o=h(e,n),a=.8*s.rangeBand()/((i?1:d.length)*2),o=o.length?o:[-Math.abs(o),Math.abs(o)],o=o.map(function(e){return t(e)-t(0)}),r=[[o[0],-a],[o[0],a],[o[0],0],[o[1],0],[o[1],-a],[o[1],a]];return r.map(function(e){return e.join(",")}).join(" ")}).attr("transform",function(e,o){var a=s.rangeBand()/((i?1:d.length)*2);return"translate("+(n(e,o)<0?0:t(n(e,o))-t(0))+", "+a+")"})),T.append("text"),g&&!i?(j.select("text").attr("text-anchor",function(e,t){return n(e,t)<0?"end":"start"}).attr("y",s.rangeBand()/(d.length*2)).attr("dy",".32em").text(function(e,t){var o=u(n(e,t)),s=h(e,t);return s===void 0?o:s.length?o+"+"+u(Math.abs(s[1]))+"-"+u(Math.abs(s[0])):o+"±"+u(Math.abs(s))}),j.watchTransition(a,"multibarhorizontal: bars").select("text").attr("x",function(e,s){return n(e,s)<0?-4:t(n(e,s))-t(0)+4})):j.selectAll("text").text(""),M&&!i?(T.append("text").classed("nv-bar-label",!0),j.select("text.nv-bar-label").attr("text-anchor",function(e,t){return n(e,t)<0?"start":"end"}).attr("y",s.rangeBand()/(d.length*2)).attr("dy",".32em").text(function(e,t){return l(e,t)}),j.watchTransition(a,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(e,s){return n(e,s)<0?t(0)-t(n(e,s))+4:-4})):j.selectAll("text.nv-bar-label").text(""),j.attr("class",function(e,t){return n(e,t)<0?"nv-bar negative":"nv-bar positive"}),m&&(c||(c=d.map(function(){return!0})),j.style("fill",function(e,t,n){return d3.rgb(m(e,t)).darker(c.map(function(e,t){return t}).filter(function(e,t){return!c[t]})[n]).toString()}).style("stroke",function(e,t,n){return d3.rgb(m(e,t)).darker(c.map(function(e,t){return t}).filter(function(e,t){return!c[t]})[n]).toString()})),i?j.watchTransition(a,"multibarhorizontal: bars").attr("transform",function(e,n){return"translate("+t(e.y1)+","+s(l(e,n))+")"}).select("rect").attr("width",function(e,s){return Math.abs(t(n(e,s)+e.y0)-t(e.y0))}).attr("height",s.rangeBand()):j.watchTransition(a,"multibarhorizontal: bars").attr("transform",function(e,o){return"translate("+t(n(e,o)<0?n(e,o):0)+","+(e.series*s.rangeBand()/d.length+s(l(e,o)))+")"}).select("rect").attr("height",s.rangeBand()/d.length).attr("width",function(e,s){return Math.max(Math.abs(t(n(e,s))-t(0)),1)}),C=s.copy(),v=t.copy()}),a.renderEnd("multibarHorizontal immediate"),d}return d.dispatch=r,d.options=e.utils.optionsFunc.bind(d),d._options=Object.create({},{width:{get:function(){return E},set:function(e){E=e}},height:{get:function(){return x},set:function(e){x=e}},x:{get:function(){return l},set:function(e){l=e}},y:{get:function(){return n},set:function(e){n=e}},yErr:{get:function(){return h},set:function(e){h=e}},xScale:{get:function(){return s},set:function(e){s=e}},yScale:{get:function(){return t},set:function(e){t=e}},xDomain:{get:function(){return p},set:function(e){p=e}},yDomain:{get:function(){return _},set:function(e){_=e}},xRange:{get:function(){return O},set:function(e){O=e}},yRange:{get:function(){return f},set:function(e){f=e}},forceY:{get:function(){return k},set:function(e){k=e}},stacked:{get:function(){return i},set:function(e){i=e}},showValues:{get:function(){return g},set:function(e){g=e}},disabled:{get:function(){return c},set:function(e){c=e}},id:{get:function(){return S},set:function(e){S=e}},valueFormat:{get:function(){return u},set:function(e){u=e}},valuePadding:{get:function(){return b},set:function(e){b=e}},groupSpacing:{get:function(){return w},set:function(e){w=e}},margin:{get:function(){return o},set:function(e){o.top=e.top!==void 0?e.top:o.top,o.right=e.right!==void 0?e.right:o.right,o.bottom=e.bottom!==void 0?e.bottom:o.bottom,o.left=e.left!==void 0?e.left:o.left}},duration:{get:function(){return j},set:function(e){j=e,a.reset(j)}},color:{get:function(){return y},set:function(t){y=e.utils.getColor(t)}},barColor:{get:function(){return m},set:function(t){m=t?e.utils.getColor(t):null}}}),e.utils.initOptions(d),d},e.models.multiBarHorizontalChart=function(){"use strict";var l,b,E,k,A,n=e.models.multiBarHorizontal(),d=e.models.axis(),c=e.models.axis(),a=e.models.legend().height(30),m=e.models.legend().height(30),i=e.models.tooltip(),s={top:30,right:20,bottom:50,left:60},x=null,v=null,_=e.utils.defaultColor(),g=!0,y={},w=!0,j=!0,p=!0,h=!1,o=e.utils.state(),u=null,C=null,f=d3.dispatch("stateChange","changeState","renderEnd"),O=function(){return g?180:0},r=250;o.stacked=!1,n.stacked(h),d.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(e){return e}),c.orient("bottom").tickFormat(d3.format(",.1f")),i.duration(0).valueFormatter(function(e,t){return c.tickFormat()(e,t)}).headerFormatter(function(e,t){return d.tickFormat()(e,t)}),m.updateState(!1),E=function(e){return function(){return{active:e.map(function(e){return!e.disabled}),stacked:h}}},k=function(e){return function(t){t.stacked!==void 0&&(h=t.stacked),t.active!==void 0&&e.forEach(function(e,n){e.disabled=!t.active[n]})}},l=e.utils.renderWatch(f,r);function t(i){return l.reset(),l.models(n),j&&l.models(d),p&&l.models(c),i.each(function(i){var l,S,M,F,T,z,D,N,L,C=d3.select(this),R=this;if(e.utils.initSVG(C),T=e.utils.availableWidth(x,C,s),S=e.utils.availableHeight(v,C,s),t.update=function(){C.transition().duration(r).call(t)},t.container=this,h=n.stacked(),o.setter(k(i),t.update).getter(E(i)).update(),o.disabled=i.map(function(e){return!!e.disabled}),!u){u={};for(M in o)o[M]instanceof Array?u[M]=o[M].slice(0):u[M]=o[M]}if(!i||!i.length||!i.filter(function(e){return e.values.length}).length)return e.utils.noData(t,C),t;C.selectAll(".nv-noData").remove(),A=n.xScale(),b=n.yScale(),z=C.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([i]),F=z.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),l=z.select("g"),F.append("g").attr("class","nv-x nv-axis"),F.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),F.append("g").attr("class","nv-barsWrap"),F.append("g").attr("class","nv-legendWrap"),F.append("g").attr("class","nv-controlsWrap"),w&&(a.width(T-O()),l.select(".nv-legendWrap").datum(i).call(a),s.top!=a.height()&&(s.top=a.height(),S=e.utils.availableHeight(v,C,s)),l.select(".nv-legendWrap").attr("transform","translate("+O()+","+-s.top+")")),g&&(D=[{key:y.grouped||"Grouped",disabled:n.stacked()},{key:y.stacked||"Stacked",disabled:!n.stacked()}],m.width(O()).color(["#444","#444","#444"]),l.select(".nv-controlsWrap").datum(D).attr("transform","translate(0,"+-s.top+")").call(m)),z.attr("transform","translate("+s.left+","+s.top+")"),n.disabled(i.map(function(e){return e.disabled})).width(T).height(S).color(i.map(function(e,t){return e.color||_(e,t)}).filter(function(e,t){return!i[t].disabled})),N=l.select(".nv-barsWrap").datum(i.filter(function(e){return!e.disabled})),N.transition().call(n),j&&(d.scale(A)._ticks(e.utils.calcTicksY(S/24,i)).tickSize(-T,0),l.select(".nv-x.nv-axis").call(d),L=l.select(".nv-x.nv-axis").selectAll("g"),L.selectAll("line, text")),p&&(c.scale(b)._ticks(e.utils.calcTicksX(T/100,i)).tickSize(-S,0),l.select(".nv-y.nv-axis").attr("transform","translate(0,"+S+")"),l.select(".nv-y.nv-axis").call(c)),l.select(".nv-zeroLine line").attr("x1",b(0)).attr("x2",b(0)).attr("y1",0).attr("y2",-S),a.dispatch.on("stateChange",function(e){for(var n in e)o[n]=e[n];f.stateChange(o),t.update()}),m.dispatch.on("legendClick",function(e){if(!e.disabled)return;switch(D=D.map(function(e){return e.disabled=!0,e}),e.disabled=!1,e.key){case"Grouped":n.stacked(!1);break;case"Stacked":n.stacked(!0);break}o.stacked=n.stacked(),f.stateChange(o),h=n.stacked(),t.update()}),f.on("changeState",function(e){typeof e.disabled!="undefined"&&(i.forEach(function(t,n){t.disabled=e.disabled[n]}),o.disabled=e.disabled),typeof e.stacked!="undefined"&&(n.stacked(e.stacked),o.stacked=e.stacked,h=e.stacked),t.update()})}),l.renderEnd("multibar horizontal chart immediate"),t}return n.dispatch.on("elementMouseover.tooltip",function(e){e.value=t.x()(e.data),e.series={key:e.data.key,value:t.y()(e.data),color:e.color},i.data(e).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(){i.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(){i.position({top:d3.event.pageY,left:d3.event.pageX})()}),t.dispatch=f,t.multibar=n,t.legend=a,t.controls=m,t.xAxis=d,t.yAxis=c,t.state=o,t.tooltip=i,t.options=e.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return x},set:function(e){x=e}},height:{get:function(){return v},set:function(e){v=e}},showLegend:{get:function(){return w},set:function(e){w=e}},showControls:{get:function(){return g},set:function(e){g=e}},controlLabels:{get:function(){return y},set:function(e){y=e}},showXAxis:{get:function(){return j},set:function(e){j=e}},showYAxis:{get:function(){return p},set:function(e){p=e}},defaultState:{get:function(){return u},set:function(e){u=e}},noData:{get:function(){return C},set:function(e){C=e}},tooltips:{get:function(){return i.enabled()},set:function(t){e.deprecated("tooltips","use chart.tooltip.enabled() instead"),i.enabled(!!t)}},tooltipContent:{get:function(){return i.contentGenerator()},set:function(t){e.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),i.contentGenerator(t)}},margin:{get:function(){return s},set:function(e){s.top=e.top!==void 0?e.top:s.top,s.right=e.right!==void 0?e.right:s.right,s.bottom=e.bottom!==void 0?e.bottom:s.bottom,s.left=e.left!==void 0?e.left:s.left}},duration:{get:function(){return r},set:function(e){r=e,l.reset(r),n.duration(r),d.duration(r),c.duration(r)}},color:{get:function(){return _},set:function(t){_=e.utils.getColor(t),a.color(_)}},barColor:{get:function(){return n.barColor},set:function(e){n.barColor(e),a.color(function(e,t){return d3.rgb("#ccc").darker(t*1.5).toString()})}}}),e.utils.inheritOptions(t,n),e.utils.initOptions(t),t},e.models.multiChart=function(){"use strict";var b,y,n={top:30,right:20,bottom:50,left:60},O=e.utils.defaultColor(),w=null,v=null,_=!0,k=null,E=function(e){return e.x},C=function(e){return e.y},p="monotone",x=!0,g=d3.scale.linear(),u=d3.scale.linear(),h=d3.scale.linear(),r=e.models.line().yScale(u),a=e.models.line().yScale(h),i=e.models.multiBar().stacked(!1).yScale(u),c=e.models.multiBar().stacked(!1).yScale(h),o=e.models.stackedArea().yScale(u),l=e.models.stackedArea().yScale(h),j=e.models.axis().scale(g).orient("bottom").tickPadding(5),m=e.models.axis().scale(u).orient("left"),f=e.models.axis().scale(h).orient("right"),d=e.models.legend().height(30),s=e.models.tooltip(),A=d3.dispatch();function t(x){return x.each(function(x){var C,E,k,A,S,F,T,z,D,N,L,R,P,H,I,B,V,$,W,U,K,q,Y,G,M=d3.select(this),J=this;if(e.utils.initSVG(M),t.update=function(){M.transition().call(t)},t.container=this,k=e.utils.availableWidth(w,M,n),E=e.utils.availableHeight(v,M,n),H=x.filter(function(e){return e.type=="line"&&e.yAxis==1}),P=x.filter(function(e){return e.type=="line"&&e.yAxis==2}),I=x.filter(function(e){return e.type=="bar"&&e.yAxis==1}),N=x.filter(function(e){return e.type=="bar"&&e.yAxis==2}),F=x.filter(function(e){return e.type=="area"&&e.yAxis==1}),T=x.filter(function(e){return e.type=="area"&&e.yAxis==2}),!x||!x.length||!x.filter(function(e){return e.values.length}).length)return e.utils.noData(t,M),t;M.selectAll(".nv-noData").remove(),z=x.filter(function(e){return!e.disabled&&e.yAxis==1}).map(function(e){return e.values.map(function(e){return{x:e.x,y:e.y}})}),D=x.filter(function(e){return!e.disabled&&e.yAxis==2}).map(function(e){return e.values.map(function(e){return{x:e.x,y:e.y}})}),g.domain(d3.extent(d3.merge(z.concat(D)),function(e){return e.x})).range([0,k]),R=M.selectAll("g.wrap.multiChart").data([x]),A=R.enter().append("g").attr("class","wrap nvd3 multiChart").append("g"),A.append("g").attr("class","nv-x nv-axis"),A.append("g").attr("class","nv-y1 nv-axis"),A.append("g").attr("class","nv-y2 nv-axis"),A.append("g").attr("class","lines1Wrap"),A.append("g").attr("class","lines2Wrap"),A.append("g").attr("class","bars1Wrap"),A.append("g").attr("class","bars2Wrap"),A.append("g").attr("class","stack1Wrap"),A.append("g").attr("class","stack2Wrap"),A.append("g").attr("class","legendWrap"),C=R.select("g"),S=x.map(function(e,t){return x[t].color||O(e,t)}),_&&(L=d.align()?k/2:k,V=d.align()?L:0,d.width(L),d.color(S),C.select(".legendWrap").datum(x.map(function(e){return e.originalKey=e.originalKey===void 0?e.key:e.originalKey,e.key=e.originalKey+(e.yAxis==1?"":" (right axis)"),e})).call(d),n.top!=d.height()&&(n.top=d.height(),E=e.utils.availableHeight(v,M,n)),C.select(".legendWrap").attr("transform","translate("+V+","+-n.top+")")),r.width(k).height(E).interpolate(p).color(S.filter(function(e,t){return!x[t].disabled&&x[t].yAxis==1&&x[t].type=="line"})),a.width(k).height(E).interpolate(p).color(S.filter(function(e,t){return!x[t].disabled&&x[t].yAxis==2&&x[t].type=="line"})),i.width(k).height(E).color(S.filter(function(e,t){return!x[t].disabled&&x[t].yAxis==1&&x[t].type=="bar"})),c.width(k).height(E).color(S.filter(function(e,t){return!x[t].disabled&&x[t].yAxis==2&&x[t].type=="bar"})),o.width(k).height(E).color(S.filter(function(e,t){return!x[t].disabled&&x[t].yAxis==1&&x[t].type=="area"})),l.width(k).height(E).color(S.filter(function(e,t){return!x[t].disabled&&x[t].yAxis==2&&x[t].type=="area"})),C.attr("transform","translate("+n.left+","+n.top+")"),$=C.select(".lines1Wrap").datum(H.filter(function(e){return!e.disabled})),W=C.select(".bars1Wrap").datum(I.filter(function(e){return!e.disabled})),U=C.select(".stack1Wrap").datum(F.filter(function(e){return!e.disabled})),K=C.select(".lines2Wrap").datum(P.filter(function(e){return!e.disabled})),q=C.select(".bars2Wrap").datum(N.filter(function(e){return!e.disabled})),B=C.select(".stack2Wrap").datum(T.filter(function(e){return!e.disabled})),Y=F.length?F.map(function(e){return e.values}).reduce(function(e,t){return e.map(function(e,n){return{x:e.x,y:e.y+t[n].y}})}).concat([{x:0,y:0}]):[],G=T.length?T.map(function(e){return e.values}).reduce(function(e,t){return e.map(function(e,n){return{x:e.x,y:e.y+t[n].y}})}).concat([{x:0,y:0}]):[],u.domain(y||d3.extent(d3.merge(z).concat(Y),function(e){return e.y})).range([0,E]),h.domain(b||d3.extent(d3.merge(D).concat(G),function(e){return e.y})).range([0,E]),r.yDomain(u.domain()),i.yDomain(u.domain()),o.yDomain(u.domain()),a.yDomain(h.domain()),c.yDomain(h.domain()),l.yDomain(h.domain()),F.length&&d3.transition(U).call(o),T.length&&d3.transition(B).call(l),I.length&&d3.transition(W).call(i),N.length&&d3.transition(q).call(c),H.length&&d3.transition($).call(r),P.length&&d3.transition(K).call(a),j._ticks(e.utils.calcTicksX(k/100,x)).tickSize(-E,0),C.select(".nv-x.nv-axis").attr("transform","translate(0,"+E+")"),d3.transition(C.select(".nv-x.nv-axis")).call(j),m._ticks(e.utils.calcTicksY(E/36,x)).tickSize(-k,0),d3.transition(C.select(".nv-y1.nv-axis")).call(m),f._ticks(e.utils.calcTicksY(E/36,x)).tickSize(-k,0),d3.transition(C.select(".nv-y2.nv-axis")).call(f),C.select(".nv-y1.nv-axis").classed("nv-disabled",!z.length).attr("transform","translate("+g.range()[0]+",0)"),C.select(".nv-y2.nv-axis").classed("nv-disabled",!D.length).attr("transform","translate("+g.range()[1]+",0)"),d.dispatch.on("stateChange",function(){t.update()});function X(e){var t=x[e.seriesIndex].yAxis===2?f:m;e.value=e.point.x,e.series={value:e.point.y,color:e.point.color},s.duration(100).valueFormatter(function(e,n){return t.tickFormat()(e,n)}).data(e).position(e.pos).hidden(!1)}function Q(e){var t=x[e.seriesIndex].yAxis===2?f:m;e.point.x=o.x()(e.point),e.point.y=o.y()(e.point),s.duration(100).valueFormatter(function(e,n){return t.tickFormat()(e,n)}).data(e).position(e.pos).hidden(!1)}function Z(e){var t=x[e.data.series].yAxis===2?f:m;e.value=i.x()(e.data),e.series={value:i.y()(e.data),color:e.color},s.duration(0).valueFormatter(function(e,n){return t.tickFormat()(e,n)}).data(e).hidden(!1)}r.dispatch.on("elementMouseover.tooltip",X),a.dispatch.on("elementMouseover.tooltip",X),r.dispatch.on("elementMouseout.tooltip",function(){s.hidden(!0)}),a.dispatch.on("elementMouseout.tooltip",function(){s.hidden(!0)}),o.dispatch.on("elementMouseover.tooltip",Q),l.dispatch.on("elementMouseover.tooltip",Q),o.dispatch.on("elementMouseout.tooltip",function(){s.hidden(!0)}),l.dispatch.on("elementMouseout.tooltip",function(){s.hidden(!0)}),i.dispatch.on("elementMouseover.tooltip",Z),c.dispatch.on("elementMouseover.tooltip",Z),i.dispatch.on("elementMouseout.tooltip",function(){s.hidden(!0)}),c.dispatch.on("elementMouseout.tooltip",function(){s.hidden(!0)}),i.dispatch.on("elementMousemove.tooltip",function(){s.position({top:d3.event.pageY,left:d3.event.pageX})()}),c.dispatch.on("elementMousemove.tooltip",function(){s.position({top:d3.event.pageY,left:d3.event.pageX})()})}),t}return t.dispatch=A,t.lines1=r,t.lines2=a,t.bars1=i,t.bars2=c,t.stack1=o,t.stack2=l,t.xAxis=j,t.yAxis1=m,t.yAxis2=f,t.tooltip=s,t.options=e.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return w},set:function(e){w=e}},height:{get:function(){return v},set:function(e){v=e}},showLegend:{get:function(){return _},set:function(e){_=e}},yDomain1:{get:function(){return y},set:function(e){y=e}},yDomain2:{get:function(){return b},set:function(e){b=e}},noData:{get:function(){return k},set:function(e){k=e}},interpolate:{get:function(){return p},set:function(e){p=e}},tooltips:{get:function(){return s.enabled()},set:function(t){e.deprecated("tooltips","use chart.tooltip.enabled() instead"),s.enabled(!!t)}},tooltipContent:{get:function(){return s.contentGenerator()},set:function(t){e.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),s.contentGenerator(t)}},margin:{get:function(){return n},set:function(e){n.top=e.top!==void 0?e.top:n.top,n.right=e.right!==void 0?e.right:n.right,n.bottom=e.bottom!==void 0?e.bottom:n.bottom,n.left=e.left!==void 0?e.left:n.left}},color:{get:function(){return O},set:function(t){O=e.utils.getColor(t)}},x:{get:function(){return E},set:function(e){E=e,r.x(e),a.x(e),i.x(e),c.x(e),o.x(e),l.x(e)}},y:{get:function(){return C},set:function(e){C=e,r.y(e),a.y(e),o.y(e),l.y(e),i.y(e),c.y(e)}},useVoronoi:{get:function(){return x},set:function(e){x=e,r.useVoronoi(e),a.useVoronoi(e),o.useVoronoi(e),l.useVoronoi(e)}}}),e.utils.initOptions(t),t},e.models.ohlcBar=function(){"use strict";var f,j,y,w,s={top:0,right:0,bottom:0,left:0},O=null,b=null,l=Math.floor(Math.random()*1e4),c=null,n=d3.scale.linear(),t=d3.scale.linear(),u=function(e){return e.x},p=function(e){return e.y},i=function(e){return e.open},d=function(e){return e.close},r=function(e){return e.high},a=function(e){return e.low},_=[],h=[],g=!1,v=!0,m=e.utils.defaultColor(),x=!1,C=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function o(x){return x.each(function(o){c=d3.select(this);var x,k,A,S,F,T,z,E=e.utils.availableWidth(O,c,s),M=e.utils.availableHeight(b,c,s);e.utils.initSVG(c),x=E/o[0].values.length*.9,n.domain(j||d3.extent(o[0].values.map(u).concat(_))),g?n.range(f||[E*.5/o[0].values.length,E*(o[0].values.length-.5)/o[0].values.length]):n.range(f||[5+x/2,E-x/2-5]),t.domain(y||[d3.min(o[0].values.map(a).concat(h)),d3.max(o[0].values.map(r).concat(h))]).range(w||[M,0]),n.domain()[0]===n.domain()[1]&&(n.domain()[0]?n.domain([n.domain()[0]-n.domain()[0]*.01,n.domain()[1]+n.domain()[1]*.01]):n.domain([-1,1])),t.domain()[0]===t.domain()[1]&&(t.domain()[0]?t.domain([t.domain()[0]+t.domain()[0]*.01,t.domain()[1]-t.domain()[1]*.01]):t.domain([-1,1])),k=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([o[0].values]),S=k.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),F=S.append("defs"),T=S.append("g"),z=k.select("g"),T.append("g").attr("class","nv-ticks"),k.attr("transform","translate("+s.left+","+s.top+")"),c.on("click",function(e,t){C.chartClick({data:e,index:t,pos:d3.event,id:l})}),F.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),k.select("#nv-chart-clip-path-"+l+" rect").attr("width",E).attr("height",M),z.attr("clip-path",v?"url(#nv-chart-clip-path-"+l+")":""),A=k.select(".nv-ticks").selectAll(".nv-tick").data(function(e){return e}),A.exit().remove(),A.enter().append("path").attr("class",function(e,t,n){return(i(e,t)>d(e,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+t}).attr("d",function(e,n){return"m0,0l0,"+(t(i(e,n))-t(r(e,n)))+"l"+-x/2+",0l"+x/2+",0l0,"+(t(a(e,n))-t(i(e,n)))+"l0,"+(t(d(e,n))-t(a(e,n)))+"l"+x/2+",0l"+-x/2+",0z"}).attr("transform",function(e,s){return"translate("+n(u(e,s))+","+t(r(e,s))+")"}).attr("fill",function(){return m[0]}).attr("stroke",function(){return m[0]}).attr("x",0).attr("y",function(e,n){return t(Math.max(0,p(e,n)))}).attr("height",function(e,n){return Math.abs(t(p(e,n))-t(0))}),A.attr("class",function(e,t,n){return(i(e,t)>d(e,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+t}),d3.transition(A).attr("transform",function(e,s){return"translate("+n(u(e,s))+","+t(r(e,s))+")"}).attr("d",function(e,n){var s=E/o[0].values.length*.9;return"m0,0l0,"+(t(i(e,n))-t(r(e,n)))+"l"+-s/2+",0l"+s/2+",0l0,"+(t(a(e,n))-t(i(e,n)))+"l0,"+(t(d(e,n))-t(a(e,n)))+"l"+s/2+",0l"+-s/2+",0z"})}),o}return o.highlightPoint=function(e,t){o.clearHighlights(),c.select(".nv-ohlcBar .nv-tick-0-"+e).classed("hover",t)},o.clearHighlights=function(){c.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},o.dispatch=C,o.options=e.utils.optionsFunc.bind(o),o._options=Object.create({},{width:{get:function(){return O},set:function(e){O=e}},height:{get:function(){return b},set:function(e){b=e}},xScale:{get:function(){return n},set:function(e){n=e}},yScale:{get:function(){return t},set:function(e){t=e}},xDomain:{get:function(){return j},set:function(e){j=e}},yDomain:{get:function(){return y},set:function(e){y=e}},xRange:{get:function(){return f},set:function(e){f=e}},yRange:{get:function(){return w},set:function(e){w=e}},forceX:{get:function(){return _},set:function(e){_=e}},forceY:{get:function(){return h},set:function(e){h=e}},padData:{get:function(){return g},set:function(e){g=e}},clipEdge:{get:function(){return v},set:function(e){v=e}},id:{get:function(){return l},set:function(e){l=e}},interactive:{get:function(){return x},set:function(e){x=e}},x:{get:function(){return u},set:function(e){u=e}},y:{get:function(){return p},set:function(e){p=e}},open:{get:function(){return i()},set:function(e){i=e}},close:{get:function(){return d()},set:function(e){d=e}},high:{get:function(){return r},set:function(e){r=e}},low:{get:function(){return a},set:function(e){a=e}},margin:{get:function(){return s},set:function(e){s.top=e.top!=void 0?e.top:s.top,s.right=e.right!=void 0?e.right:s.right,s.bottom=e.bottom!=void 0?e.bottom:s.bottom,s.left=e.left!=void 0?e.left:s.left}},color:{get:function(){return m},set:function(t){m=e.utils.getColor(t)}}}),e.utils.initOptions(o),o},e.models.parallelCoordinates=function(){"use strict";var t={top:30,right:0,bottom:10,left:0},f=null,m=null,o=d3.scale.ordinal(),n={},s=[],u=[],l=e.utils.defaultColor(),d=[],r=[],c=[],h=1,a=d3.dispatch("brush","elementMouseover","elementMouseout");function i(p){return p.each(function(i){var p,g,v,b,j,x,C,A,F,T,O=d3.select(this),E=e.utils.availableWidth(f,O,t),_=e.utils.availableHeight(m,O,t);e.utils.initSVG(O),r=i,o.rangePoints([0,E],1).domain(s),A={},s.forEach(function(e){var t=d3.extent(i,function(t){return+t[e]});return A[e]=!1,t[0]===void 0&&(A[e]=!0,t[0]=0,t[1]=0),t[0]===t[1]&&(t[0]=t[0]-1,t[1]=t[1]+1),n[e]=d3.scale.linear().domain(t).range([(_-12)*.9,0]),n[e].brush=d3.svg.brush().y(n[e]).on("brush",L),e!="name"}),g=O.selectAll("g.nv-wrap.nv-parallelCoordinates").data([i]),T=g.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates"),x=T.append("g"),F=g.select("g"),x.append("g").attr("class","nv-parallelCoordinates background"),x.append("g").attr("class","nv-parallelCoordinates foreground"),x.append("g").attr("class","nv-parallelCoordinates missingValuesline"),g.attr("transform","translate("+t.left+","+t.top+")");var D=d3.svg.line().interpolate("cardinal").tension(h),N=d3.svg.axis().orient("left"),z=d3.behavior.drag().on("dragstart",R).on("drag",P).on("dragend",H),M=o.range()[1]-o.range()[0],k=[],I=[0+M/2,_-12,E-M/2,_-12],w=g.select(".missingValuesline").selectAll("line").data([I]);w.enter().append("line"),w.exit().remove(),w.attr("x1",function(e){return e[0]}).attr("y1",function(e){return e[1]}).attr("x2",function(e){return e[2]}).attr("y2",function(e){return e[3]}),b=g.select(".missingValuesline").selectAll("text").data(["undefined values"]),b.append("text").data(["undefined values"]),b.enter().append("text"),b.exit().remove(),b.attr("y",_).attr("x",E-92-M/2).text(function(e){return e}),j=g.select(".background").selectAll("path").data(i),j.enter().append("path"),j.exit().remove(),j.attr("d",y),p=g.select(".foreground").selectAll("path").data(i),p.enter().append("path"),p.exit().remove(),p.attr("d",y).attr("stroke",l),p.on("mouseover",function(e,t){d3.select(this).classed("hover",!0),a.elementMouseover({label:e.name,data:e.data,index:t,pos:[d3.mouse(this.parentNode)[0],d3.mouse(this.parentNode)[1]]})}),p.on("mouseout",function(e,t){d3.select(this).classed("hover",!1),a.elementMouseout({label:e.name,data:e.data,index:t})}),v=F.selectAll(".dimension").data(s),C=v.enter().append("g").attr("class","nv-parallelCoordinates dimension"),C.append("g").attr("class","nv-parallelCoordinates nv-axis"),C.append("g").attr("class","nv-parallelCoordinates-brush"),C.append("text").attr("class","nv-parallelCoordinates nv-label"),v.attr("transform",function(e){return"translate("+o(e)+",0)"}),v.exit().remove(),v.select(".nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").text(String).on("mouseover",function(e){a.elementMouseover({dim:e,pos:[d3.mouse(this.parentNode.parentNode)[0],d3.mouse(this.parentNode.parentNode)[1]]})}).on("mouseout",function(e){a.elementMouseout({dim:e})}).call(z),v.select(".nv-axis").each(function(e,t){d3.select(this).call(N.scale(n[e]).tickFormat(d3.format(u[t])))}),v.select(".nv-parallelCoordinates-brush").each(function(e){d3.select(this).call(n[e].brush)}).selectAll("rect").attr("x",-8).attr("width",16);function y(e){return D(s.map(function(t){if(isNaN(e[t])||isNaN(parseFloat(e[t]))){var a,s=n[t].domain(),r=n[t].range(),i=s[0]-(s[1]-s[0])/9;return k.indexOf(t)<0&&(a=d3.scale.linear().domain([i,s[1]]).range([_-12,r[1]]),n[t].brush.y(a),k.push(t)),[o(t),n[t](i)]}return k.length>0?(w.style("display","inline"),b.style("display","inline")):(w.style("display","none"),b.style("display","none")),[o(t),n[t](e[t])]}))}function L(){var t=s.filter(function(e){return!n[e].brush.empty()}),e=t.map(function(e){return n[e].brush.extent()});d=[],t.forEach(function(t,n){d[n]={dimension:t,extent:e[n]}}),r=[],p.style("display",function(s){var o=t.every(function(t,o){return!!(isNaN(s[t])&&e[o][0]==n[t].brush.y().domain()[0])||e[o][0]<=s[t]&&s[t]<=e[o][1]});return o&&r.push(s),o?null:"none"}),a.brush({filters:d,active:r})}function R(e){c[e]=this.parentNode.__origin__=o(e),j.attr("visibility","hidden")}function P(e){c[e]=Math.min(E,Math.max(0,this.parentNode.__origin__+=d3.event.x)),p.attr("d",y),s.sort(function(e,t){return S(e)-S(t)}),o.domain(s),v.attr("transform",function(e){return"translate("+S(e)+")"})}function H(e){delete this.parentNode.__origin__,delete c[e],d3.select(this.parentNode).attr("transform","translate("+o(e)+")"),p.attr("d",y),j.attr("d",y).attr("visibility",null)}function S(e){var t=c[e];return t??o(e)}}),i}return i.dispatch=a,i.options=e.utils.optionsFunc.bind(i),i._options=Object.create({},{width:{get:function(){return f},set:function(e){f=e}},height:{get:function(){return m},set:function(e){m=e}},dimensionNames:{get:function(){return s},set:function(e){s=e}},dimensionFormats:{get:function(){return u},set:function(e){u=e}},lineTension:{get:function(){return h},set:function(e){h=e}},dimensions:{get:function(){return s},set:function(t){e.deprecated("dimensions","use dimensionNames instead"),s=t}},margin:{get:function(){return t},set:function(e){t.top=e.top!==void 0?e.top:t.top,t.right=e.right!==void 0?e.right:t.right,t.bottom=e.bottom!==void 0?e.bottom:t.bottom,t.left=e.left!==void 0?e.left:t.left}},color:{get:function(){return l},set:function(t){l=e.utils.getColor(t)}}}),e.utils.initOptions(i),i},e.models.pie=function(){"use strict";var t={top:0,right:0,bottom:0,left:0},S=500,E=500,v=function(e){return e.x},g=function(e){return e.y},_=Math.floor(Math.random()*1e4),y=null,b=e.utils.defaultColor(),d=d3.format(",.2f"),O=!0,c=!1,f="key",C=.02,s=!1,p=!1,w=!0,x=0,u=!1,r=!1,j=!1,a=!1,h=0,m=.5,l=[],n=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),i=[],k=[],A=e.utils.renderWatch(n);function o(M){return A.reset(),M.each(function(o){var M,F,z,N,L,R,P,H,I,W,U,K,q,Y,G,X,Q,Z,J,V=S-t.left-t.right,$=E-t.top-t.bottom,T=Math.min(V,$)/2,D=[],B=[],ee;if(y=d3.select(this),l.length===0)for(J=T-T/5,X=m*T,M=0;M<o[0].length;M++)D.push(J),B.push(X);else D=l.map(function(e){return(e.outer-e.outer/5)*T}),B=l.map(function(e){return(e.inner-e.inner/5)*T}),m=d3.min(l.map(function(e){return e.inner-e.inner/5}));e.utils.initSVG(y),N=y.selectAll(".nv-wrap.nv-pie").data(o),Z=N.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+_),q=Z.append("g"),K=N.select("g"),Q=q.append("g").attr("class","nv-pie"),q.append("g").attr("class","nv-pieLabels"),N.attr("transform","translate("+t.left+","+t.top+")"),K.select(".nv-pie").attr("transform","translate("+V/2+","+$/2+")"),K.select(".nv-pieLabels").attr("transform","translate("+V/2+","+$/2+")"),y.on("click",function(e,t){n.chartClick({data:e,index:t,pos:d3.event,id:_})}),i=[],k=[];for(M=0;M<o[0].length;M++)L=d3.svg.arc().outerRadius(D[M]),P=d3.svg.arc().outerRadius(D[M]+5),r!==!1&&(L.startAngle(r),P.startAngle(r)),a!==!1&&(L.endAngle(a),P.endAngle(a)),s&&(L.innerRadius(B[M]),P.innerRadius(B[M])),L.cornerRadius&&h&&(L.cornerRadius(h),P.cornerRadius(h)),i.push(L),k.push(P);if(H=d3.layout.pie().sort(null).value(function(e){return e.disabled?0:g(e)}),H.padAngle&&j&&H.padAngle(j),s&&p&&(Q.append("text").attr("class","nv-pie-title"),N.select(".nv-pie-title").style("text-anchor","middle").text(function(){return p}).style("font-size",Math.min(V,$)*m*2/(p.length+2)+"px").attr("dy","0.35em").attr("transform",function(){return"translate(0, "+x+")"})),R=N.select(".nv-pie").selectAll(".nv-slice").data(H),I=N.select(".nv-pieLabels").selectAll(".nv-label").data(H),R.exit().remove(),I.exit().remove(),z=R.enter().append("g"),z.attr("class","nv-slice"),z.on("mouseover",function(e,t){d3.select(this).classed("hover",!0),w&&d3.select(this).select("path").transition().duration(70).attr("d",k[t]),n.elementMouseover({data:e.data,index:t,color:d3.select(this).style("fill")})}),z.on("mouseout",function(e,t){d3.select(this).classed("hover",!1),w&&d3.select(this).select("path").transition().duration(50).attr("d",i[t]),n.elementMouseout({data:e.data,index:t})}),z.on("mousemove",function(e,t){n.elementMousemove({data:e.data,index:t})}),z.on("click",function(e,t){n.elementClick({data:e.data,index:t,color:d3.select(this).style("fill")})}),z.on("dblclick",function(e,t){n.elementDblClick({data:e.data,index:t,color:d3.select(this).style("fill")})}),R.attr("fill",function(e,t){return b(e.data,t)}),R.attr("stroke",function(e,t){return b(e.data,t)}),ee=z.append("path").each(function(e){this._current=e}),R.select("path").transition().attr("d",function(e,t){return i[t](e)}).attrTween("d",te),O){for(F=[],M=0;M<o[0].length;M++)F.push(i[M]),c?s&&(F[M]=d3.svg.arc().outerRadius(i[M].outerRadius()),r!==!1&&F[M].startAngle(r),a!==!1&&F[M].endAngle(a)):s||F[M].innerRadius(0);I.enter().append("g").classed("nv-label",!0).each(function(e){var n=d3.select(this);n.attr("transform",function(e,t){if(u){e.outerRadius=D[t]+10,e.innerRadius=D[t]+15;var n=(e.startAngle+e.endAngle)/2*(180/Math.PI);return(e.startAngle+e.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+F[t].centroid(e)+") rotate("+n+")"}return e.outerRadius=T+10,e.innerRadius=T+15,"translate("+F[t].centroid(e)+")"}),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",u?(e.startAngle+e.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")}),G={},W=14,Y=140,U=function(e){return Math.floor(e[0]/Y)*Y+","+Math.floor(e[1]/W)*W},I.watchTransition(A,"pie labels").attr("transform",function(e,t){if(u){e.outerRadius=D[t]+10,e.innerRadius=D[t]+15;var n,o,s=(e.startAngle+e.endAngle)/2*(180/Math.PI);return(e.startAngle+e.endAngle)/2<Math.PI?s-=90:s+=90,"translate("+F[t].centroid(e)+") rotate("+s+")"}return e.outerRadius=T+10,e.innerRadius=T+15,n=F[t].centroid(e),e.value&&(o=U(n),G[o]&&(n[1]-=W),G[U(n)]=!0),"translate("+n+")"}),I.select(".nv-label text").style("text-anchor",function(e){return u?(e.startAngle+e.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(e,t){var s=(e.endAngle-e.startAngle)/(2*Math.PI),n="";if(!e.value||s<C)return"";if(typeof f=="function")n=f(e,t,{key:v(e.data),value:g(e.data),percent:d(s)});else switch(f){case"key":n=v(e.data);break;case"value":n=d(g(e.data));break;case"percent":n=d3.format("%")(s);break}return n})}function ne(e){var t=(e.startAngle+e.endAngle)*90/Math.PI-90;return t>90?t-180:t}function te(e,t){e.endAngle=isNaN(e.endAngle)?0:e.endAngle,e.startAngle=isNaN(e.startAngle)?0:e.startAngle,s||(e.innerRadius=0);var n=d3.interpolate(this._current,e);return this._current=n(0),function(e){return i[t](n(e))}}}),A.renderEnd("pie immediate"),o}return o.dispatch=n,o.options=e.utils.optionsFunc.bind(o),o._options=Object.create({},{arcsRadius:{get:function(){return l},set:function(e){l=e}},width:{get:function(){return S},set:function(e){S=e}},height:{get:function(){return E},set:function(e){E=e}},showLabels:{get:function(){return O},set:function(e){O=e}},title:{get:function(){return p},set:function(e){p=e}},titleOffset:{get:function(){return x},set:function(e){x=e}},labelThreshold:{get:function(){return C},set:function(e){C=e}},valueFormat:{get:function(){return d},set:function(e){d=e}},x:{get:function(){return v},set:function(e){v=e}},id:{get:function(){return _},set:function(e){_=e}},endAngle:{get:function(){return a},set:function(e){a=e}},startAngle:{get:function(){return r},set:function(e){r=e}},padAngle:{get:function(){return j},set:function(e){j=e}},cornerRadius:{get:function(){return h},set:function(e){h=e}},donutRatio:{get:function(){return m},set:function(e){m=e}},labelsOutside:{get:function(){return c},set:function(e){c=e}},labelSunbeamLayout:{get:function(){return u},set:function(e){u=e}},donut:{get:function(){return s},set:function(e){s=e}},growOnHover:{get:function(){return w},set:function(e){w=e}},pieLabelsOutside:{get:function(){return c},set:function(t){c=t,e.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return c},set:function(t){c=t,e.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return d},set:function(t){d=t,e.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return t},set:function(e){t.top=typeof e.top!="undefined"?e.top:t.top,t.right=typeof e.right!="undefined"?e.right:t.right,t.bottom=typeof e.bottom!="undefined"?e.bottom:t.bottom,t.left=typeof e.left!="undefined"?e.left:t.left}},y:{get:function(){return g},set:function(e){g=d3.functor(e)}},color:{get:function(){return b},set:function(t){b=e.utils.getColor(t)}},labelType:{get:function(){return f},set:function(e){f=e||"key"}}}),e.utils.initOptions(o),o},e.models.pieChart=function(){"use strict";var c,g,v,s=e.models.pie(),o=e.models.legend(),i=e.models.tooltip(),n={top:30,right:20,bottom:20,left:20},b=null,p=null,m=!0,d="top",u=e.utils.defaultColor(),a=e.utils.state(),r=null,f=null,h=250,l=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd");i.headerEnabled(!1).duration(0).valueFormatter(function(e,t){return s.valueFormat()(e,t)}),c=e.utils.renderWatch(l),g=function(e){return function(){return{active:e.map(function(e){return!e.disabled})}}},v=function(e){return function(t){t.active!==void 0&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};function t(i){return c.reset(),c.models(s),i.each(function(i){c=d3.select(this),e.utils.initSVG(c);var c,u,f,j,_,w,O,x=this,h=e.utils.availableWidth(b,c,n),y=e.utils.availableHeight(p,c,n);if(t.update=function(){c.transition().call(t)},t.container=this,a.setter(v(i),t.update).getter(g(i)).update(),a.disabled=i.map(function(e){return!!e.disabled}),!r){r={};for(f in a)a[f]instanceof Array?r[f]=a[f].slice(0):r[f]=a[f]}if(!i||!i.length)return e.utils.noData(t,c),t;c.selectAll(".nv-noData").remove(),u=c.selectAll("g.nv-wrap.nv-pieChart").data([i]),_=u.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),w=u.select("g"),_.append("g").attr("class","nv-pieWrap"),_.append("g").attr("class","nv-legendWrap"),m&&(d==="top"?(o.width(h).key(s.x()),u.select(".nv-legendWrap").datum(i).call(o),n.top!=o.height()&&(n.top=o.height(),y=e.utils.availableHeight(p,c,n)),u.select(".nv-legendWrap").attr("transform","translate(0,"+-n.top+")")):d==="right"&&(j=e.models.legend().width(),h/2<j&&(j=h/2),o.height(y).key(s.x()),o.width(j),h-=o.width(),u.select(".nv-legendWrap").datum(i).call(o).attr("transform","translate("+h+",0)"))),u.attr("transform","translate("+n.left+","+n.top+")"),s.width(h).height(y),O=w.select(".nv-pieWrap").datum([i]),d3.transition(O).call(s),o.dispatch.on("stateChange",function(e){for(var n in e)a[n]=e[n];l.stateChange(a),t.update()}),l.on("changeState",function(e){typeof e.disabled!="undefined"&&(i.forEach(function(t,n){t.disabled=e.disabled[n]}),a.disabled=e.disabled),t.update()})}),c.renderEnd("pieChart immediate"),t}return s.dispatch.on("elementMouseover.tooltip",function(e){e.series={key:t.x()(e.data),value:t.y()(e.data),color:e.color},i.data(e).hidden(!1)}),s.dispatch.on("elementMouseout.tooltip",function(){i.hidden(!0)}),s.dispatch.on("elementMousemove.tooltip",function(){i.position({top:d3.event.pageY,left:d3.event.pageX})()}),t.legend=o,t.dispatch=l,t.pie=s,t.tooltip=i,t.options=e.utils.optionsFunc.bind(t),t._options=Object.create({},{noData:{get:function(){return f},set:function(e){f=e}},showLegend:{get:function(){return m},set:function(e){m=e}},legendPosition:{get:function(){return d},set:function(e){d=e}},defaultState:{get:function(){return r},set:function(e){r=e}},tooltips:{get:function(){return i.enabled()},set:function(t){e.deprecated("tooltips","use chart.tooltip.enabled() instead"),i.enabled(!!t)}},tooltipContent:{get:function(){return i.contentGenerator()},set:function(t){e.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),i.contentGenerator(t)}},color:{get:function(){return u},set:function(e){u=e,o.color(u),s.color(u)}},duration:{get:function(){return h},set:function(e){h=e,c.reset(h)}},margin:{get:function(){return n},set:function(e){n.top=e.top!==void 0?e.top:n.top,n.right=e.right!==void 0?e.right:n.right,n.bottom=e.bottom!==void 0?e.bottom:n.bottom,n.left=e.left!==void 0?e.left:n.left}}}),e.utils.inheritOptions(t,s),e.utils.initOptions(t),t},e.models.scatter=function(){"use strict";var j,O,L,B,s={top:0,right:0,bottom:0,left:0},p=null,g=null,d=e.utils.defaultColor(),m=Math.floor(Math.random()*1e5),c=null,t=d3.scale.linear(),n=d3.scale.linear(),u=d3.scale.linear(),i=function(e){return e.x},a=function(e){return e.y},v=function(e){return e.size||1},_=function(e){return e.shape||"circle"},H=[],P=[],R=[],f=!0,w=function(e){return!e.notActive},N=!1,y=.1,M=!1,b=!0,D=!1,z=function(){return 25},C=null,E=null,k=null,T=null,S=null,F=null,I=!1,o=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),A=!0,x=250,l=!1,h=e.utils.renderWatch(o,x),V=[16,256];function r(x){return h.reset(),x.each(function(r){c=d3.select(this);var x,$,U,K,q,G,X,Q,W=e.utils.availableWidth(p,c,s),Y=e.utils.availableHeight(g,c,s);e.utils.initSVG(c),r.forEach(function(e,t){e.values.forEach(function(e){e.series=t})}),K=C&&E&&S?[]:d3.merge(r.map(function(e){return e.values.map(function(e,t){return{x:i(e,t),y:a(e,t),size:v(e,t)}})})),t.domain(C||d3.extent(K.map(function(e){return e.x}).concat(H))),N&&r[0]?t.range(k||[(W*y+W)/(2*r[0].values.length),W-W*(1+y)/(2*r[0].values.length)]):t.range(k||[0,W]),n.domain(E||d3.extent(K.map(function(e){return e.y}).concat(P))).range(T||[Y,0]),u.domain(S||d3.extent(K.map(function(e){return e.size}).concat(R))).range(F||V),I=t.domain()[0]===t.domain()[1]||n.domain()[0]===n.domain()[1],t.domain()[0]===t.domain()[1]&&(t.domain()[0]?t.domain([t.domain()[0]-t.domain()[0]*.01,t.domain()[1]+t.domain()[1]*.01]):t.domain([-1,1])),n.domain()[0]===n.domain()[1]&&(n.domain()[0]?n.domain([n.domain()[0]-n.domain()[0]*.01,n.domain()[1]+n.domain()[1]*.01]):n.domain([-1,1])),isNaN(t.domain()[0])&&t.domain([-1,1]),isNaN(n.domain()[0])&&n.domain([-1,1]),O=O||t,j=j||n,L=L||u,x=c.selectAll("g.nv-wrap.nv-scatter").data([r]),q=x.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+m),X=q.append("defs"),G=q.append("g"),Q=x.select("g"),x.classed("nv-single-point",I),G.append("g").attr("class","nv-groups"),G.append("g").attr("class","nv-point-paths"),q.append("g").attr("class","nv-point-clips"),x.attr("transform","translate("+s.left+","+s.top+")"),X.append("clipPath").attr("id","nv-edge-clip-"+m).append("rect"),x.select("#nv-edge-clip-"+m+" rect").attr("width",W).attr("height",Y>0?Y:0),Q.attr("clip-path",M?"url(#nv-edge-clip-"+m+")":"");function Z(){if(l=!1,!f)return!1;if(A===!0){var u,h,m,v,j,e=d3.merge(r.map(function(e,s){return e.values.map(function(e,o){var r=i(e,o),c=a(e,o);return[t(r)+Math.random()*1e-4,n(c)+Math.random()*1e-4,s,o,e]}).filter(function(e,t){return w(e[4],t)})}));if(e.length==0)return!1;e.length<3&&(e.push([t.range()[0]-20,n.range()[0]-20,null,null]),e.push([t.range()[1]+20,n.range()[1]+20,null,null]),e.push([t.range()[0]-20,n.range()[0]+20,null,null]),e.push([t.range()[1]+20,n.range()[1]-20,null,null])),m=d3.geom.polygon([[-10,-10],[-10,g+10],[p+10,g+10],[p+10,-10]]),v=d3.geom.voronoi(e).map(function(t,n){return{data:m.clip(t),series:e[n][2],point:e[n][3]}}),x.select(".nv-point-paths").selectAll("path").remove(),h=x.select(".nv-point-paths").selectAll("path").data(v),j=h.enter().append("svg:path").attr("d",function(e){return!e||!e.data||e.data.length===0?"M 0 0":"M"+e.data.join(",")+"Z"}).attr("id",function(e,t){return"nv-path-"+t}).attr("clip-path",function(e,t){return"url(#nv-clip-"+t+")"}),D&&j.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),b&&(x.select(".nv-point-clips").selectAll("clipPath").remove(),x.select(".nv-point-clips").selectAll("clipPath").data(e).enter().append("svg:clipPath").attr("id",function(e,t){return"nv-clip-"+t}).append("svg:circle").attr("cx",function(e){return e[0]}).attr("cy",function(e){return e[1]}).attr("r",z)),u=function(e,o){if(l)return 0;var u,m,f,p,g,h=r[e.series];if(h===void 0)return;u=h.values[e.point],u.color=d(h,e.series),u.x=i(u),u.y=a(u),m=c.node().getBoundingClientRect(),f=window.pageYOffset||document.documentElement.scrollTop,p=window.pageXOffset||document.documentElement.scrollLeft,g={left:t(i(u,e.point))+m.left+p+s.left+10,top:n(a(u,e.point))+m.top+f+s.top+10},o({point:u,series:h,pos:g,seriesIndex:e.series,pointIndex:e.point})},h.on("click",function(e){u(e,o.elementClick)}).on("dblclick",function(e){u(e,o.elementDblClick)}).on("mouseover",function(e){u(e,o.elementMouseover)}).on("mouseout",function(e){u(e,o.elementMouseout)})}else x.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(e,c){if(l||!r[e.series])return 0;var u=r[e.series],d=u.values[c];o.elementClick({point:d,series:u,pos:[t(i(d,c))+s.left,n(a(d,c))+s.top],seriesIndex:e.series,pointIndex:c})}).on("dblclick",function(e,c){if(l||!r[e.series])return 0;var u=r[e.series],d=u.values[c];o.elementDblClick({point:d,series:u,pos:[t(i(d,c))+s.left,n(a(d,c))+s.top],seriesIndex:e.series,pointIndex:c})}).on("mouseover",function(e,c){if(l||!r[e.series])return 0;var h=r[e.series],u=h.values[c];o.elementMouseover({point:u,series:h,pos:[t(i(u,c))+s.left,n(a(u,c))+s.top],seriesIndex:e.series,pointIndex:c,color:d(e,c)})}).on("mouseout",function(e,t){if(l||!r[e.series])return 0;var n=r[e.series],s=n.values[t];o.elementMouseout({point:s,series:n,seriesIndex:e.series,pointIndex:t,color:d(e,t)})})}l=!0,$=x.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e){return e.key}),$.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),$.exit().remove(),$.attr("class",function(e,t){return"nv-group nv-series-"+t}).classed("hover",function(e){return e.hover}),$.watchTransition(h,"scatter: groups").style("fill",function(e,t){return d(e,t)}).style("stroke",function(e,t){return d(e,t)}).style("stroke-opacity",1).style("fill-opacity",.5),U=$.selectAll("path.nv-point").data(function(e){return e.values.map(function(e,t){return[e,t]}).filter(function(e,t){return w(e[0],t)})}),U.enter().append("path").style("fill",function(e){return e.color}).style("stroke",function(e){return e.color}).attr("transform",function(e){return"translate("+O(i(e[0],e[1]))+","+j(a(e[0],e[1]))+")"}).attr("d",e.utils.symbol().type(function(e){return _(e[0])}).size(function(e){return u(v(e[0],e[1]))})),U.exit().remove(),$.exit().selectAll("path.nv-point").watchTransition(h,"scatter exit").attr("transform",function(e){return"translate("+t(i(e[0],e[1]))+","+n(a(e[0],e[1]))+")"}).remove(),U.each(function(e){d3.select(this).classed("nv-point",!0).classed("nv-point-"+e[1],!0).classed("nv-noninteractive",!f).classed("hover",!1)}),U.watchTransition(h,"scatter points").attr("transform",function(e){return"translate("+t(i(e[0],e[1]))+","+n(a(e[0],e[1]))+")"}).attr("d",e.utils.symbol().type(function(e){return _(e[0])}).size(function(e){return u(v(e[0],e[1]))})),clearTimeout(B),B=setTimeout(Z,300),O=t.copy(),j=n.copy(),L=u.copy()}),h.renderEnd("scatter immediate"),r}return r.dispatch=o,r.options=e.utils.optionsFunc.bind(r),r._calls=new function(){this.clearHighlights=function(){return e.dom.write(function(){c.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(t,n,s){e.dom.write(function(){c.select(" .nv-series-"+t+" .nv-point-"+n).classed("hover",s)})}},o.on("elementMouseover.point",function(e){f&&r._calls.highlightPoint(e.seriesIndex,e.pointIndex,!0)}),o.on("elementMouseout.point",function(e){f&&r._calls.highlightPoint(e.seriesIndex,e.pointIndex,!1)}),r._options=Object.create({},{width:{get:function(){return p},set:function(e){p=e}},height:{get:function(){return g},set:function(e){g=e}},xScale:{get:function(){return t},set:function(e){t=e}},yScale:{get:function(){return n},set:function(e){n=e}},pointScale:{get:function(){return u},set:function(e){u=e}},xDomain:{get:function(){return C},set:function(e){C=e}},yDomain:{get:function(){return E},set:function(e){E=e}},pointDomain:{get:function(){return S},set:function(e){S=e}},xRange:{get:function(){return k},set:function(e){k=e}},yRange:{get:function(){return T},set:function(e){T=e}},pointRange:{get:function(){return F},set:function(e){F=e}},forceX:{get:function(){return H},set:function(e){H=e}},forceY:{get:function(){return P},set:function(e){P=e}},forcePoint:{get:function(){return R},set:function(e){R=e}},interactive:{get:function(){return f},set:function(e){f=e}},pointActive:{get:function(){return w},set:function(e){w=e}},padDataOuter:{get:function(){return y},set:function(e){y=e}},padData:{get:function(){return N},set:function(e){N=e}},clipEdge:{get:function(){return M},set:function(e){M=e}},clipVoronoi:{get:function(){return b},set:function(e){b=e}},clipRadius:{get:function(){return z},set:function(e){z=e}},showVoronoi:{get:function(){return D},set:function(e){D=e}},id:{get:function(){return m},set:function(e){m=e}},x:{get:function(){return i},set:function(e){i=d3.functor(e)}},y:{get:function(){return a},set:function(e){a=d3.functor(e)}},pointSize:{get:function(){return v},set:function(e){v=d3.functor(e)}},pointShape:{get:function(){return _},set:function(e){_=d3.functor(e)}},margin:{get:function(){return s},set:function(e){s.top=e.top!==void 0?e.top:s.top,s.right=e.right!==void 0?e.right:s.right,s.bottom=e.bottom!==void 0?e.bottom:s.bottom,s.left=e.left!==void 0?e.left:s.left}},duration:{get:function(){return x},set:function(e){x=e,h.reset(x)}},color:{get:function(){return d},set:function(t){d=e.utils.getColor(t)}},useVoronoi:{get:function(){return A},set:function(e){A=e,A===!1&&(b=!1)}}}),e.utils.initOptions(r),r},e.models.scatterChart=function(){"use strict";var a,A,S,M,F,s=e.models.scatter(),g=e.models.axis(),f=e.models.axis(),m=e.models.legend(),h=e.models.distribution(),u=e.models.distribution(),i=e.models.tooltip(),n={top:30,right:20,bottom:50,left:75},C=null,w=null,o=null,c=e.utils.defaultColor(),l=s.xScale(),d=s.yScale(),_=!1,x=!1,E=!0,j=!0,y=!0,b=!1,r=e.utils.state(),p=null,O=d3.dispatch("stateChange","changeState","renderEnd"),k=null,v=250;s.xScale(l).yScale(d),g.orient("bottom").tickPadding(10),f.orient(b?"right":"left").tickPadding(10),h.axis("x"),u.axis("y"),i.headerFormatter(function(e,t){return g.tickFormat()(e,t)}).valueFormatter(function(e,t){return f.tickFormat()(e,t)}),a=e.utils.renderWatch(O,v),A=function(e){return function(){return{active:e.map(function(e){return!e.disabled})}}},S=function(e){return function(t){t.active!==void 0&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};function t(k){return a.reset(),a.models(s),j&&a.models(g),y&&a.models(f),_&&a.models(h),x&&a.models(u),k.each(function(k){V=this,o=d3.select(this),e.utils.initSVG(o);var T,z,L,R,P,H,I,B,V,D=e.utils.availableWidth(C,o,n),N=e.utils.availableHeight(w,o,n);if(t.update=function(){v===0?o.call(t):o.transition().duration(v).call(t)},t.container=this,r.setter(S(k),t.update).getter(A(k)).update(),r.disabled=k.map(function(e){return!!e.disabled}),!p){p={};for(L in r)r[L]instanceof Array?p[L]=r[L].slice(0):p[L]=r[L]}if(!k||!k.length||!k.filter(function(e){return e.values.length}).length)return e.utils.noData(t,o),a.renderEnd("scatter immediate"),t;o.selectAll(".nv-noData").remove(),l=s.xScale(),d=s.yScale(),z=o.selectAll("g.nv-wrap.nv-scatterChart").data([k]),I=z.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+s.id()),T=I.append("g"),R=z.select("g"),T.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),T.append("g").attr("class","nv-x nv-axis"),T.append("g").attr("class","nv-y nv-axis"),T.append("g").attr("class","nv-scatterWrap"),T.append("g").attr("class","nv-regressionLinesWrap"),T.append("g").attr("class","nv-distWrap"),T.append("g").attr("class","nv-legendWrap"),b&&R.select(".nv-y.nv-axis").attr("transform","translate("+D+",0)"),E&&(B=D,m.width(B),z.select(".nv-legendWrap").datum(k).call(m),n.top!=m.height()&&(n.top=m.height(),N=e.utils.availableHeight(w,o,n)),z.select(".nv-legendWrap").attr("transform","translate(0,"+-n.top+")")),z.attr("transform","translate("+n.left+","+n.top+")"),s.width(D).height(N).color(k.map(function(e,t){return e.color=e.color||c(e,t),e.color}).filter(function(e,t){return!k[t].disabled})),z.select(".nv-scatterWrap").datum(k.filter(function(e){return!e.disabled})).call(s),z.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+s.id()+")"),P=z.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(e){return e}),P.enter().append("g").attr("class","nv-regLines"),H=P.selectAll(".nv-regLine").data(function(e){return[e]}),H.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),H.filter(function(e){return e.intercept&&e.slope}).watchTransition(a,"scatterPlusLineChart: regline").attr("x1",l.range()[0]).attr("x2",l.range()[1]).attr("y1",function(e){return d(l.domain()[0]*e.slope+e.intercept)}).attr("y2",function(e){return d(l.domain()[1]*e.slope+e.intercept)}).style("stroke",function(e,t,n){return c(e,n)}).style("stroke-opacity",function(e){return e.disabled||typeof e.slope=="undefined"||typeof e.intercept=="undefined"?0:1}),j&&(g.scale(l)._ticks(e.utils.calcTicksX(D/100,k)).tickSize(-N,0),R.select(".nv-x.nv-axis").attr("transform","translate(0,"+d.range()[0]+")").call(g)),y&&(f.scale(d)._ticks(e.utils.calcTicksY(N/36,k)).tickSize(-D,0),R.select(".nv-y.nv-axis").call(f)),_&&(h.getData(s.x()).scale(l).width(D).color(k.map(function(e,t){return e.color||c(e,t)}).filter(function(e,t){return!k[t].disabled})),T.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),R.select(".nv-distributionX").attr("transform","translate(0,"+d.range()[0]+")").datum(k.filter(function(e){return!e.disabled})).call(h)),x&&(u.getData(s.y()).scale(d).width(N).color(k.map(function(e,t){return e.color||c(e,t)}).filter(function(e,t){return!k[t].disabled})),T.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),R.select(".nv-distributionY").attr("transform","translate("+(b?D:-u.size())+",0)").datum(k.filter(function(e){return!e.disabled})).call(u)),m.dispatch.on("stateChange",function(e){for(var n in e)r[n]=e[n];O.stateChange(r),t.update()}),O.on("changeState",function(e){typeof e.disabled!="undefined"&&(k.forEach(function(t,n){t.disabled=e.disabled[n]}),r.disabled=e.disabled),t.update()}),s.dispatch.on("elementMouseout.tooltip",function(e){i.hidden(!0),o.select(".nv-chart-"+s.id()+" .nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",0),o.select(".nv-chart-"+s.id()+" .nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",u.size())}),s.dispatch.on("elementMouseover.tooltip",function(e){o.select(".nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",e.pos.top-N-n.top),o.select(".nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",e.pos.left+h.size()-n.left),i.position(e.pos).data(e).hidden(!1)}),M=l.copy(),F=d.copy()}),a.renderEnd("scatter with line immediate"),t}return t.dispatch=O,t.scatter=s,t.legend=m,t.xAxis=g,t.yAxis=f,t.distX=h,t.distY=u,t.tooltip=i,t.options=e.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return C},set:function(e){C=e}},height:{get:function(){return w},set:function(e){w=e}},container:{get:function(){return o},set:function(e){o=e}},showDistX:{get:function(){return _},set:function(e){_=e}},showDistY:{get:function(){return x},set:function(e){x=e}},showLegend:{get:function(){return E},set:function(e){E=e}},showXAxis:{get:function(){return j},set:function(e){j=e}},showYAxis:{get:function(){return y},set:function(e){y=e}},defaultState:{get:function(){return p},set:function(e){p=e}},noData:{get:function(){return k},set:function(e){k=e}},duration:{get:function(){return v},set:function(e){v=e}},tooltips:{get:function(){return i.enabled()},set:function(t){e.deprecated("tooltips","use chart.tooltip.enabled() instead"),i.enabled(!!t)}},tooltipContent:{get:function(){return i.contentGenerator()},set:function(t){e.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),i.contentGenerator(t)}},tooltipXContent:{get:function(){return i.contentGenerator()},set:function(){e.deprecated("tooltipContent","This option is removed, put values into main tooltip.")}},tooltipYContent:{get:function(){return i.contentGenerator()},set:function(){e.deprecated("tooltipContent","This option is removed, put values into main tooltip.")}},margin:{get:function(){return n},set:function(e){n.top=e.top!==void 0?e.top:n.top,n.right=e.right!==void 0?e.right:n.right,n.bottom=e.bottom!==void 0?e.bottom:n.bottom,n.left=e.left!==void 0?e.left:n.left}},rightAlignYAxis:{get:function(){return b},set:function(e){b=e,f.orient(e?"right":"left")}},color:{get:function(){return c},set:function(t){c=e.utils.getColor(t),m.color(c),h.color(c),u.color(c)}}}),e.utils.inheritOptions(t,s),e.utils.initOptions(t),t},e.models.sparkline=function(){"use strict";var d,u,h,m,t={top:2,right:0,bottom:2,left:0},f=400,c=32,r=null,p=!0,a=d3.scale.linear(),n=d3.scale.linear(),i=function(e){return e.x},s=function(e){return e.y},l=e.utils.getColor(["#000"]);function o(p){return p.each(function(o){var p,g,v,b,_,w,j=f-t.left-t.right,y=c-t.top-t.bottom;r=d3.select(this),e.utils.initSVG(r),a.domain(d||d3.extent(o,i)).range(h||[0,j]),n.domain(u||d3.extent(o,s)).range(m||[y,0]),p=r.selectAll("g.nv-wrap.nv-sparkline").data([o]),b=p.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline"),_=b.append("g"),w=p.select("g"),p.attr("transform","translate("+t.left+","+t.top+")"),g=p.selectAll("path").data(function(e){return[e]}),g.enter().append("path"),g.exit().remove(),g.style("stroke",function(e,t){return e.color||l(e,t)}).attr("d",d3.svg.line().x(function(e,t){return a(i(e,t))}).y(function(e,t){return n(s(e,t))})),v=p.selectAll("circle.nv-point").data(function(e){t=e.map(function(e,t){return s(e,t)});function o(t){if(t!=-1){var n=e[t];return n.pointIndex=t,n}return null}var t,i=o(t.lastIndexOf(n.domain()[1])),a=o(t.indexOf(n.domain()[0])),r=o(t.length-1);return[a,i,r].filter(function(e){return e!=null})}),v.enter().append("circle"),v.exit().remove(),v.attr("cx",function(e){return a(i(e,e.pointIndex))}).attr("cy",function(e){return n(s(e,e.pointIndex))}).attr("r",2).attr("class",function(e){return i(e,e.pointIndex)==a.domain()[1]?"nv-point nv-currentValue":s(e,e.pointIndex)==n.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),o}return o.options=e.utils.optionsFunc.bind(o),o._options=Object.create({},{width:{get:function(){return f},set:function(e){f=e}},height:{get:function(){return c},set:function(e){c=e}},xDomain:{get:function(){return d},set:function(e){d=e}},yDomain:{get:function(){return u},set:function(e){u=e}},xRange:{get:function(){return h},set:function(e){h=e}},yRange:{get:function(){return m},set:function(e){m=e}},xScale:{get:function(){return a},set:function(e){a=e}},yScale:{get:function(){return n},set:function(e){n=e}},animate:{get:function(){return p},set:function(e){p=e}},x:{get:function(){return i},set:function(e){i=d3.functor(e)}},y:{get:function(){return s},set:function(e){s=d3.functor(e)}},margin:{get:function(){return t},set:function(e){t.top=e.top!==void 0?e.top:t.top,t.right=e.right!==void 0?e.right:t.right,t.bottom=e.bottom!==void 0?e.bottom:t.bottom,t.left=e.left!==void 0?e.left:t.left}},color:{get:function(){return l},set:function(t){l=e.utils.getColor(t)}}}),e.utils.initOptions(o),o},e.models.sparklinePlus=function(){"use strict";var l,f,n=e.models.sparkline(),t={top:15,right:100,bottom:10,left:50},m=null,h=null,o=[],r=!1,c=d3.format(",r"),a=d3.format(",.2f"),d=!0,u=!0,i=!1,p=null;function s(p){return p.each(function(p){g=d3.select(this),e.utils.initSVG(g);var g,v,b,j,y,O,x,C,E,w=e.utils.availableWidth(m,g,t),_=e.utils.availableHeight(h,g,t);if(s.update=function(){g.call(s)},s.container=this,!p||!p.length)return e.utils.noData(s,g),s;g.selectAll(".nv-noData").remove(),y=n.y()(p[p.length-1],p.length-1),l=n.xScale(),f=n.yScale(),j=g.selectAll("g.nv-wrap.nv-sparklineplus").data([p]),x=j.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus"),b=x.append("g"),v=j.select("g"),b.append("g").attr("class","nv-sparklineWrap"),b.append("g").attr("class","nv-valueWrap"),b.append("g").attr("class","nv-hoverArea"),j.attr("transform","translate("+t.left+","+t.top+")"),C=v.select(".nv-sparklineWrap"),n.width(w).height(_),C.call(n),d&&(E=v.select(".nv-valueWrap"),O=E.selectAll(".nv-currentValue").data([y]),O.enter().append("text").attr("class","nv-currentValue").attr("dx",i?-8:8).attr("dy",".9em").style("text-anchor",i?"end":"start"),O.attr("x",w+(i?t.right:0)).attr("y",u?function(e){return f(e)}:0).style("fill",n.color()(p[p.length-1],p.length-1)).text(a(y))),b.select(".nv-hoverArea").append("rect").on("mousemove",A).on("click",function(){r=!r}).on("mouseout",function(){o=[],k()}),v.select(".nv-hoverArea rect").attr("transform",function(){return"translate("+-t.left+","+-t.top+")"}).attr("width",w+t.left+t.right).attr("height",_+t.top);function k(){if(r)return;var e=v.selectAll(".nv-hoverValue").data(o),s=e.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);if(e.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),e.attr("transform",function(e){return"translate("+l(n.x()(p[e],e))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),!o.length)return;s.append("line").attr("x1",0).attr("y1",-t.top).attr("x2",0).attr("y2",_),s.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-t.top).attr("text-anchor","end").attr("dy",".9em"),v.select(".nv-hoverValue .nv-xValue").text(c(n.x()(p[o[0]],o[0]))),s.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-t.top).attr("text-anchor","start").attr("dy",".9em"),v.select(".nv-hoverValue .nv-yValue").text(a(n.y()(p[o[0]],o[0])))}function A(){if(r)return;var e=d3.mouse(this)[0]-t.left;function s(e,t){for(var o=Math.abs(n.x()(e[0],0)-t),i=0,s=0;s<e.length;s++)Math.abs(n.x()(e[s],s)-t)<o&&(o=Math.abs(n.x()(e[s],s)-t),i=s);return i}o=[s(p,Math.round(l.invert(e)))],k()}}),s}return s.sparkline=n,s.options=e.utils.optionsFunc.bind(s),s._options=Object.create({},{width:{get:function(){return m},set:function(e){m=e}},height:{get:function(){return h},set:function(e){h=e}},xTickFormat:{get:function(){return c},set:function(e){c=e}},yTickFormat:{get:function(){return a},set:function(e){a=e}},showLastValue:{get:function(){return d},set:function(e){d=e}},alignValue:{get:function(){return u},set:function(e){u=e}},rightAlignValue:{get:function(){return i},set:function(e){i=e}},noData:{get:function(){return p},set:function(e){p=e}},margin:{get:function(){return t},set:function(e){t.top=e.top!==void 0?e.top:t.top,t.right=e.right!==void 0?e.right:t.right,t.bottom=e.bottom!==void 0?e.bottom:t.bottom,t.left=e.left!==void 0?e.left:t.left}}}),e.utils.inheritOptions(s,n),e.utils.initOptions(s),s},e.models.stackedArea=function(){"use strict";var a,c,f,s={top:0,right:0,bottom:0,left:0},y=960,j=500,l=e.utils.defaultColor(),d=Math.floor(Math.random()*1e5),m=null,r=function(e){return e.x},h=function(e){return e.y},b="stack",v="zero",g="default",u="linear",p=!1,n=e.models.scatter(),i=250,o=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");n.pointSize(2.2).pointDomain([2.2,2.2]),a=e.utils.renderWatch(o,i);function t(i){return a.reset(),a.models(n),i.each(function(i){var b,_,w,O,x,C,E,A,S,M,F,k=y-s.left-s.right,T=j-s.top-s.bottom;m=d3.select(this),e.utils.initSVG(m),f=n.xScale(),c=n.yScale(),x=i,i.forEach(function(e,t){e.seriesIndex=t,e.values=e.values.map(function(e,n){return e.index=n,e.seriesIndex=t,e})}),A=i.filter(function(e){return!e.disabled}),i=d3.layout.stack().order(g).offset(v).values(function(e){return e.values}).x(r).y(h).out(function(e,t,n){e.display={y:n,y0:t}})(A),w=m.selectAll("g.nv-wrap.nv-stackedarea").data([i]),C=w.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),E=C.append("defs"),O=C.append("g"),b=w.select("g"),O.append("g").attr("class","nv-areaWrap"),O.append("g").attr("class","nv-scatterWrap"),w.attr("transform","translate("+s.left+","+s.top+")"),n.forceY().length==0&&n.forceY().push(0),n.width(k).height(T).x(r).y(function(e){return e.display.y+e.display.y0}).forceY([0]).color(i.map(function(e){return e.color||l(e,e.seriesIndex)})),S=b.select(".nv-scatterWrap").datum(i),S.call(n),E.append("clipPath").attr("id","nv-edge-clip-"+d).append("rect"),w.select("#nv-edge-clip-"+d+" rect").attr("width",k).attr("height",T),b.attr("clip-path",p?"url(#nv-edge-clip-"+d+")":""),M=d3.svg.area().x(function(e,t){return f(r(e,t))}).y0(function(e){return c(e.display.y0)}).y1(function(e){return c(e.display.y+e.display.y0)}).interpolate(u),F=d3.svg.area().x(function(e,t){return f(r(e,t))}).y0(function(e){return c(e.display.y0)}).y1(function(e){return c(e.display.y0)}),_=b.select(".nv-areaWrap").selectAll("path.nv-area").data(function(e){return e}),_.enter().append("path").attr("class",function(e,t){return"nv-area nv-area-"+t}).attr("d",function(e){return F(e.values,e.seriesIndex)}).on("mouseover",function(e){d3.select(this).classed("hover",!0),o.areaMouseover({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e.seriesIndex})}).on("mouseout",function(e){d3.select(this).classed("hover",!1),o.areaMouseout({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e.seriesIndex})}).on("click",function(e){d3.select(this).classed("hover",!1),o.areaClick({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e.seriesIndex})}),_.exit().remove(),_.style("fill",function(e){return e.color||l(e,e.seriesIndex)}).style("stroke",function(e){return e.color||l(e,e.seriesIndex)}),_.watchTransition(a,"stackedArea path").attr("d",function(e,t){return M(e.values,t)}),n.dispatch.on("elementMouseover.area",function(e){b.select(".nv-chart-"+d+" .nv-area-"+e.seriesIndex).classed("hover",!0)}),n.dispatch.on("elementMouseout.area",function(e){b.select(".nv-chart-"+d+" .nv-area-"+e.seriesIndex).classed("hover",!1)}),t.d3_stackedOffset_stackPercent=function(e){var t,n,s,o=e.length,i=e[0].length,a=[];for(n=0;n<i;++n){for(t=0,s=0;t<x.length;t++)s+=h(x[t].values[n]);if(s)for(t=0;t<o;t++)e[t][n][1]/=s;else for(t=0;t<o;t++)e[t][n][1]=0}for(n=0;n<i;++n)a[n]=0;return a}}),a.renderEnd("stackedArea immediate"),t}return t.dispatch=o,t.scatter=n,n.dispatch.on("elementClick",function(){o.elementClick.apply(this,arguments)}),n.dispatch.on("elementMouseover",function(){o.elementMouseover.apply(this,arguments)}),n.dispatch.on("elementMouseout",function(){o.elementMouseout.apply(this,arguments)}),t.interpolate=function(e){return arguments.length?(u=e,t):u},t.duration=function(e){return arguments.length?(i=e,a.reset(i),n.duration(i),t):i},t.dispatch=o,t.scatter=n,t.options=e.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return y},set:function(e){y=e}},height:{get:function(){return j},set:function(e){j=e}},clipEdge:{get:function(){return p},set:function(e){p=e}},offset:{get:function(){return v},set:function(e){v=e}},order:{get:function(){return g},set:function(e){g=e}},interpolate:{get:function(){return u},set:function(e){u=e}},x:{get:function(){return r},set:function(e){r=d3.functor(e)}},y:{get:function(){return h},set:function(e){h=d3.functor(e)}},margin:{get:function(){return s},set:function(e){s.top=e.top!==void 0?e.top:s.top,s.right=e.right!==void 0?e.right:s.right,s.bottom=e.bottom!==void 0?e.bottom:s.bottom,s.left=e.left!==void 0?e.left:s.left}},color:{get:function(){return l},set:function(t){l=e.utils.getColor(t)}},style:{get:function(){return b},set:function(e){switch(b=e,b){case"stack":t.offset("zero"),t.order("default");break;case"stream":t.offset("wiggle"),t.order("inside-out");break;case"stream-center":t.offset("silhouette"),t.order("inside-out");break;case"expand":t.offset("expand"),t.order("default");break;case"stack_percent":t.offset(t.d3_stackedOffset_stackPercent),t.order("default");break}}},duration:{get:function(){return i},set:function(e){i=e,a.reset(i),n.duration(i)}}}),e.utils.inheritOptions(t,n),e.utils.initOptions(t),t},e.models.stackedAreaChart=function(){"use strict";var m,f,v,k,S,M,z,D,N,n=e.models.stackedArea(),a=e.models.axis(),i=e.models.axis(),r=e.models.legend(),h=e.models.legend(),c=e.interactiveGuideline(),l=e.models.tooltip(),s={top:30,right:25,bottom:50,left:60},C=null,j=null,y=e.utils.defaultColor(),x=!0,F=!0,w=!0,_=!0,b=!1,A=!1,o=e.utils.state(),g=null,T=null,d=d3.dispatch("stateChange","changeState","renderEnd"),E=250,O=["Stacked","Stream","Expanded"],p={},u=250;o.style=n.style(),a.orient("bottom").tickPadding(7),i.orient(b?"right":"left"),l.headerFormatter(function(e,t){return a.tickFormat()(e,t)}).valueFormatter(function(e,t){return i.tickFormat()(e,t)}),c.tooltip.headerFormatter(function(e,t){return a.tickFormat()(e,t)}).valueFormatter(function(e,t){return i.tickFormat()(e,t)}),v=null,f=null,h.updateState(!1),m=e.utils.renderWatch(d),S=n.style(),D=function(e){return function(){return{active:e.map(function(e){return!e.disabled}),style:n.style()}}},N=function(e){return function(t){t.style!==void 0&&(S=t.style),t.active!==void 0&&e.forEach(function(e,n){e.disabled=!t.active[n]})}},M=d3.format("%");function t(l){return m.reset(),m.models(n),w&&m.models(a),_&&m.models(i),l.each(function(l){var m,L,R,P,H,I,B,V,$,W,U,T=d3.select(this),K=this;if(e.utils.initSVG(T),L=e.utils.availableWidth(C,T,s),R=e.utils.availableHeight(j,T,s),t.update=function(){T.transition().duration(u).call(t)},t.container=this,o.setter(N(l),t.update).getter(D(l)).update(),o.disabled=l.map(function(e){return!!e.disabled}),!g){g={};for(H in o)o[H]instanceof Array?g[H]=o[H].slice(0):g[H]=o[H]}if(!l||!l.length||!l.filter(function(e){return e.values.length}).length)return e.utils.noData(t,T),t;T.selectAll(".nv-noData").remove(),k=n.xScale(),z=n.yScale(),B=T.selectAll("g.nv-wrap.nv-stackedAreaChart").data([l]),P=B.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),m=B.select("g"),P.append("rect").style("opacity",0),P.append("g").attr("class","nv-x nv-axis"),P.append("g").attr("class","nv-y nv-axis"),P.append("g").attr("class","nv-stackedWrap"),P.append("g").attr("class","nv-legendWrap"),P.append("g").attr("class","nv-controlsWrap"),P.append("g").attr("class","nv-interactive"),m.select("rect").attr("width",L).attr("height",R),F&&(V=x?L-E:L,r.width(V),m.select(".nv-legendWrap").datum(l).call(r),s.top!=r.height()&&(s.top=r.height(),R=e.utils.availableHeight(j,T,s)),m.select(".nv-legendWrap").attr("transform","translate("+(L-V)+","+-s.top+")")),x&&(I=[{key:p.stacked||"Stacked",metaKey:"Stacked",disabled:n.style()!="stack",style:"stack"},{key:p.stream||"Stream",metaKey:"Stream",disabled:n.style()!="stream",style:"stream"},{key:p.expanded||"Expanded",metaKey:"Expanded",disabled:n.style()!="expand",style:"expand"},{key:p.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:n.style()!="stack_percent",style:"stack_percent"}],E=O.length/3*260,I=I.filter(function(e){return O.indexOf(e.metaKey)!==-1}),h.width(E).color(["#444","#444","#444"]),m.select(".nv-controlsWrap").datum(I).call(h),s.top!=Math.max(h.height(),r.height())&&(s.top=Math.max(h.height(),r.height()),R=e.utils.availableHeight(j,T,s)),m.select(".nv-controlsWrap").attr("transform","translate(0,"+-s.top+")")),B.attr("transform","translate("+s.left+","+s.top+")"),b&&m.select(".nv-y.nv-axis").attr("transform","translate("+L+",0)"),A&&(c.width(L).height(R).margin({left:s.left,top:s.top}).svgContainer(T).xScale(k),B.select(".nv-interactive").call(c)),n.width(L).height(R),U=m.select(".nv-stackedWrap").datum(l),U.transition().call(n),w&&(a.scale(k)._ticks(e.utils.calcTicksX(L/100,l)).tickSize(-R,0),m.select(".nv-x.nv-axis").attr("transform","translate(0,"+R+")"),m.select(".nv-x.nv-axis").transition().duration(0).call(a)),_&&(n.offset()==="wiggle"?$=0:$=e.utils.calcTicksY(R/36,l),i.scale(z)._ticks($).tickSize(-L,0),n.style()==="expand"||n.style()==="stack_percent"?(W=i.tickFormat(),(!v||W!==M)&&(v=W),i.tickFormat(M)):v&&(i.tickFormat(v),v=null),m.select(".nv-y.nv-axis").transition().duration(0).call(i)),n.dispatch.on("areaClick.toggle",function(e){l.filter(function(e){return!e.disabled}).length===1?l.forEach(function(e){e.disabled=!1}):l.forEach(function(t,n){t.disabled=n!=e.seriesIndex}),o.disabled=l.map(function(e){return!!e.disabled}),d.stateChange(o),t.update()}),r.dispatch.on("stateChange",function(e){for(var n in e)o[n]=e[n];d.stateChange(o),t.update()}),h.dispatch.on("legendClick",function(e){if(!e.disabled)return;I=I.map(function(e){return e.disabled=!0,e}),e.disabled=!1,n.style(e.style),o.style=n.style(),d.stateChange(o),t.update()}),c.dispatch.on("elementMousemove",function(o){if(n.clearHighlights(),r=[],l.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(s,a){i=e.interactiveBisect(s.values,o.pointXValue,t.x());var l,c=s.values[i],d=t.y()(c,i);if(d!=null&&n.highlightPoint(a,i,!0),typeof c=="undefined")return;typeof m=="undefined"&&(m=c),typeof u=="undefined"&&(u=t.xScale()(t.x()(c,i))),l=n.style()=="expand"?c.display.y:t.y()(c,i),r.push({key:s.key,value:l,color:y(s,s.seriesIndex),stackedValue:c.display})}),r.reverse(),r.length>2){var i,r,d,u,m,g,h=t.yScale().invert(o.mouseY),v=1/0,p=null;r.forEach(function(e,t){h=Math.abs(h);var n=Math.abs(e.stackedValue.y0),s=Math.abs(e.stackedValue.y);if(h>=n&&h<=s+n){p=t;return}}),p!=null&&(r[p].highlight=!0)}g=a.tickFormat()(t.x()(m,i)),d=c.tooltip.valueFormatter(),n.style()==="expand"||n.style()==="stack_percent"?(f||(f=d),d=d3.format(".1%")):f&&(d=f,f=null),c.tooltip.position({left:u+s.left,top:o.mouseY+s.top}).chartContainer(K.parentNode).valueFormatter(d).data({value:g,series:r})(),c.renderGuideLine(u)}),c.dispatch.on("elementMouseout",function(){n.clearHighlights()}),d.on("changeState",function(e){typeof e.disabled!="undefined"&&l.length===e.disabled.length&&(l.forEach(function(t,n){t.disabled=e.disabled[n]}),o.disabled=e.disabled),typeof e.style!="undefined"&&(n.style(e.style),S=e.style),t.update()})}),m.renderEnd("stacked Area chart immediate"),t}return n.dispatch.on("elementMouseover.tooltip",function(e){e.point.x=n.x()(e.point),e.point.y=n.y()(e.point),l.data(e).position(e.pos).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(){l.hidden(!0)}),t.dispatch=d,t.stacked=n,t.legend=r,t.controls=h,t.xAxis=a,t.yAxis=i,t.interactiveLayer=c,t.tooltip=l,t.dispatch=d,t.options=e.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return C},set:function(e){C=e}},height:{get:function(){return j},set:function(e){j=e}},showLegend:{get:function(){return F},set:function(e){F=e}},showXAxis:{get:function(){return w},set:function(e){w=e}},showYAxis:{get:function(){return _},set:function(e){_=e}},defaultState:{get:function(){return g},set:function(e){g=e}},noData:{get:function(){return T},set:function(e){T=e}},showControls:{get:function(){return x},set:function(e){x=e}},controlLabels:{get:function(){return p},set:function(e){p=e}},controlOptions:{get:function(){return O},set:function(e){O=e}},tooltips:{get:function(){return l.enabled()},set:function(t){e.deprecated("tooltips","use chart.tooltip.enabled() instead"),l.enabled(!!t)}},tooltipContent:{get:function(){return l.contentGenerator()},set:function(t){e.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),l.contentGenerator(t)}},margin:{get:function(){return s},set:function(e){s.top=e.top!==void 0?e.top:s.top,s.right=e.right!==void 0?e.right:s.right,s.bottom=e.bottom!==void 0?e.bottom:s.bottom,s.left=e.left!==void 0?e.left:s.left}},duration:{get:function(){return u},set:function(e){u=e,m.reset(u),n.duration(u),a.duration(u),i.duration(u)}},color:{get:function(){return y},set:function(t){y=e.utils.getColor(t),r.color(y),n.color(y)}},rightAlignYAxis:{get:function(){return b},set:function(e){b=e,i.orient(b?"right":"left")}},useInteractiveGuideline:{get:function(){return A},set:function(e){A=!!e,t.interactive(!e),t.useVoronoi(!e),n.scatter.interactive(!e)}}}),e.utils.inheritOptions(t,n),e.utils.initOptions(t),t},e.models.sunburst=function(){"use strict";var n,m,v,t={top:0,right:0,bottom:0,left:0},p=null,f=null,u="count",g={count:function(){return 1},size:function(e){return e.size}},c=Math.floor(Math.random()*1e4),i=null,h=e.utils.defaultColor(),l=500,o=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),a=d3.scale.linear().range([0,2*Math.PI]),r=d3.scale.sqrt(),j=d3.layout.partition().sort(null).value(function(){return 1}),d=d3.svg.arc().startAngle(function(e){return Math.max(0,Math.min(2*Math.PI,a(e.x)))}).endAngle(function(e){return Math.max(0,Math.min(2*Math.PI,a(e.x+e.dx)))}).innerRadius(function(e){return Math.max(0,r(e.y))}).outerRadius(function(e){return Math.max(0,r(e.y+e.dy))}),b=e.utils.renderWatch(o);function s(y){return b.reset(),y.each(function(s){i=d3.select(this);var b,y,x,C,_=e.utils.availableWidth(p,i,t),w=e.utils.availableHeight(f,i,t),O=Math.min(_,w)/2;e.utils.initSVG(i),y=i.selectAll(".nv-wrap.nv-sunburst").data(s),x=y.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+c),C=x.selectAll("nv-sunburst"),y.attr("transform","translate("+_/2+","+w/2+")"),i.on("click",function(e,t){o.chartClick({data:e,index:t,pos:d3.event,id:c})}),r.range([0,O]),n=n||s,v=s[0],j.value(g[u]||g.count),b=C.data(j.nodes).enter().append("path").attr("d",d).style("fill",function(e){return h((e.children?e:e.parent).name)}).style("stroke","#FFF").on("click",function(e){m!==n&&n!==e&&(m=n),n=e,b.transition().duration(l).attrTween("d",k(e))}).each(E).on("dblclick",function(e){m.parent==e&&b.transition().duration(l).attrTween("d",k(v))}).each(E).on("mouseover",function(e){d3.select(this).classed("hover",!0).style("opacity",.8),o.elementMouseover({data:e,color:d3.select(this).style("fill")})}).on("mouseout",function(e){d3.select(this).classed("hover",!1).style("opacity",1),o.elementMouseout({data:e})}).on("mousemove",function(e){o.elementMousemove({data:e})});function E(e){e.x0=e.x,e.dx0=e.dx}function A(e,t){var o,i=d3.interpolate({x:e.x0,dx:e.dx0},e);function s(t){var n=i(t);return e.x0=n.x,e.dx0=n.dx,d(n)}return t==0?(o=d3.interpolate(a.domain(),[n.x,n.x+n.dx]),function(e){return a.domain(o(e)),s(e)}):s}function k(e){var t=d3.interpolate(a.domain(),[e.x,e.x+e.dx]),n=d3.interpolate(r.domain(),[e.y,1]),s=d3.interpolate(r.range(),[e.y?20:0,O]);return function(e,o){return o?function(){return d(e)}:function(o){return a.domain(t(o)),r.domain(n(o)).range(s(o)),d(e)}}}}),b.renderEnd("sunburst immediate"),s}return s.dispatch=o,s.options=e.utils.optionsFunc.bind(s),s._options=Object.create({},{width:{get:function(){return p},set:function(e){p=e}},height:{get:function(){return f},set:function(e){f=e}},mode:{get:function(){return u},set:function(e){u=e}},id:{get:function(){return c},set:function(e){c=e}},duration:{get:function(){return l},set:function(e){l=e}},margin:{get:function(){return t},set:function(e){t.top=e.top!=void 0?e.top:t.top,t.right=e.right!=void 0?e.right:t.right,t.bottom=e.bottom!=void 0?e.bottom:t.bottom,t.left=e.left!=void 0?e.left:t.left}},color:{get:function(){return h},set:function(t){h=e.utils.getColor(t)}}}),e.utils.initOptions(s),s},e.models.sunburstChart=function(){"use strict";var s=e.models.sunburst(),i=e.models.tooltip(),n={top:30,right:20,bottom:20,left:20},u=null,h=null,r=e.utils.defaultColor(),m=Math.round(Math.random()*1e5),l=null,d=null,o=250,c=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),a=e.utils.renderWatch(c);i.headerEnabled(!1).duration(0).valueFormatter(function(e){return e});function t(i){return a.reset(),a.models(s),i.each(function(i){a=d3.select(this),e.utils.initSVG(a);var a,r,c,l,d,p=this,m=e.utils.availableWidth(u,a,n),f=e.utils.availableHeight(h,a,n);if(t.update=function(){o===0?a.call(t):a.transition().duration(o).call(t)},t.container=this,!i||!i.length)return e.utils.noData(t,a),t;a.selectAll(".nv-noData").remove(),r=a.selectAll("g.nv-wrap.nv-sunburstChart").data(i),c=r.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburstChart").append("g"),l=r.select("g"),c.append("g").attr("class","nv-sunburstWrap"),r.attr("transform","translate("+n.left+","+n.top+")"),s.width(m).height(f),d=l.select(".nv-sunburstWrap").datum(i),d3.transition(d).call(s)}),a.renderEnd("sunburstChart immediate"),t}return s.dispatch.on("elementMouseover.tooltip",function(e){e.series={key:e.data.name,value:e.data.size,color:e.color},i.data(e).hidden(!1)}),s.dispatch.on("elementMouseout.tooltip",function(){i.hidden(!0)}),s.dispatch.on("elementMousemove.tooltip",function(){i.position({top:d3.event.pageY,left:d3.event.pageX})()}),t.dispatch=c,t.sunburst=s,t.tooltip=i,t.options=e.utils.optionsFunc.bind(t),t._options=Object.create({},{noData:{get:function(){return d},set:function(e){d=e}},defaultState:{get:function(){return l},set:function(e){l=e}},color:{get:function(){return r},set:function(e){r=e,s.color(r)}},duration:{get:function(){return o},set:function(e){o=e,a.reset(o),s.duration(o)}},margin:{get:function(){return n},set:function(e){n.top=e.top!==void 0?e.top:n.top,n.right=e.right!==void 0?e.right:n.right,n.bottom=e.bottom!==void 0?e.bottom:n.bottom,n.left=e.left!==void 0?e.left:n.left}}}),e.utils.inheritOptions(t,s),e.utils.initOptions(t),t},e.version="1.8.1"})()